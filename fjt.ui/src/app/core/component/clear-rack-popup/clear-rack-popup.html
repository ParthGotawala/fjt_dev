<md-dialog aria-label="Clear Popup" draggable cg-busy="{promise:vm.cgBusyLoading}" class="cm-component-detail cm-custom-label-common" flex="80">
  <form name="vm.ClearForm" novalidate class="md-inline-form">
    <md-toolbar ng-class="vm.themeClass">
      <div class="md-toolbar-tools">
        <h2>{{vm.LabelConstant.RACK_MST.ClearRack}}</h2>
        <span flex></span>
        <popup-header-label label-data="vm.headerdata"></popup-header-label>
        <md-button class="md-icon-button" ng-click="vm.cancel()">
          <md-icon role="img" md-font-icon="icon-close" class="material-icons mat-icon icon-close"></md-icon>
        </md-button>
      </div>
    </md-toolbar>
    <md-dialog-content class="customer-modal no-padding" layout="column">
      <md-content class="md-padding">
        <div layout="row" class="margin-vertical-5" layout-wrap>
          <div flex="100" layout="row">
            <div class="cm-section-main margin-right-5" flex="100" layout="row">
              <div class="cm-section-inner" flex="100" layout="column">
                <div flex="100" layout="column">
                  <table cellspacing="0" cellpadding="0" class="cm-table-input-main">
                    <tbody>
                      <tr>
                        <th>
                          <p class="label-container">
                            <a tabindex="-1" class="cm-text-decoration underline"
                               ng-mousedown="vm.gotoRack();$event.preventDefault();">
                              Scan Rack
                            </a>
                            <scan-or-enter></scan-or-enter>
                          </p>
                        </th>
                        <td class="width-300">
                          <md-input-container class="margin-bottom-0 md-block margin-top-0 scan-label-text">
                            <input type="text" id="racknumber" name="racknumber" ng-maxlength="10" capitalize
                                   placeholder="Scan Rack#" md-select-on-focus md-autofocus class="input-text-uppercase"
                                   ng-keypress="vm.scanRackLabel($event)"
                                   ng-model="vm.clearRackDet.racknumber">
                            <md-button ng-if="vm.clearRackDet.racknumber" class="md-icon-button height-20 width-20 line-height-20 cm-part-filter-clear-btn margin-top-3"
                                       ng-click="vm.clearRack()">
                              <md-icon role="img" md-font-icon="icon-close" class="material-icons mat-icon icon-close  color-black"></md-icon>
                            </md-button>
                            <span flex="100" class="font-size-10">
                              <b>{{vm.LabelConstant.ScanOREnter.ScanRack}}</b>
                            </span>
                            <div ng-messages="vm.ClearForm.racknumber.$error"
                                 role="alert">
                              <div ng-message="maxlength">
                                <span>{{vm.getMaxLengthValidation(10,vm.ClearForm.racknumber.$viewValue.length)}}</span>
                              </div>
                            </div>
                          </md-input-container>
                        </td>
                        <td class="width-180">
                          <md-button class="md-primary md-raised margin-top-0" id="clearRack" name="clearRack"
                                     ng-click="vm.clearScanRack()" ng-disabled="!vm.clearRackDet.racknumber">
                            Clear Rack
                          </md-button>
                        </td>
                        <td>
                        </td>
                      </tr>
                      <tr ng-if="vm.currentOperation">
                        <th>
                          <p class="label-container">{{vm.LabelConstant.RACK_MST.CurrentWO}}:</p>
                        </th>
                        <td class="padding-top-3 font-size-15-imp">
                          <b>{{vm.currentWoorkorder}}</b>
                        </td>
                        <th>
                          <p class="label-container">{{vm.LabelConstant.RACK_MST.CurrentOP}}:</p>
                        </th>
                        <td class="padding-top-2 font-size-15-imp width-440">
                          <b>{{vm.currentOperation}}</b>
                        </td>
                        <th>
                          <p class="label-container">{{vm.LabelConstant.RACK_MST.OperationStatus}}:</p>
                        </th>
                        <td class="padding-top-3 font-size-15-imp">
                          <b>{{vm.currentrackStatus?'Completed':'WIP'}}</b>
                        </td>
                        <th>
                          <p class="label-container">{{vm.LabelConstant.RACK_MST.AssyStatus}}:</p>
                        </th>
                        <td class="padding-top-3 font-size-15-imp">
                          <b>{{vm.currentrackStatus}}</b>
                        </td>
                        <th>
                          <p class="label-container">User ID:</p>
                        </th>
                        <td class=" padding-top-3 font-size-15-imp">
                          <b>{{vm.currentUserName}}</b>
                        </td>
                      </tr>
                    </tbody>
                  </table>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div layout="row" flex>
          <div flex="100" layout="column">
            <div class="cm-section-main margin-right-5" flex layout="column">
              <div class="cm-section-inner" flex layout="column">
                <clear-rack-grid flex layout="column" wo-op-id="vm.rackObj.woOPID" operation-name="vm.opname"></clear-rack-grid>
              </div>
            </div>
          </div>
        </div>
      </md-content>
    </md-dialog-content>

    <md-dialog-actions layout="row">
      <md-button class="md-default md-raised" ng-click="vm.cancel()">Cancel</md-button>
    </md-dialog-actions>
  </form>
</md-dialog>
