<md-dialog aria-label="Add MFG Code" flex="90" cg-busy="{promise:vm.cgBusyLoading}" draggable>
    <form name="vm.genericAliasForm" class="md-inline-form" novalidate>
        <md-button id="btnRequireColValidation" type="submit" ng-hide="true"></md-button>
        <md-toolbar>
            <div class="md-toolbar-tools">
                <h2>{{vm.title}}</h2>
                <span flex></span>
                <md-button class="md-icon-button" ng-click="vm.cancel()">
                    <md-icon role="img" md-font-icon="icon-close" class="material-icons mat-icon icon-close"></md-icon>
                </md-button>
            </div>
        </md-toolbar>
        <md-dialog-content class="customer-modal no-padding cm-custom-label-common margin-vertical-5 min-width-auto-600" layout="column">
            <md-content class="md-padding">
                <div class="padding-10" layout="row" flex="100" layout-md="column" layout-sm="column" layout-xs="column" >
                    <div flex="45" layout="column" flex-md="100" flex-sm="100" flex-xs="100">
                        <div class="cm-section-main border-0" flex="nogrow">
                            <div class="cm-section-inner" flex="100">
                                <table cellspacing="0" cellpadding="0" class="cm-table-input-main">
                                    <tr>
                                        <th>
                                            <p class="label-container">{{vm.searchType}}<span>&nbsp;*</span></p>
                                        </th>
                                        <td colspan="3">
                                            <md-input-container flex="100" ng-if="vm.autoCompleteAlias" class="autocompletecustom margin-top-0" custom-auto-focus="true" md-no-float>
                                                <custom-auto-complete datalist="vm.tableAliasList"
                                                                      column-name="vm.autoCompleteAlias.columnName"
                                                                      controller-name="vm.autoCompleteAlias.controllerName"
                                                                      view-template-url="vm.autoCompleteAlias.viewTemplateURL"
                                                                      key-column-name="vm.autoCompleteAlias.keyColumnName"
                                                                      input-name="vm.autoCompleteAlias.inputName"
                                                                      placeholder-name="vm.autoCompleteAlias.placeholderName"
                                                                      key-column-id="vm.autoCompleteAlias.keyColumnId"
                                                                      is-required="vm.autoCompleteAlias.isRequired"
                                                                      is-addnew="vm.autoCompleteAlias.isAddnew"
                                                                      callback-fn="vm.autoCompleteAlias.callbackFn"
                                                                      is-disabled="vm.autoCompleteAlias.isDisabled"
                                                                      on-select-callback-fn="vm.autoCompleteAlias.onSelectCallbackFn">
                                            </md-input-container>
                                        </td>
                                    </tr>
                                    <tr>
                                        <th><p class="label-container">Alias</p></th>
                                        <td colspan="3">
                                            <div layout="row" flex>
                                                <md-input-container class="margin-bottom-0 md-block margin-top-0" flex="100" md-no-float>
                                                    <input type="text" name="genericalias" ng-model="vm.alias" ng-if="!vm.genericAliasModel.isAliasSmallLetter"
                                                           placeholder="Alias" capitalize class="input-text-uppercase" custom-auto-focus="true" ng-maxlength="255" my-enter="vm.updateAliasList($event, vm.alias)">
                                                    <input type="text" name="genericalias" ng-model="vm.alias" ng-if="vm.genericAliasModel.isAliasSmallLetter"
                                                           placeholder="Alias" custom-auto-focus="true" ng-maxlength="255" my-enter="vm.updateAliasList($event, vm.alias)">
                                                    <div ng-messages="vm.genericAliasForm.genericalias.$error"
                                                         role="alert">
                                                        <div ng-message="maxlength">
                                                            <span>{{vm.getMaxLengthValidation(255, vm.genericAliasForm.genericalias.$viewValue.length)}}</span>
                                                        </div>
                                                    </div>

                                                </md-input-container>
                                                <div>
                                                    <md-button class="md-primary md-raised margin-0" ng-disabled="vm.genericAliasModel.refId != null ? vm.alias ? false : true : true "
                                                               ng-click="vm.updateAliasList($event, vm.alias);" aria-label="Add">Add Alias</md-button>
                                                </div>
                                            </div>
                                        </td>
                                    </tr>
                                </table>
                            </div>
                        </div>
                        <div layout="row" flex="noshrink">
                            <div layout="column" flex>
                                <div layout="column" class="cm-common-line common-alias-list-main cm-manufacture-alias-list" flex>
                                    <div class="mobilesearch title alias-list-title userpermissionhead" layout="row" flex="100" layout-align="space-between center">
                                        <md-input-container class="md-block error-none no-label" md-no-float flex flex-xs="75">
                                            <input type="text" class="font-weight-400" placeholder="Type here to search alias" ng-model="vm.Search">
                                        </md-input-container>
                                        <md-button class="md-raised md-primary md-ink-ripple margin-0" 
                                            ng-disabled="vm.Search =='' || vm.Search ==null "
                                            ng-click="vm.Search=''">
                                            Clear
                                        </md-button>
                                        <!--<md-button class="md-icon-button toolbar-button" ng-show="(vm.Search!='' &&  vm.Search!=null)" ng-click="vm.Search=''">
                                            <i class="icon-close"></i>
                                            <md-tooltip md-direction="top">Clear</md-tooltip>
                                        </md-button>
                                        <md-button class="md-icon-button toolbar-button" ng-show="vm.Search =='' || vm.Search ==null ">
                                            <i class="icon-magnify"></i>
                                            <md-tooltip md-direction="top">Search</md-tooltip>
                                        </md-button>-->
                                    </div>
                                    <div layout="row" flex="100" layout-wrap class="permissiontab detail dossection padding-5 custom-scroll" ng-if="vm.genericAliasModel.alias.length > 0">
                                        <table class="simple no-padding" ms-responsive-table="">
                                            <thead>
                                                <tr>
                                                    <th width="120">Alias</th>
                                                    <th class="text-center">Action</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr ng-repeat="alias in vm.genericAliasModel.alias | filter:vm.Search | orderBy:'index'" class="height-40">
                                                    <td width="280" class="font-size-14 word-break">
                                                        {{alias.alias}}
                                                    </td>
                                                    <td width="70" class="text-center font-size-14">
                                                      <button class="md-mini md-icon-button margin-0">
                                                        <md-icon md-font-icon="icon-eye"></md-icon>
                                                        <md-tooltip md-direction="top" class="tt-multiline">
                                                          Created By: {{alias.fullName}} <br />
                                                          Created At: {{alias.createdAt | date:vm.DefaultDateFormat}}
                                                        </md-tooltip>
                                                      </button>
                                                      <md-button class="md-mini md-icon-button margin-0" ng-if="alias.id"
                                                                 ng-disabled="alias.isDefaultAlias"
                                                                 ng-click="vm.setAliasAsDefault(alias)">
                                                        <md-icon md-font-icon="{{alias.isDefaultAlias ? 'icons-pin' : 'icons-unpin'}}"></md-icon><md-tooltip>Set as Default</md-tooltip>
                                                      </md-button>
                                                      <button class="md-mini md-icon-button margin-0" ng-class="{'cursor-not-allow opecity-5':alias.isSystemGenerated || alias.isDefaultAlias}" ng-disabled="alias.isSystemGenerated || alias.isDefaultAlias" ng-click="vm.removeAliasFromList(alias)">
                                                        <md-icon md-font-icon="icon-trash"></md-icon><md-tooltip>Delete</md-tooltip>
                                                      </button>
                                                    </td>
                                                </tr>
                                            </tbody>
                                        </table>
                                        <div flex="100" class="md-1-line margin-0 dragsortable" layout="row" layout-align="start center"
                                             ng-if="(vm.genericAliasModel.alias | filter:vm.Search).length==0 && vm.genericAliasModel.alias.length > 0">
                                            <div class="empty-state text-center full-height" layout="row" layout-align="center center" layout-wrap flex="100">
                                                <p flex="100" class="empty-state-title">{{vm.EmptyMesssageAliaslist.EMPTY_SEARCH_MESSAGE}}</p>
                                            </div>
                                        </div>
                                    </div>
                                    <div flex="100" class="md-1-line margin-0 dragsortable" layout="row" layout-align="start center" ng-if="!vm.genericAliasModel.alias || vm.genericAliasModel.alias.length == 0">
                                        <div class="empty-state text-center full-height" layout="row" layout-align="center center" layout-wrap flex="100">
                                            <p flex="100" class="empty-state-title">{{vm.EmptyMesssageAliaslist.MESSAGE}}</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!--<div layout="row" flex="100">
                            <div layout="column"  flex>
                                <div layout="column" class="common-alias-list-main cm-manufacture-alias-list" flex>
                                    <div class="title alias-list-title" layout="row" flex="100" layout-align="space-between center">
                                        <span>Alias</span>
                                    </div>
                                    <div layout="row" flex="100" layout-wrap ms-scroll class="detail dossection padding-5" ng-if="vm.genericAliasModel.alias.length > 0">
                                        <table class="simple no-padding" ms-responsive-table="">
                                            <thead>
                                                <tr>
                                                    <th width="120">Alias</th>
                                                    <th class="text-center">Action</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr ng-repeat="alias in vm.genericAliasModel.alias" class="height-40">
                                                    <td width="300" class="font-size-14">
                                                        {{alias.alias}}
                                                    </td>
                                                    <td width="100" class="text-center font-size-14">
                                                        <span class="margin-0">
                                                            <md-icon md-font-icon="icon-eye"></md-icon>
                                                            <md-tooltip md-direction="top" class="tt-multiline">
                                                                Created By: {{alias.fullName}} <br />
                                                                Created At: {{alias.createdAt | date:vm.DefaultDateFormat}}
                                                            </md-tooltip>
                                                        </span>
                                                        <span class="margin-0" ng-click="vm.removeAliasFromList($event,$index)">
                                                            <md-icon md-font-icon="icon-trash"></md-icon><md-tooltip>Delete</md-tooltip>
                                                        </span>
                                                    </td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                    <div flex="100" class="md-1-line margin-0 dragsortable" layout="row" layout-align="start center" ng-if="!vm.genericAliasModel.alias || vm.genericAliasModel.alias.length == 0">
                                        <div class="empty-state text-center full-height" layout="row" layout-align="center center" layout-wrap flex="100">
                                            <p flex="100" class="empty-state-title">{{vm.EmptyMesssageAliaslist.MESSAGE}}</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>-->
                    </div>
                    <div class="cm-allmfg-divider-vertical"></div>
                    <div flex="100" flex-gt-sm="55" layout="row" class="mt-rs-15">
                        <common-type-list table-name="vm.tables" module-name="vm.searchType" is-disable="(vm.genericAliasModel.refId || vm.genericAliasModel.refId==0)?false:true"  apply-as-common-callback-fn="vm.selectedRoHS" is-change-from-popup="true"></common-type-list>
                    </div>
                </div>

                <!--<div flex="100" flex-gt-xs="100" layout-wrap>
                    <div layout="row" flex="100">
                        <md-input-container flex="100" ng-if="vm.autoCompleteAlias" class="autocompletecustom min-width-initial">
                            <custom-auto-complete datalist="vm.tableAliasList"
                                                  column-name="vm.autoCompleteAlias.columnName"
                                                  controller-name="vm.autoCompleteAlias.controllerName"
                                                  view-template-url="vm.autoCompleteAlias.viewTemplateURL"
                                                  key-column-name="vm.autoCompleteAlias.keyColumnName"
                                                  input-name="vm.autoCompleteAlias.inputName"
                                                  placeholder-name="vm.autoCompleteAlias.placeholderName"
                                                  key-column-id="vm.autoCompleteAlias.keyColumnId"
                                                  is-required="vm.autoCompleteAlias.isRequired"
                                                  is-addnew="vm.autoCompleteAlias.isAddnew"
                                                  callback-fn="vm.autoCompleteAlias.callbackFn"
                                                  on-select-callback-fn="vm.autoCompleteAlias.onSelectCallbackFn">
                            </custom-auto-complete>
                        </md-input-container>
                        </div>
                        <div layout="row" flex="100">
                            <md-input-container class="margin-bottom-0 md-block" flex="100" flex-gt-xs="80">
                                <input type="text" name="genericalias" ng-model="vm.alias" ng-if="!vm.genericAliasModel.isAliasSmallLetter"
                                       placeholder="Alias" capitalize class="input-text-uppercase" custom-auto-focus="true" ng-maxlength="255">
                                <input type="text" name="genericalias" ng-model="vm.alias" ng-if="vm.genericAliasModel.isAliasSmallLetter"
                                       placeholder="Alias" custom-auto-focus="true" ng-maxlength="255">
                                <div ng-messages="vm.genericAliasForm.genericalias.$error"
                                     role="alert">
                                    <div ng-message="maxlength">
                                        <span>{{vm.CORE_MESSAGE_CONSTANT.MAX_LENGTH}}</span>
                                    </div>
                                </div>
                            </md-input-container>
                            <div flex>
                                <md-button class="md-primary md-raised" ng-disabled="vm.genericAliasModel.refId != null ? vm.alias ? false : true : true " ng-click="vm.updateAliasList($event, vm.alias);" aria-label="Add">Add</md-button>
                            </div>
                        </div>
                        <div layout="row" flex="100">
                            <div layout="column" class="padding-right-10" flex>
                                <div layout="column" class="alias-list-main" flex>
                                    <div class="title alias-list-title" layout="row" flex="100" layout-align="space-between center">
                                        <span>Alias</span>
                                    </div>
                                    <div layout="row" flex="100" layout-wrap class="detail dossection padding-10" ng-if="vm.genericAliasModel.alias.length > 0">
                                        <table class="simple no-padding" ms-responsive-table="">
                                            <thead>
                                                <tr>
                                                    <th width="120">Alias</th>
                                                    <th class="text-center">Action</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr ng-repeat="alias in vm.genericAliasModel.alias" class="height-40">
                                                    <td width="350" class="font-size-14">
                                                        {{alias.alias}}
                                                    </td>
                                                    <td width="20" class="text-center font-size-14">
                                                        <button class="md-mini md-icon-button margin-0">
                                                            <md-icon md-font-icon="icon-eye"></md-icon>
                                                            <md-tooltip md-direction="top" class="tt-multiline">
                                                                Created By: {{alias.fullName}} <br />
                                                                Created At: {{alias.createdAt | date:vm.DefaultDateFormat}}
                                                            </md-tooltip>
                                                        </button>
                                                        <md-button class="md-mini md-icon-button margin-0" ng-click="vm.removeAliasFromList($event,$index)">
                                                            <md-icon md-font-icon="icon-trash"></md-icon><md-tooltip>Delete</md-tooltip>
                                                        </md-button>
                                                    </td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                    <div flex="100" class="md-1-line margin-0 dragsortable" layout="row" layout-align="start center" ng-if="!vm.genericAliasModel.alias || vm.genericAliasModel.alias.length == 0">
                                        <div class="empty-state text-center full-height" layout="row" layout-align="center center" layout-wrap flex="100">
                                            <p flex="100" class="empty-state-title">{{vm.EmptyMesssageAliaslist.MESSAGE}}</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                </div>-->
            </md-content>
        </md-dialog-content>
        <md-dialog-actions layout="row">
            <md-button class="md-default md-raised" ng-click="vm.cancel()">Cancel</md-button>
            <md-button class="md-primary md-raised" ng-class="{'md-formdirty': vm.genericAliasForm.$dirty}" ng-click="vm.saveGenricAlias()"  aria-label="Submit" >
                <!--ng-disabled="vm.genericAliasForm.$invalid  || vm.isSaveDisable"--> 
              Save</md-button>
        </md-dialog-actions>
    </form>
</md-dialog>
