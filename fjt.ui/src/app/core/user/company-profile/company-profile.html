<div id="forms" class="page-layout simple fullwidth doc-page breadcrumb-fixed" layout="column" cg-busy="{promise:vm.cgBusyLoading}">
  <div class="header md-accent-bg" layout="row" layout-align="start center">
    <div class="white-fg" layout="row" layout-align="space-between center" flex="100">
      <div layout="column">
        <div class="h2" layout="row" layout-align="start center">
          <!--<md-icon md-font-icon="icon-account"></md-icon>&nbsp;
          <span class="header-title">My Profile</span>-->
          <pagetitle is-list="true" is-display-menu-name="true"></pagetitle>
        </div>

        <div layout="row" layout-align="start center" class="product-count">
          <md-icon md-font-icon="icon-home" ng-click="vm.GoToHome()" class="s16 cursor-pointer md-accent homelink"></md-icon>
          <md-icon md-font-icon="icon-chevron-right" class="s16 separator"></md-icon>
          <a class="breadcrumbs-link">Company Profile</a>
        </div>
      </div>
      <div flex layout="row" layout-align="end center">
        <md-button class="md-raised md-primary"
                   id="saveBtn"
                   ng-class="{'md-formdirty': vm.companyProfileForm.$dirty}"
                   ng-disabled="vm.saveBtnDisableFlag"
                   ng-click="vm.saveCompanyInfo()">
          Save
        </md-button>
      </div>
    </div>
  </div>
  <div class="content-card padding-top-side cm-custom-label-common" layout="column" flex>
    <form name="vm.companyProfileForm" novalidate>

      <div layout="row" flex="100" class="no-box-shadow">

        <md-content class="md-padding mt-10" layout="row" flex="100" layout-wrap>
          <div flex="20" flex-gt-xs="20" class="pl-10">
            <div layout="column" layout-gt-xs="row" flex class="pastewrapper layout-align-center-start">
              <div class="drop-box image drop-box-height cm-emp-img">
                <img class="img img-no-drag" ng-src="{{vm.imagefile}}" />
              </div>
            </div>
            <div class="image-list" layout="row" flex="100">
              <div class="images" layout="row" flex="100">
                <div class="margin-right-8"
                     ngf-drop="vm.cropImage($file,$event)"
                     ngf-select="vm.cropImage($file,$event)"
                     ng-model="vm.companyProfile.companyLogo"
                     ngf-drag-over-class="'dragover'"
                     accept="image/*"
                     flex="50"
                     ngf-pattern="'image/*'" id="companyLogo" name="companyLogo">
                  <md-button class="md-primary float-left md-raised mv-0 margin-0 width-100p">
                    Add
                  </md-button>
                </div>
                <div flex="50" class="editdelete deletelocation" ng-class="{topoption:true }">
                  <md-button class="md-primary float-right md-raised mv-0 margin-0 width-100p" ng-if="vm.originalFileName || vm.croppedImage" ng-click="vm.deleteImage()">
                    Remove
                  </md-button>
                </div>
              </div>
            </div>

          </div>
          <div flex="80" flex-gt-xs="80" layout-wrap class="pr-20 padding-0-10-imp">
            <div class="cm-section-main full-height layout-align-start-start" layout="row" layout-wrap flex="100">
              <div layout="row" flex="100" class="cm-section-main border-0">
                <div class="cm-section-inner" flex="100">

                  <table cellspacing="0" cellpadding="0" class="cm-table-input-main">
                    <tbody>
                      <tr>
                        <th><p class="label-container">Company Name<span>&nbsp;*<check-unique-on-blur></check-unique-on-blur></span></p></th>
                        <td colspan="1">
                          <md-input-container flex="100" class="margin-bottom-0">
                            <input type="text" name="name" id="name" ng-model="vm.companyProfile.name"
                                   custom-blur="vm.checkCompanyNameUnique()"
                                   placeholder="Name" required ng-maxlength="255">
                            <div ng-messages="vm.companyProfileForm.name.$error" role="alert">
                              <div ng-message="required">
                                <span>{{vm.CORE_MESSAGE_CONSTANT.REQUIRED}}</span>
                              </div>
                              <div ng-message="maxlength">
                                <span>{{vm.getMaxLengthValidation(255, vm.companyProfileForm.name.$viewValue.length)}}</span>
                              </div>
                            </div>
                          </md-input-container>
                        </td>

                        <th><p class="label-container">Code</p></th>
                        <td colspan="1">
                          <label class="padding-top-5" ng-click="vm.goToManufacturerDetails();" ng-class="{'text-decoration-underline cursor-pointer':vm.companyProfile.MfgCodeMst.mfgCode}">
                            {{vm.companyProfile.MfgCodeMst.mfgCode}}
                          </label>
                        </td>

                        <th><p class="label-container">EIN Number</p></th>
                        <td colspan="1">
                          <md-input-container flex="100" class="margin-bottom-0">
                            <input type="text" name="ein" ng-model="vm.companyProfile.ein"
                                   placeholder="99-9999999" ng-maxlength="10" mask="99-9999999" ng-minlength="10"
                                   no-special-character onkeypress="return OnlyNumericWithPlus(event)">
                            <!-- <span class="font-size-10"><b>e.g. 99-9999999</b></span> -->
                            <div ng-messages="vm.companyProfileForm.ein.$error" role="alert">
                              <div ng-message="maxlength">
                                <span>{{vm.getMaxLengthValidation(9, vm.companyProfileForm.ein.$viewValue.length)}}</span>
                              </div>
                              <div ng-message="minlength">
                                {{vm.CORE_MESSAGE_CONSTANT.INVALID}}
                              </div>
                            </div>
                          </md-input-container>
                        </td>
                      </tr>

                      <tr>
                        <th><p class="label-container">Contact Person</p></th>
                        <td colspan="1">
                          <md-input-container flex="100" class="margin-bottom-0">
                            <input type="text" name="Contact_Person" ng-model="vm.companyProfile.personName"
                                   placeholder="Company" ng-maxlength="255">
                            <div ng-messages="vm.companyProfileForm.Contact_Person.$error" role="alert">
                              <div ng-message="maxlength">
                                <span>{{vm.getMaxLengthValidation(255, vm.companyProfileForm.Contact_Person.$viewValue.length)}}</span>
                              </div>
                            </div>
                          </md-input-container>
                        </td>
                        <th><p class="label-container">Email<span>&nbsp;*<check-unique-on-blur></check-unique-on-blur></span></p></th>
                        <td colspan="1">
                          <md-input-container flex="100">
                            <input type="email"
                                   id="email"
                                   lowercase
                                   ng-model="vm.companyProfile.registeredEmail"
                                   name="email"
                                   custom-blur="vm.checkEmailUnique()"
                                   placeholder="Email"
                                   ng-maxlength="100"
                                   required
                                   ng-pattern="vm.EmailPattern" />
                            <div ng-messages="vm.companyProfileForm.email.$error" role="alert">
                              <div ng-message="required">
                                <span>{{vm.CORE_MESSAGE_CONSTANT.REQUIRED}}</span>
                              </div>
                              <div ng-message="maxlength">
                                <span>{{vm.getMaxLengthValidation(100,vm.companyProfileForm.email.$viewValue.length)}}</span>
                              </div>
                              <div ng-message="pattern">
                                <span>{{vm.CORE_MESSAGE_CONSTANT.INVALID}}</span>
                              </div>
                              <div ng-message="email">
                                <span>{{vm.CORE_MESSAGE_CONSTANT.INVALID}}</span>
                              </div>

                            </div>
                          </md-input-container>
                        </td>
                      </tr>

                      <tr>
                        <th><p class="label-container">Phone</p></th>
                        <td colspan="1">
                          <md-input-container flex="100" class="margin-bottom-0 cm-tel-input-phone">
                            <input name="contactNumber" id="id_contact" ng-model="vm.companyProfile.contactNumber" placeholder=""
                                   ng-maxlength="20" intl-tel-input intl-country="vm.companyProfile.contactCountryCode" phone-number-note="vm.phoneNumberNote"
                                   onkeypress="return OnlyNumericWithPlus(event)" />
                            <span class="font-size-10"><b>e.g. {{vm.phoneNumberNote}}</b></span>
                            <div ng-messages="vm.companyProfileForm.contactNumber.$error" role="alert">
                              <!--<div ng-message="required">
            <span>{{vm.CORE_MESSAGE_CONSTANT.REQUIRED}}</span>
          </div>-->
                              <div ng-message="maxlength">
                                <span>{{vm.getMaxLengthValidation(20, vm.companyProfileForm.contactNumber.$viewValue.length)}}</span>
                              </div>
                              <div ng-message="intltel">
                                {{vm.CORE_MESSAGE_CONSTANT.INVALID}}
                              </div>
                            </div>
                          </md-input-container>
                        </td>

                        <th><p class="label-container">Ext.</p></th>
                        <td colspan="1">
                          <md-input-container flex="100" class="margin-bottom-0">
                            <input type="text" name="extension" ng-model="vm.companyProfile.phoneExt" placeholder="Ext." mask="?9?9?9?9?9?9?9?9"
                                   ng-maxlength="8" onkeypress="return AvoidSpace(event)" clean="true" mask-restrict="reject">
                          </md-input-container>
                        </td>

                      </tr>
                      <tr>
                        <th><p class="label-container">Fax</p></th>
                        <td colspan="4">
                          <md-input-container flex="100" class="cm-tel-input-phone">
                            <input type="text" id="id_faxNumber" name="faxNumber" ng-model="vm.companyProfile.faxNumber" placeholder=""
                                   ng-maxlength="20" intl-tel-input intl-country="vm.companyProfile.faxCountryCode" phone-number-note="vm.faxNumberNote"
                                   onkeypress="return OnlyNumericWithPlus(event)">
                            <span class="font-size-10"><b>e.g. {{vm.faxNumberNote}}</b></span>
                            <div ng-messages="vm.companyProfileForm.faxNumber.$error" role="alert">
                              <div ng-message="maxlength">
                                <span>{{vm.getMaxLengthValidation(20, vm.companyProfileForm.faxNumber.$viewValue.length)}}</span>
                              </div>
                              <div ng-message="intltel">
                                {{vm.CORE_MESSAGE_CONSTANT.INVALID}}
                              </div>
                            </div>
                          </md-input-container>
                        </td>
                      </tr>

                      <tr>
                      <tr>
                        <th><p class="label-container">Address Line 1</p></th>
                        <td colspan="3">
                          <md-input-container flex="100" class="margin-bottom-0">
                            <textarea ng-model="vm.companyProfile.street1" type="text" name="AddressLine1" placeholder="Address Line 1" ng-maxlength="255"></textarea>
                            <span flex="100" layout="column" layout-gt-xs="row" class="font-size-10">
                              <b>Street address, P.O. box, company name, c/o</b>
                            </span>
                            <div ng-messages="vm.companyProfileForm.AddressLine1.$error" role="alert">
                              <div ng-message="maxlength">
                                <span>{{vm.getMaxLengthValidation(255, vm.companyProfileForm.AddressLine1.$viewValue.length)}}</span>
                              </div>
                            </div>
                          </md-input-container>
                        </td>
                      </tr>


                      <tr>
                        <th><p class="label-container">Address Line 2</p></th>
                        <td colspan="3">
                          <md-input-container flex="100" class="margin-bottom-0">
                            <textarea ng-model="vm.companyProfile.street2" type="text" name="AddressLine2" placeholder="Address Line 2" ng-maxlength="255"></textarea>
                            <span flex="100" layout="column" layout-gt-xs="row" class="font-size-10">
                              <b>Apartment, suite, unit, building, floor, etc.</b>
                            </span>
                            <div ng-messages="vm.companyProfileForm.AddressLine2.$error" role="alert">
                              <div ng-message="maxlength">
                                <span>{{vm.getMaxLengthValidation(255, vm.companyProfileForm.AddressLine2.$viewValue.length)}}</span>
                              </div>
                            </div>
                          </md-input-container>
                        </td>
                      </tr>

                      <tr>
                        <th><p class="label-container">Address Line 3</p></th>
                        <td colspan="3">
                          <md-input-container flex="100" class="margin-bottom-0">
                            <textarea ng-model="vm.companyProfile.street3" type="text" name="AddressLine3" placeholder="Address Line 3" ng-maxlength="255"></textarea>
                            <div ng-messages="vm.companyProfileForm.AddressLine3.$error" role="alert">
                              <div ng-message="maxlength">
                                <span>{{vm.getMaxLengthValidation(255, vm.companyProfileForm.AddressLine3.$viewValue.length)}}</span>
                              </div>
                            </div>
                          </md-input-container>
                        </td>
                      </tr>

                      <tr>
                        <th><p class="label-container">City</p></th>
                        <td>
                          <md-input-container flex="100" class="margin-bottom-0">
                            <input name="City" ng-model="vm.companyProfile.city" placeholder="City" ng-maxlength="255" />
                            <div ng-messages="vm.companyProfileForm.City.$error" role="alert">
                              <div ng-message="maxlength">
                                <span>{{vm.getMaxLengthValidation(255, vm.companyProfileForm.City.$viewValue.length)}}</span>
                              </div>
                            </div>

                          </md-input-container>
                        </td>


                        <th><p class="label-container">State</p></th>
                        <td>
                          <md-input-container flex="100" class="margin-bottom-0">
                            <input name="state" ng-model="vm.companyProfile.state" capitalize placeholder="State" ng-maxlength="255" />
                            <span class="font-size-10"><b>{{vm.stateNote}}</b></span>
                            <div ng-messages="vm.companyProfileForm.state.$error" role="alert">
                              <div ng-message="maxlength">
                                <span>{{vm.getMaxLengthValidation(255, vm.companyProfileForm.state.$viewValue.length)}}</span>
                              </div>
                            </div>
                          </md-input-container>
                        </td>
                      </tr>

                      <tr>
                        <th><p class="label-container">Zip/Postal Code</p></th>
                        <td>
                          <md-input-container flex="100" class="margin-bottom-0">
                            <input name="Postcode" ng-model="vm.companyProfile.postalCode" placeholder="Zip/Postal Code" ng-maxlength="8" custom-blur="vm.FindAddress();" />
                            <div ng-messages="vm.companyProfileForm.Postcode.$error" role="alert">
                              <div ng-message="maxlength">
                                <span>{{vm.getMaxLengthValidation(8, vm.companyProfileForm.Postcode.$viewValue.length)}}</span>
                              </div>
                            </div>
                          </md-input-container>
                        </td>
                        <th><p class="label-container"><a class="cm-text-decoration underline" ng-click="vm.goToCountryList();" tabindex="-1">Country</a></p></th>
                        <td>
                          <md-input-container flex="100" class="autocompletecustom margin-bottom-0" ng-if="vm.autoCompleteCountry">
                            <custom-auto-complete-search on-search-fn="vm.autoCompleteCountry.onSearchFn"
                                                         column-name="vm.autoCompleteCountry.columnName"
                                                         controller-name="vm.autoCompleteCountry.controllerName"
                                                         parent-column-name="vm.autoCompleteCountry.parentColumnName"
                                                         view-template-url="vm.autoCompleteCountry.viewTemplateURL"
                                                         key-column-name="vm.autoCompleteCountry.keyColumnName"
                                                         input-name="vm.autoCompleteCountry.inputName"
                                                         placeholder-name="vm.autoCompleteCountry.placeholderName"
                                                         key-column-id="vm.autoCompleteCountry.keyColumnId"
                                                         is-addnew="vm.autoCompleteCountry.isAddnew"
                                                         callback-fn="vm.autoCompleteCountry.callbackFn"
                                                         add-data="vm.autoCompleteCountry.addData"
                                                         on-select-callback-fn="vm.autoCompleteCountry.onSelectCallbackFn"
                                                         custom-auto-focus="{{false}}"
                                                         is-disabled="false">
                            </custom-auto-complete-search>
                          </md-input-container>
                        </td>
                      </tr>

                      <!--<tr>
                        <th><p class="label-container">Remittance Address</p></th>
                        <td colspan="3">
                          <md-input-container flex="100" class="margin-bottom-0" last-element elementcondition="true">
                            <textarea ng-model="vm.companyProfile.remittanceAddress" type="text" name="remittanceAddress" placeholder="Remittance Address" ng-maxlength="1000"></textarea>
                            <span flex="100" layout="column" layout-gt-xs="row" class="font-size-10">
                              <b>Hint: PAYEE & PAYMENT REMITTANCE ADDRESS</b>
                            </span>
                            <div ng-messages="vm.companyProfileForm.remittanceAddress.$error" role="alert">
                              <div ng-message="maxlength">
                                <span>{{vm.getMaxLengthValidation(1000, vm.companyProfileForm.remittanceAddress.$viewValue.length)}}</span>
                              </div>
                            </div>
                          </md-input-container>
                        </td>
                      </tr>-->
                    </tbody>
                  </table>
                </div>
              </div>
            </div>
          </div>
        </md-content>
      </div>
    </form>

  </div>

</div>


