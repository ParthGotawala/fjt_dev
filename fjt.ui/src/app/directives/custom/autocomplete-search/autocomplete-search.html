<form name="vm.autocompleteDetail" class="padding-0" novalidate ng-class="{'exclude-invalid-field' : vm.excludeDirtyState}">
  <!--<md-icon class="mdi mdi-spinner mdi-hc-spin autocomplate-spin-icon" ></md-icon>-->
  <!--ng-if="!datalist && !isDisabled && !keyColumnId"-->
  <md-autocomplete ng-class="{'close-right-padding component-autocomplete-close-icon':!isDisabled && !keyColumnId}"
                   class="close-right cm-right-close-btn autocomplete cm-autocomplete-search"
                   md-no-cache="true"
                   md-selected-item="vm.selectedItem"
                   md-search-text="vm.searchText"
                   md-items="item in vm.querySearch(vm.searchText)"
                   md-selected-item-change="vm.selectedItemChange(item,vm.autocompleteDetail,vm.inputName)"
                   md-item-text="item[vm.columnName]"
                   placeholder="Type here to search{{vm.isAddnew ? ' and add' : ' '}}"
                   flex="100"
                   flex-xs="100"
                   md-input-maxlength="{{vm.checkMaxlength()}}"
                   md-input-name="{{vm.inputName}}"
                   md-require-match="mdRequireMatch"
                   ng-required="isRequired"
                   ng-model-options="{debounce:100}"
                   ng-disabled="isDisabled"
                   md-clear-button="!isDisabled"
                   md-delay="1000"
                   md-search-text-change="changeSearch()"
                   ng-Keydown="vm.mdKeyDownEvent($event)"
                   ng-attr-md-blur="onBlurCallbackFn ? vm.onBlurEventFn() : null">
    <md-item-template>
      <div class="avatar-wrapper mv-5" layout="row" layout-wrap assignli-class="{{item.type == 'button'}}" ng-class="{'layout-align-center-center md-button md-primary md-raised cm-custom-autocomplete-add-btn': item.type == 'button'}">
        <div layout="row" flex="100" layout-align="start center">
          <span ng-if="item.type != 'button'" flex="nogrow">
            <span ng-if="item.ProfilePic">
              <img class="md-avatar avatar margin-top-0 margin-bottom-0" ng-src="{{item.ProfilePic}}" />
            </span>
            <span ng-if="item.iconClass">
              <md-icon  class="{{item.iconClass}} font-size-20 mr-5" />
            </span>
            <span ng-if="item.isIcon" class="categoryname">
              <h4 class="thumb-icon margin-top-0 margin-bottom-0"><i ng-class="{'icon-thumb-up-outline' : item.isGoodPart == vm.PartCorrectList.CorrectPart,'icon-thumb-down-outline':item.isGoodPart == vm.PartCorrectList.IncorrectPart}"></i></h4>
            </span>
          </span>
          <span no-translate-class class="categoryname" flex md-highlight-flags="i" md-highlight-text="vm.searchText">
            {{item[vm.columnName]}}
          </span>
          <div ng-if="item && item.iconList && item.iconList.length > 0" class="categoryname pl-10"
               ng-repeat="itemIcon in item.iconList">
            <md-icon role="img" md-font-icon="{{itemIcon}}" class="margin-0 font-size-17-imp"></md-icon>
          </div>
        </div>
        <span ng-if="item.type != 'button' && isDisplayDescription" class="cm-text-ellipsis" flex="100">
          <span ng-if="item.mfgPNDescription">           
            <span class="thumb-icon margin-top-0 margin-bottom-0">{{item.mfgPNDescription}}</span>
          </span>
        </span>
      </div>
    </md-item-template>
  </md-autocomplete>
  <div layout="row" class="autocomplete-refresh-icons" layout-align="center center">
    <md-progress-circular ng-if="!isDisabled && vm.isSearching" tabindex="-1" md-diameter="16px"></md-progress-circular>
  </div>
  <div ng-messages="vm.autocompleteDetail[vm.inputName].$touched && vm.autocompleteDetail[vm.inputName].$error">
    <div ng-message="required">
      {{vm.CORE_MESSAGE_CONSTANT.REQUIRED}}
    </div>
    <div ng-message="md-require-match" ng-show="vm.searchText">
      {{vm.CORE_MESSAGE_CONSTANT.INVALID}}
    </div>
    <div ng-message="maxlength">
      <span>{{vm.getMaxLengthValidation(maxLength)}}</span>
    </div>
    <!--<div ng-message="maxlength" ng-if="vm.selectedMfg.mfgType == vm.mfgTypeDist">
        <span>{{vm.CORE_MESSAGE_CONSTANT.MAX_LENGTH}}</span>
    </div>
    <div ng-message="maxlength" ng-if="vm.selectedMfg.mfgType == vm.mfgTypeMfg">
        <span>{{vm.CORE_MESSAGE_CONSTANT.MFGCODE_LENGTH}}</span>
    </div>-->
  </div>
</form>
