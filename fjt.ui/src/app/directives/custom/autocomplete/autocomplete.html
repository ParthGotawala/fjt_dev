<form name="vm.autocompleteDetail" class="padding-0" novalidate>
  <!--<md-icon class="mdi mdi-spinner mdi-hc-spin autocomplate-spin-icon" ></md-icon>-->
  <!--ng-if="!datalist && !isDisabled && !keyColumnId"-->
  <md-autocomplete ng-class="{'close-right-padding':!datalist && !isDisabled && !keyColumnId,'close-right-without-refresh-btn' : isRefreshDisabled || isDisabled,'cm-autocomplete-uppercase':isSearchTextUppercase}"
                   class="close-right autocomplete"
                   md-autoselect="false"
                   md-no-cache="true"
                   md-selected-item="vm.selectedItem"
                   md-search-text="vm.searchText"
                   md-items="item in vm.fixedOnes.concat(vm.querySearch(vm.searchText))"
                   md-selected-item-change="vm.selectedItemChange(item,vm.autocompleteDetail,vm.inputName)"
                   md-item-text="item[vm.columnName]"
                   md-min-length="0"
                   placeholder="Type here to search{{vm.isAddnew ? ' and add' : ' '}}"
                   flex="100"
                   flex-xs="100"
                   md-input-name="{{vm.inputName}}"
                   md-input-id="{{vm.inputId}}"
                   md-require-match="mdRequireMatch"
                   ng-required="isRequired"
                   ng-model-options="{debounce:100}"
                   ng-disabled="isDisabled"
                   md-clear-button="!isDisabled"
                   md-input-maxlength="{{vm.checkMaxlength()}}"
                   ng-Keydown="vm.mdKeyDownEvent($event)">
    <md-item-template ng-class="{'custom-autocomplete-item': item.type === 'button'}">
      <div class="avatar-wrapper" layout="row" assignli-class="{{item.type === 'button'}}" ng-class="{'layout-align-center-center cm-btn-auto md-button md-primary md-raised custom-autocomplete-item cm-custom-autocomplete-add-btn': item.type === 'button'}">
        <span ng-if="item.type !== 'button' ">
          <span ng-if="item.ProfilePic">
            <img class="md-avatar avatar margin-top-0 margin-bottom-0" ng-src="{{item.ProfilePic}}" />
          </span>
          <span ng-if="item.isIcon" class="categoryname">
            <h4 class="thumb-icon margin-top-0 margin-bottom-0"><i ng-class="{'icon-thumb-up-outline' : item.isGoodPart === vm.PartCorrectList.CorrectPart,'icon-thumb-down-outline':item.isGoodPart === vm.PartCorrectList.IncorrectPart}"></i></h4>
          </span>
        </span>
        <span no-translate-class class="categoryname" md-highlight-flags="i" md-highlight-text="vm.searchText">
          {{item[vm.columnName]}}
        </span>
      </div>
    </md-item-template>
    <md-not-found>
      No matching values "{{vm.searchText}}" were found.
      <!--<a ng-click="ctrl.newState(ctrl.searchText)">Create a new one!</a>-->
      <!--<div class="avatar-wrapper" layout="row" assignli-class="true" ng-class="button">
          <span no-translate-class class="categoryname" md-highlight-flags="i">
              Add New
          </span>
      </div>-->
    </md-not-found>
  </md-autocomplete>
  <div layout="row" class="autocomplete-refresh-icons" layout-align="center center">
    <md-button class="margin-0 md-icon-button md-ink-ripple" ng-class="{'hide-refresh-icon-autocomplete': !keyColumnId}" tabindex="-1"
               ng-hide="isRefreshDisabled || isDisabled" ng-click="vm.refresh()"><md-icon class="mdi mdi-refresh"></md-icon></md-button>
    <md-progress-circular ng-if="!datalist && !isDisabled && !keyColumnId" md-diameter="16px"></md-progress-circular>
  </div>
  <div ng-messages="vm.autocompleteDetail[vm.inputName].$touched && vm.autocompleteDetail[vm.inputName].$error">
    <div ng-message="required">
      {{vm.CORE_MESSAGE_CONSTANT.REQUIRED}}
    </div>
    <div ng-message="md-require-match">
      {{vm.CORE_MESSAGE_CONSTANT.INVALID}}
    </div>
    <div ng-message="maxlength">
      <span>{{vm.getMaxLengthValidation(maxLength)}}</span>
    </div>
  </div>
</form>
