<form name="vm.filtersInfo">
  <div class="cm-section-main border-0">
    <div class="cm-section-inner p-0-imp">
      <table cellpadding="0" cellspacing="0" class="cm-table-input-main width-auto cm-table-cell-height-auto">
        <tbody>
          <tr>
            <td ng-if="vm.dateTypeList.length > 0" class="pr-10">
              <md-input-container class="w-170">
                <md-select name="dateType"
                           ng-model="vm.selectedDateType" ng-disabled="isDisabled"
                           md-container-class="containerClass cm-md-select"
                           ng-change="vm.dateTypeChanged()">
                  <md-option ng-repeat="dateType in vm.dateTypeList" ng-value="dateType.key">{{dateType.value}}</md-option>
                </md-select>
              </md-input-container>
            </td>
            <th class="pr-10">Duration<span class="color-red" ng-if="isRequired">&nbsp;*</span></th>
            <td>
              <md-input-container class="w-170">
                <md-select name="dateRange" ng-required="isRequired"
                           ng-model="vm.dateRangeModel" ng-disabled="isDisabled"
                           md-container-class="containerClass cm-md-select"
                           ng-change="vm.dateRangeChanged()">
                  <md-option ng-repeat="option in vm.commonDateFilterSearchCriteria" ng-class="{'border-bottom-gray': option.isShowBottomBorder}" ng-value="option.key">{{option.value}}</md-option>
                </md-select>
              </md-input-container>
            </td>
            <th class="pl-10">
              <p class="mt-10 label-container">From <span ng-if="vm.isRequired && vm.dateRangeModel === 'Custom_Date' && !isDisabled">&nbsp;*</span></p>
            </th>
            <td>
              <md-input-container class="md-block datepicker padding-right-0-imp margin-0 w-110">
                <input type="text" class="float-left"
                       name="fromDateFilter" ng-required="vm.isRequired"
                       max-value="vm.toDateFilter"
                       datetime-picker="{{$root.dateDisplayFormat}}"
                       enable-time="false"
                       allow-past-date="true"
                       allow-future-date="true"
                       ng-model="vm.fromDateFilter"
                       ng-change="vm.initDateOption()"
                       datepicker-options="vm.fromDateFilterOptions"
                       ui-options="{clearOnBlur  : true}"
                       ui-mask="{{$root.uimaskFormat.date.mask}}"
                       ui-mask-placeholder="{{$root.uimaskFormat.date.placeholder}}"
                       model-view-value="true"
                       is-open="vm.fromDateFilterOptions.fromDateOpenFlag"
                       ng-disabled="vm.dateRangeModel !== 'Custom_Date' || isDisabled" />
                <md-icon md-font-icon="icon-calendar calender-icon" ng-click="vm.fromDateFilterOptions.fromDateOpenFlag = (vm.dateRangeModel === 'Custom_Date' && !isDisabled)">
                </md-icon>
                <div ng-messages="vm.filtersInfo.fromDateFilter.$error" role="alert">
                  <div ng-message="required">
                    <span>{{vm.CORE_MESSAGE_CONSTANT.REQUIRED}}</span>
                  </div>
                  <div ng-message="valid || datetime">
                    <span>{{vm.CORE_MESSAGE_CONSTANT.INVALID}}</span>
                  </div>
                  <div ng-message="maxvalue">
                    <span>{{vm.CORE_MESSAGE_CONSTANT.MAX_DATE_TODAY_DATE}}</span>
                  </div>
                </div>
              </md-input-container>
            </td>
            <th class="pl-10">
              <p class="mt-10 label-container">To <span ng-if="vm.isRequired && (vm.dateRangeModel === 'Custom_Date' && vm.fromDateFilter) &&  !isDisabled">&nbsp;*</span></p>
            </th>
            <td>
              <md-input-container class="md-block datepicker padding-right-0-imp margin-0 w-110">
                <input type="text" class="float-left"
                       name="toDateFilter" ng-required="vm.isRequired && vm.fromDateFilter"
                       min-value="vm.fromDateFilter"
                       datetime-picker="{{$root.dateDisplayFormat}}"
                       allow-past-date="true"
                       allow-future-date="true"
                       enable-date="true"
                       enable-time="false"
                       ng-model="vm.toDateFilter"
                       ng-change="vm.initDateOption()"
                       datepicker-options="vm.toDateFilterOptions"
                       ui-options="{clearOnBlur  : true}"
                       ui-mask="{{$root.uimaskFormat.date.mask}}"
                       ui-mask-placeholder="{{$root.uimaskFormat.date.placeholder}}"
                       model-view-value="true"
                       is-open="vm.toDateFilterOptions.toDateOpenFlag"
                       ng-disabled="!(vm.dateRangeModel === 'Custom_Date' && vm.fromDateFilter)  || isDisabled" />
                <md-icon md-font-icon="icon-calendar calender-icon" ng-click="vm.toDateFilterOptions.toDateOpenFlag = vm.dateRangeModel === 'Custom_Date' && vm.fromDateFilter">
                </md-icon>
                <div ng-messages="vm.filtersInfo.toDateFilter.$error" role="alert">
                  <div ng-message="required">
                    <span>{{vm.CORE_MESSAGE_CONSTANT.REQUIRED}}</span>
                  </div>
                  <div ng-message="valid || datetime">
                    <span>{{vm.CORE_MESSAGE_CONSTANT.INVALID}}</span>
                  </div>
                  <div ng-message="minvalue">
                    <span>{{vm.CORE_MESSAGE_CONSTANT.MIN_DATE_TODAY_DATE}}</span>
                  </div>
                </div>
              </md-input-container>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</form>
