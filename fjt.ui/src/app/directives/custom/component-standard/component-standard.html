<div layout-wrap cg-busy="{promise:vm.cgBusyLoading}">
    <div layout="row" layout-wrap ng-if="!vm.isNoDataFound" flex="100">
        <div class="price-tables manage-standard" flex="100" layout="row" layout-wrap>
            <div layout="row" flex="100" layout-align="end end">
              <md-button class="md-primary md-raised" aria-label="Add Standards" data-excludereadonly="true"  ng-click="vm.StandardList()"
                         custom-auto-focus="true">
                Standards
              </md-button>
                <md-button class="md-primary md-raised" aria-label="Add Standards" ng-click="vm.addNewCertificateStandards($event)">
                    Add Standards
                </md-button>
                <md-button class="md-primary md-raised" aria-label="Add Standards" data-excludereadonly="true" ng-click="vm.StandardCategoryList()">
                    Standards Categories
                </md-button>
                <md-button class="md-primary md-raised" aria-label="Add Standards Categories" ng-click="vm.addStandardClass($event)">
                    Add Standards Categories
                </md-button>
                <md-button class="md-primary md-raised" aria-label="Refresh Standards" data-excludereadonly="true" ng-click="vm.refreshStandards($event)">
                    Refresh
                </md-button>
            </div>
            <div flex="33" flex-sm="100" ng-repeat="stdTypeItem in vm.standardTypeList">
                <div class="cm-standard-main" flex="100">
                    <md-collapsible class="md-accordion" layout="row">
                        <md-collapsible-item class="price-table style-1 active" flex="100">
                            <md-collapsible-header layout="row">
                                <div class="cm-section-main cm-border-radius" flex="100">
                                    <div class="cm-section-header" layout="row" layout-align="space-between center" flex="100">
                                        <h2>{{stdTypeItem.gencCategoryName}}</h2>
                                        <md-icon ng-if="(vm.allStandardWithClassList | filter : stdTypeItem.gencCategoryID).length > 0"
                                                 class="mdi mdi-chevron-down cursor-pointer cm-std-list-button margin-horizontal-5" aria-label="Open" role="button"></md-icon>
                                    </div>
                                </div>
                            </md-collapsible-header>
                            <md-collapsible-body>
                                <md-list>
                                    <div ng-repeat="cert in vm.allStandardWithClassList" ng-if="cert.standardTypeID == stdTypeItem.gencCategoryID"
                                         class="required-list-item cm-wo-std" layout="row" layout-align="start stretch">
                                        <md-collapsible layout="row" flex="100" class="md-accordion">
                                            <md-collapsible-item flex="100" class="active">
                                                <md-collapsible-header layout-align="space-between center" layout="row">
                                                    <div flex="100" class="pos-rel pr-10">
                                                        <md-checkbox class="margin-0" name="class_{{cert.certificateStandardID}}" ng-model="cert.selected"
                                                                     ng-disabled="cert.disableStandard"
                                                                     ng-change="vm.passwordProtected(cert)"
                                                                     ng-required="cert.isRequired" >
                                                        </md-checkbox>
                                                        <div flex class="text-main h-40" layout layout-align="start center">
                                                            <i class="icon-checkbox-blank-circle-outline normal" ng-class="{'list-item-disable': cert.disableStandard}"></i>
                                                            <i class="icon-check-circle checked"></i>
                                                            <div>

                                                              <div class="text-left pr-5" layout="row">
                                                                <a class="cm-text-decoration nowrap text-bold" tabindex="-1" ng-click="vm.updatestandard(cert);">{{ cert.fullName }}</a>
                                                                <p class="cm-text-ellipsis pl-15 mb-0">{{cert.description}}</p> &nbsp;
                                                                <button class="md-primary md-icon-button h-15" ng-if="cert.description" data-excludereadonly="true" 
                                                                        ng-click="vm.showDescription(cert,null,$event, 'StandardDescription')">
                                                                  <md-icon md-font-icon="icon icon-eye" class="s16"></md-icon>
                                                                  <md-tooltip>View Description</md-tooltip>
                                                                </button>
                                                              </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <md-icon ng-if="cert.CertificateStandard_Class && cert.CertificateStandard_Class.length > 0"
                                                             class="mdi mdi-chevron-down cursor-pointer cm-std-list-button padding-right-5 padding-left-5" aria-label="Open" role="button"></md-icon>
                                                </md-collapsible-header>
                                                <md-collapsible-body>
                                                    <div class="cm-standard-inner-option" ng-repeat="certiClass in cert.CertificateStandard_Class">
                                                        <div class="cm-standard-inner-datalist pr-10">
                                                            <md-checkbox class="margin-0" flex="nogrow" name="class_{{certiClass.classID}}"
                                                                         ng-model="certiClass.selected"
                                                                         ng-disabled="cert.disableStandard || certiClass.disableClass"
                                                                         ng-change="vm.AllowToSelect(certiClass,cert)">
                                                            </md-checkbox>
                                                            <div flex class="text-main h-40" layout layout-align="start center">
                                                              <i class="icon-checkbox-blank-circle-outline normal" ng-class="{'list-item-disable': cert.disableStandard || certiClass.disableClass }"></i>
                                                              <i class="icon-check-circle checked"></i>
                                                              <span class="nowrap text-bold">{{ certiClass.className }}</span>
                                                              <div class="text-left" layout="row" flex ng-if="certiClass.description" >
                                                                <span class="cm-text-ellipsis pl-15">{{ certiClass.description }}</span> &nbsp;
                                                                <button class="md-primary md-icon-button" ng-click="vm.showDescription(cert,certiClass,$event,'CategoryDescription')">
                                                                  <md-icon md-font-icon="icon icon-eye" class="s16"></md-icon>
                                                                  <md-tooltip>View Description</md-tooltip>
                                                                </button>
                                                              </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </md-collapsible-body>
                                            </md-collapsible-item>
                                        </md-collapsible>
                                    </div>
                                </md-list>
                            </md-collapsible-body>
                        </md-collapsible-item>
                    </md-collapsible>
                </div>
            </div>
        </div>
    </div>
    <div class="empty-state text-center full-height" layout="row" layout-align="center center" layout-wrap ng-if="vm.isNoDataFound == true">
        <div class="emty-icon" flex="100">
            <img ng-src="{{vm.CertificateEmptyMesssage.IMAGEURL}}" />
        </div>
        <p flex="100" class="empty-state-title">{{vm.CertificateEmptyMesssage.MESSAGE}}</p>
        <p flex="100">
            {{vm.CertificateEmptyMesssage.ADDNEWMESSAGE}}
        </p>
        <p flex="100">
            <md-button class="md-fab md-mini" aria-label="Add Part Standard class" ng-click="vm.addNewCertificateStandards($event)">
                <md-icon role="img" md-font-icon="icon-plus" class="material-icons mat-icon icon-plus"></md-icon>
                <md-tooltip>Add Certificate & Standards</md-tooltip>
            </md-button>
            <md-button class="md-fab md-mini" aria-label="Refresh Certificate & Standards" ng-click="vm.refreshStandards($event)">
                <md-icon role="img" md-font-icon="icon-refresh" class="material-icons mat-icon"></md-icon>
                <md-tooltip>Refresh Certificate & Standards</md-tooltip>
            </md-button>
        </p>
    </div>

</div>

