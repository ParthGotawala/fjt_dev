<div id="forms" class="page-layout simple fullwidth doc-page" layout="column">
    <div class="content-card" layout="column" flex>
        <form name="vm.confirmationApprovalForm" class="padding-10" novalidate>
            <div layout="row" layout-wrap>
                <div layout="row" flex="100">
                    <div class="cm-text-angular-height" flex="100">
                        <md-input-container class="margin-0 width-100p" flex="100">
                            <div layout="column">
                                <span ng-style="{'color':vm.confirmationApprovalForm.reason.$error.taMaxText?'red':''}">Reason</span>
                                <span class="margin-bottom-10" ng-if="vm.confirmationApprovalForm.reason.$error.taMaxText" style="color:red; font-size:12px">{{vm.CORE_MESSAGE_CONSTANT.MAX_LENGTH}}</span>
                            </div>
                            <text-angular ta-toolbar="vm.taToolbar.INLINE" cg-busy-loading="vm.cgBusyLoading" ng-model="vm.woQtyApproval.reason"
                                          ng-class="{'text-angular-custom-border':vm.confirmationApprovalForm.reason.$error.taMaxText}"
                                          name="reason" ta-max-text="{{vm.taToolbar.MAX_LENGTH}}"></text-angular>
                        </md-input-container>
                    </div>
                </div>
                <div flex="40" layout-wrap>
                    <div class="title label-container" flex="100">
                        Signature<span>&nbsp;*</span>
                    </div>
                    <md-input-container class="margin-0" flex="100" ng-hide="vm.isSignatureAdded">
                        <signature-pad accept="accept" clear="clear" height="250" width="1000"
                                       ng-required="true" ng-model="vm.woQtyApproval.signaturevalue"
                                       id="signaturePad" name="signaturePad" class="border signature-pad-height"
                                       ng-mouseup="vm.checkSignatureChanges()">
                        </signature-pad>
                        <md-button class="md-primary md-raised signature-element-button"
                                   ng-click="clear(); vm.clearSignatureValue();">                            
                            <md-tooltip>Clear</md-tooltip>
                            Clear
                        </md-button>
                        <md-button class="md-primary md-raised signature-element-button"
                                   ng-click="signature = accept();vm.setSignatureValue(signature);">                          
                          <md-tooltip>Click to Generate Signature</md-tooltip>
                          Generate Signature
                        </md-button>
                        <md-button ng-if="vm.woQtyApproval.signaturevalue" class="md-primary md-raised signature-element-button"
                                   ng-click="vm.isSignatureAdded = true;">                            
                            <md-tooltip>Cancel</md-tooltip>
                            Cancel
                        </md-button>
                        <!--<span ng-if="!vm.isSignatureAdded" ng-bind-html="vm.CORE_MESSAGE_CONSTANT.SIGNATURE_NOTE"></span>-->
                    </md-input-container>
                    <div class="imageiconlist" style="height:80px !important;width:200px !important" ng-if="vm.woQtyApproval.signaturevalue && !vm.isSignatureAdded">
                        <img class="image" ng-src="{{vm.woQtyApproval.signaturevalue}}" alt="signature image">
                    </div>
                    <md-input-container flex="100" ng-if="vm.woQtyApproval.signaturevalue && vm.isSignatureAdded">
                        <div class="imageiconlist" style="height:80px !important;width:200px !important">
                            <div class="actionicon" layout="row" flex="100" layout-align="center center" layout-wrap>
                                <md-button class="md-default md-icon-button btn-preview">
                                    <md-icon class="icon-pencil" ng-click="clear();signature = accept();vm.clearSignatureValue();"></md-icon>
                                    <md-tooltip>Change Signature</md-tooltip>
                                </md-button>
                                <md-button class="md-default md-icon-button btn-preview">
                                    <md-icon class="icon-delete" ng-click="vm.deleteSignatureValue(clear,accept,signature);"></md-icon>
                                    <md-tooltip>Delete Signature</md-tooltip>
                                </md-button>
                            </div>
                            <img class="image" ng-if="vm.woQtyApproval.signaturevalue" ng-src="{{vm.woQtyApproval.signaturevalue}}" alt="signature image">
                        </div>
                    </md-input-container>
                    <!--<img class="image" ng-if="vm.woQtyApproval.signaturevalue && !vm.isSignatureAdded" ng-src="{{vm.woQtyApproval.signaturevalue}}" alt="signature image">-->
                </div>
            </div>
        </form>
    </div>
</div>
