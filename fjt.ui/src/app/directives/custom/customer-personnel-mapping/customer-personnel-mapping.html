<form name="vm.CustomerPersonnelMappingForm" layout="column" class="cm-custom-label-common md-inline-form cm-full-height-tab-data" cg-busy="{promise:vm.cgBusyLoading}">
  <div flex="100" layout="column" ng-if="vm.isCustomerMappedwithEmployee">
    <div flex layout>
      <div flex layout="column">
        <div layout="row"
             class="mobilesearch employee-workstaion-search-box userpermissionhead"
             layout-align="space-between center">
          <md-input-container class="md-block error-none no-label" md-no-float flex flex-xs="75">
            <input id="SearchNoAddedListEmployee" type="text" placeholder="Type here to search {{vm.personnelid?'customer':'personnel'}}"
                   ng-model="vm.SearchNoAddedListEmployee"
                   ng-change="vm.searchFromNotAddedList()"
                   ng-model-options="{debounce: vm.debounceTime }" max="255">
          </md-input-container>
          <md-button class="md-raised md-primary md-ink-ripple margin-0"
                     ng-disabled="!vm.SearchNoAddedListEmployee"
                     ng-click="vm.SearchNoAddedListEmployee='';vm.searchFromNotAddedList()">
            Clear
          </md-button>
          <md-button class="md-raised md-primary md-ink-ripple margin-0" ng-click="vm.refreshDataEmployee()">
            Refresh
          </md-button>
          <md-button class="md-raised md-primary md-ink-ripple margin-0"
                     ng-click="vm.addDataEmployee(null,$event)">
            Add New
          </md-button>

        </div>
        <md-list flex class="permissiontab custom-scroll dragbox"
                 ng-class="{'layout-column': vm.employeeNoAddedList.length == 0}">
          <md-list-item id="employeeNoAddedList" class="padding-0 items-container" layout="row" flex="100"
                        layout-wrap ui-sortable="sortableOptionsEmployee" ng-model="vm.employeeNoAddedList"
                        haveadded="false">
            <div flex="100" class="md-1-line margin-0 dragsortable padding-top-0 padding-bottom-0"
                 id="{{employee.id}}"
                 ng-repeat="employee in vm.employeeNoAddedList" ui-sortable-selectable ng-model="employee"
                 layout="row" layout-align="start center">
              <div class="avatar-wrapper" ng-if="vm.customerid">
                <img class="md-avatar avatar" ng-src="{{employee.ProfilePic}}" />
              </div>
              <div class="md-list-item-text" layout="row" ng-if="vm.customerid" layout-wrap>
                <h3 class="name margin-0 md-primary-fg" flex="100">
                  <b>
                    <a class="cm-text-decoration" ng-click="vm.goToUpdatePersonnel(employee.id);">
                      {{'('+employee.initialName+') '}}{{(employee.firstName ? employee.firstName : "") + " " + (employee.lastName ? employee.lastName : "")}}
                    </a>
                  </b>
                  <span ng-if="employee.gencCategoryName">
                    {{'(' + employee.gencCategoryName + ')'}}
                    <md-tooltip>Title</md-tooltip>
                  </span>
                  <span ng-if="employee.deptName">
                    {{'(' + employee.deptName + ')'}}
                    <md-tooltip>Default Department</md-tooltip>
                  </span>
                </h3>
                <p class="last-message margin-0" ng-if="employee.empCertificationDetList.length > 0">
                  <!--text-truncate-->
                  <label class="label-box margin-top-5 margin-left-2" ng-style="{'background-color': standardItem.colorCode}"
                         ng-repeat="standardItem in employee.empCertificationDetList track by $index">
                    {{standardItem.stdClassName}}
                    <md-tooltip>Certified Standard</md-tooltip>
                  </label>
                </p>
              </div>
              <div class="md-list-item-text padding-15" layout="row" ng-if="vm.personnelid" layout-wrap>
                <h3 class="name margin-0 md-primary-fg" flex="100">
                  <b>
                    <a class="cm-text-decoration" ng-click="vm.goToManageCustomer(employee.id);">
                      {{'('+employee.mfgCode+') '}}{{employee. mfgName}}
                    </a>
                  </b>
                </h3>
              </div>
            </div>
            <div flex="100" class="md-1-line margin-0 cursor-not-allow"
                 ng-if="vm.employeeNoAddedList.length == 0" ui-sortable-selectable>
              <div class="empty-state text-center">
                <div class="emty-icon">
                  <img ng-src="{{vm.personnelid?vm.EmptyMesssageCustomer.IMAGEURL:vm.EmptyMesssageEmployees.IMAGEURL}}" />
                </div>
                <p class="empty-state-title font-size-2 useadded-emptytxt"
                   ng-if="vm.SearchNoAddedListEmployee == null && vm.personnelid">
                  {{vm.EmptyMesssageCustomer.ALL_ASSIGNED}}
                </p>
                <p class="empty-state-title font-size-2 useadded-emptytxt"
                   ng-if="vm.SearchNoAddedListEmployee == null && vm.customerid">
                  {{vm.EmptyMesssageEmployees.ALL_ASSIGNED}}
                </p>
                <p class="empty-state-title font-size-2 useadded-emptytxt"
                   ng-if="vm.SearchNoAddedListEmployee != null && vm.personnelid">
                  {{vm.EmptyMesssageCustomer.EMPTY_SEARCH_MESSAGE}}
                </p>
                <p class="empty-state-title font-size-2 useadded-emptytxt"
                   ng-if="vm.SearchNoAddedListEmployee != null && vm.customerid">
                  {{vm.EmptyMesssageEmployees.EMPTY_SEARCH_MESSAGE}}
                </p>
              </div>
            </div>
          </md-list-item>
        </md-list>
      </div>
      <div class="cm-data-fields-buttons" layout="row" layout-align="space-between center">
        <div flex="100" layout="column" layout-align="space-between center">
          <md-button class="md-fab md-raised md-mini"
                     ng-disabled="!selectAnyAddedEmployee || vm.isWOUnderTermination"
                     ng-click="vm.ModifyPageAddedEmployee('Remove',$event)">
            <i class="icon-chevron-left icondrag"></i>
            <md-tooltip>Remove</md-tooltip>
          </md-button>
          <md-button class="md-fab md-raised md-mini"
                     ng-disabled="vm.employeeAddedList.length == 0 || vm.isWOUnderTermination"
                     ng-click="vm.ModifyPageAddedEmployee('RemoveAll',$event)">
            <i class="icon-chevron-double-left icondrag"></i>
            <md-tooltip>Remove All</md-tooltip>
          </md-button>
          <md-button class="md-fab md-raised md-mini"
                     ng-disabled="vm.employeeNoAddedList.length == 0 || vm.isWOUnderTermination"
                     ng-click="vm.ModifyPageAddedEmployee('AddAll',$event)">
            <i class="icon-chevron-double-right icondrag"></i>
            <md-tooltip>Add All</md-tooltip>
          </md-button>
          <md-button class="md-fab md-raised md-mini"
                     ng-disabled="!selectAnyNoAddedEmployee || vm.isWOUnderTermination"
                     ng-click="vm.ModifyPageAddedEmployee('Add',$event)">
            <i class="icon-chevron-right icondrag"></i>
            <md-tooltip>Add</md-tooltip>
          </md-button>
        </div>
      </div>
      <div flex layout="column">
        <div layout="row" class="mobilesearch userpermissionhead"
             layout-align="space-between end">
          <md-input-container class="md-block error-none no-label" md-no-float flex flex-xs="75"
                              ng-class="{'clickedsearch':isButtonEmployeeAddedClicked}">
            <input id="SearchAddedListEmployee" type="text" placeholder="Type here to search added {{vm.personnelid?'customer':'personnel'}}"
                   ng-model="vm.SearchAddedListEmployee"
                   ng-change="vm.searchFromAddedList()"
                   ng-model-options="{debounce: vm.debounceTime }" max="255">
          </md-input-container>
          <md-button class="md-raised md-primary md-ink-ripple margin-0" ng-disabled="!vm.SearchAddedListEmployee"
                     ng-click="vm.SearchAddedListEmployee='';vm.searchFromAddedList()">
            Clear
          </md-button>
        </div>
        <md-list flex class="permissiontab custom-scroll dragbox"
                 ng-class="{'layout-column': vm.employeeAddedList.length == 0}">
          <md-list-item id="employeeAddedList" class="padding-0 items-container" layout="row" flex="100"
                        layout-wrap ui-sortable="sortableOptionsEmployee" ng-model="vm.employeeAddedList" haveadded="true">
            <div flex="100" class="md-1-line margin-0 dragsortable padding-top-0 padding-bottom-0"
                 ng-repeat="employee in vm.employeeAddedList" ui-sortable-selectable ng-model="employee"
                 layout="row" layout-align="start center">
              <div class="avatar-wrapper" ng-if="vm.customerid">
                <img class="md-avatar avatar" ng-src="{{employee.ProfilePic}}" />
              </div>
              <div class="md-list-item-text" layout="row" layout-wrap ng-if="vm.customerid">
                <h3 class="name margin-0 md-primary-fg" flex="100">
                  <b>
                    <a class="cm-text-decoration" ng-click="vm.goToUpdatePersonnel(employee.id);">
                      {{'('+employee.initialName+') '}}{{(employee.firstName ? employee.firstName : "") + " " + (employee.lastName ? employee.lastName : "")}}
                    </a>
                  </b>
                  <span ng-if="employee.gencCategoryName">
                    {{'(' + employee.gencCategoryName + ')'}}
                    <md-tooltip>Title</md-tooltip>
                  </span>
                  <span ng-if="employee.deptName">
                    {{'(' + employee.deptName + ')'}}
                    <md-tooltip>Default Department</md-tooltip>
                  </span>
                </h3>
                <p class="last-message margin-0" ng-if="employee.empCertificationDetList.length > 0">
                  <!--text-truncate-->
                  <label class="label-box margin-top-5 margin-left-2" ng-style="{'background-color': standardItem.colorCode}"
                         ng-repeat="standardItem in employee.empCertificationDetList track by $index">
                    {{standardItem.stdClassName}}
                    <md-tooltip>Certified Standard</md-tooltip>
                  </label>
                </p>
              </div>
              <div class="md-list-item-text padding-15" layout="row" ng-if="vm.personnelid" layout-wrap>
                <h3 class="name margin-0 md-primary-fg" flex="100">
                  <b>
                    <a class="cm-text-decoration" ng-click="vm.goToManageCustomer(employee.id);">
                      {{'('+employee.mfgCode+') '}}{{employee. mfgName}}
                    </a>
                  </b>
                </h3>
              </div>
            </div>
            <div flex="100" class="md-1-line margin-0 cursor-not-allow"
                 ng-if="vm.employeeAddedList.length == 0" ui-sortable-selectable>
              <div class="empty-state text-center">
                <div class="emty-icon">
                  <img ng-src="{{vm.EmptyMesssageEmployees.IMAGEURL}}" />
                </div>
                <p class="empty-state-title font-size-2 useadded-emptytxt"
                   ng-if="vm.SearchAddedListEmployee == null">
                  {{vm.personnelid?vm.EmptyMesssageCustomer.MESSAGE:vm.EmptyMesssageEmployees.MESSAGE}}
                </p>
                <p class="empty-state-title font-size-2 useadded-emptytxt"
                   ng-if="vm.SearchAddedListEmployee != null">
                  {{vm.personnelid?vm.EmptyMesssageCustomer.EMPTY_SEARCH_MESSAGE:vm.EmptyMesssageEmployees.EMPTY_SEARCH_MESSAGE}}
                </p>
              </div>
            </div>
          </md-list-item>
        </md-list>
      </div>
    </div>
  </div>
  <div flex="100" class="md-1-line margin-0 cursor-not-allow" ng-if="!vm.isCustomerMappedwithEmployee">
    <div class="empty-state text-center full-height">
      <div class="emty-icon">
        <img ng-src="{{vm.personnelid?vm.EmptyMesssageCustomer.IMAGEURL:vm.EmptyMesssageEmployees.IMAGEURL}}" />
      </div>
      <p class="empty-state-title font-size-2 useadded-emptytxt" ng-if="vm.personnelid">
        {{vm.EmptyMesssageCustomer.MESSAGE}}
      </p>
      <p class="empty-state-title font-size-2 useadded-emptytxt" ng-if="vm.customerid">
        {{vm.EmptyMesssageEmployees.MESSAGE}}
      </p>
      <p flex="100" ng-if="vm.personnelid">
        {{vm.EmptyMesssageCustomer.ADDNEWMESSAGE}}
      </p>
      <p flex="100" ng-if="vm.customerid">
        {{vm.EmptyMesssageEmployees.ADDNEWMESSAGE}}
      </p>
      <p flex="100">
        <md-button class="md-fab md-mini" aria-label="Add Elements" ng-click="vm.addDataEmployee(null,$event)">
          <md-icon role="img" md-font-icon="icon-plus" class="material-icons mat-icon icon-plus"></md-icon>
        </md-button>
        <md-button class="md-fab md-mini" aria-label="Add Elements" ng-click="vm.refreshDataEmployee()">
          <md-icon role="img" md-font-icon="icon-refresh" class="material-icons mat-icon icon-refresh">
          </md-icon>
        </md-button>
      </p>
    </div>
  </div>
</form>
