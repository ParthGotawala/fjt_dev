<md-dialog aria-label="Duplicate File Details" class="cm-custom-label-common" cg-busy="{promise:vm.cgBusyLoading}" draggable>
  <form name="vm.duplicateFileCopyActionForm" class="md-inline-form" novalidate>
    <md-button id="btnRequireColValidation" type="submit" ng-hide="true"></md-button>
    <md-toolbar>
      <div class="md-toolbar-tools">
        <h2>
          Duplicate Document List
        </h2>
        <span flex></span>
        <popup-header-label label-data="vm.headerdata"></popup-header-label>
        <md-button class="md-icon-button" ng-click="vm.cancel()">
          <md-icon role="img" md-font-icon="icon-close" class="material-icons mat-icon icon-close"></md-icon>
        </md-button>
      </div>
    </md-toolbar>
    <md-dialog-content class="customer-modal no-padding custom-scroll mh-5" layout="column">
      <md-content class="padding-10">
        <div class="content fullpage-datatable" layout="column">
          <div ng-if="vm.data.duplicateFileList.length > 0"
               class="margin-top-10"
               layout="column" flex="100">
            <div layout="row" flex="100" class="mb-20">
              <p class="text-bold font-size-18">
                The destination already has a file named with below!
              </p>
            </div>
            <!--<div flex="50" layout="row" layout-align="end-center">
              <div flex="50" layout="row" class="input-wrapper padding-right-10 layout-row">
                <p class="label-container">Search <span>&nbsp;</span></p>
                <md-input-container class="md-block search-header margin-0 error-none">
                  <input type="text" ng-model="vm.queryDuplicateDoc.searchTxt" ng-change="vm.searchFromDuplicateDoc()"
                         ng-model-options="{debounce: vm.debounceConstant.mdDataTable }" placeholder="Search">
                </md-input-container>
              </div>
              <div layout-align="end center" class="layout-align-end-center">
                <md-button class="md-primary md-raised mv-0 ml-0 md-button md-default-theme md-ink-ripple mb-20" aria-label="Clear"
                           ng-disabled="!vm.queryDuplicateDoc.searchTxt"
                           ng-click="vm.queryDuplicateDoc.searchTxt = ''; vm.searchFromDuplicateDoc()">
                  Clear
                </md-button>
              </div>
            </div>-->

            <div layout="column" flex="100" class="mb-10">
              <md-table-container layout="row" flex="100">
                <table md-table class="md-data-table table-row-select cm-overflow-auto">
                  <thead md-head md-order="vm.queryDuplicateDoc.order">
                    <tr md-row>
                      <th md-column width="50">
                        #
                      </th>
                      <th md-column md-order-by="">
                        Name
                      </th>
                      <th md-column md-order-by="">
                        {{vm.LabelConstant.Workorder.WO}}
                      </th>
                      <th md-column md-order-by="" ng-if="vm.isNotExistsFilesFoundAtSource">
                        Status
                      </th>
                    </tr>
                  </thead>
                  <tbody md-body>
                    <tr md-row ng-repeat="item in vm.duplicateDocumentList">
                      <td md-cell>{{$index+1}}</td>
                      <td md-cell>{{item.gencOriginalName}}</td>
                      <td md-cell>{{item.woNumber}}</td>
                      <td md-cell ng-if="vm.isNotExistsFilesFoundAtSource">
                        <span ng-class="{'color-red' :item.isFileNotExistsAtSource , 'green-fg' : !item.isFileNotExistsAtSource}">
                          {{item.isFileNotExistsAtSource ? item.reasonForNotCopy : 'Done'}}
                        </span>
                      </td>
                    </tr>
                  </tbody>
                </table>
              </md-table-container>
              <div class="empty-state full-height-90" layout="row" layout-wrap layout-align="center center"
                   ng-if="vm.queryDuplicateDoc.searchTxt && !vm.duplicateDocumentList.length">
                <div class="emty-icon" flex="100">
                  <img ng-src="{{vm.emptySearch.IMAGEURL}}" />
                </div>
                <p class="empty-state-title" flex="100">{{vm.emptySearch.MESSAGE}}</p>
              </div>
            </div>
            <div layout="row" flex="100" class="mt-20">
              <span flex="30" class="mt-5">
                <b>Please apply from following</b>
              </span>
              <md-radio-group flex="70"
                              flex-xs="70"
                              name="addWOFrom"
                              ng-model="vm.copyActionModel.copyAction"
                              layout="column"
                              class="margin-0"
                              required>
                <md-radio-button class="margin-top-0" ng-repeat="item in vm.RadioGroup.copyConfirmationConst.array"
                                 name="{{item.Key}}" value="{{item.Value}}">{{item.Key}}</md-radio-button>
              </md-radio-group>
            </div>
          </div>
          <div ng-if="!vm.duplicateDocumentList || vm.duplicateDocumentList.length == 0"
               class="empty-state text-center full-height" flex="100" layout="row" layout-align="center center" layout-wrap>
            <div class="emty-icon" flex="100">
              <img ng-src="{{vm.EmptyMesssagePO.IMAGEURL}}" />
            </div>
            <p flex="100" class="empty-state-title">{{vm.EmptyMesssagePO.MESSAGE}}</p>
          </div>
        </div>
      </md-content>
    </md-dialog-content>
    <md-dialog-actions layout="row">
      <md-button class="md-default md-raised" ng-click="vm.cancel()">Cancel</md-button>
      <md-button class="md-primary md-raised" ng-click="vm.apply($event)"
                 ng-class="{'md-formdirty': vm.duplicateFileCopyActionForm.$dirty}"
                 ng-disabled="vm.saveDisable">Apply</md-button>
    </md-dialog-actions>
  </form>

</md-dialog>
