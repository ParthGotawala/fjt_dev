<form name="vm.employeeDepartmentForm" class="padding-10-imp" ms-form-wizard-form novalidate>
  <!--<md-button ng-if="msWizard.selectedIndex == 3" id="btnRequireColValidation" type="submit" ng-hide="true"></md-button>-->
  <md-content class="md-padding">
    <div class="cm-section-main margin-bottom-5" ng-if="!vm.EmployeeDepartmentList.length  == 0" flex="100">
      <div class="cm-section-inner">
        <div class="cm-overflow-auto" ng-repeat="empDeptItem in vm.EmployeeDepartmentList track by $index" layout="column" layout-gt-xs="row" flex>
          <ng-form name="vm.employeeDepartmentForm_{{$index}}" class="width-100p">
            <table cellspacing="0" cellpadding="0" class="cm-table-input-main">
              <tbody>
                <tr flex="100" layout="row">
                  <th flex="5" flex-xl="5" flex-sm="10">
                    <p class="label-container"><a class="cm-text-decoration underline" ng-click="vm.goToTitleList();" tabindex="-1">{{empDeptItem.autoCompleteTitle.placeholderName}}</a><span ng-hide="!empDeptItem.isEditClicked">&nbsp;*</span></p>
                  </th>
                  <td flex="25" flex-xl="30">
                    <md-input-container class="autocompletecustom" flex="100" flex-gt-xs="100">
                      <custom-auto-complete datalist="vm.GenericCategoryList"
                                            column-name="empDeptItem.autoCompleteTitle.columnName"
                                            controller-name="empDeptItem.autoCompleteTitle.controllerName"
                                            view-template-url="empDeptItem.autoCompleteTitle.viewTemplateURL"
                                            key-column-name="empDeptItem.autoCompleteTitle.keyColumnName"
                                            input-name="empDeptItem.autoCompleteTitle.inputName"
                                            placeholder-name="empDeptItem.autoCompleteTitle.placeholderName"
                                            key-column-id="empDeptItem.autoCompleteTitle.keyColumnId"
                                            is-required="empDeptItem.autoCompleteTitle.isRequired"
                                            is-addnew="empDeptItem.autoCompleteTitle.isAddnew"
                                            is-disabled="!empDeptItem.isEditClicked"
                                            callback-fn="empDeptItem.autoCompleteTitle.callbackFn"
                                            add-data="empDeptItem.autoCompleteTitle.addData"
                                            on-select-callback-fn="empDeptItem.autoCompleteTitle.onSelectCallbackFn"
                                            callback-fn-param="empDeptItem"
                                            custom-auto-focus="true">
                      </custom-auto-complete>
                    </md-input-container>
                  </td>
                  <th flex="10" flex-xl="5" flex-sm="15">
                    <p class="label-container">
                      <a class="cm-text-decoration underline" ng-click="vm.goToDepartmentList();" tabindex="-1">{{empDeptItem.autoCompleteDepartment.placeholderName}}</a>
                      <span ng-hide="!empDeptItem.isEditClicked">&nbsp;*</span>
                    </p>
                  </th>
                  <td flex="25" flex-xl="30">
                    <md-input-container class="autocompletecustom" flex="100" flex-gt-xs="100">
                      <custom-auto-complete datalist="vm.DepartmentList"
                                            column-name="empDeptItem.autoCompleteDepartment.columnName"
                                            controller-name="empDeptItem.autoCompleteDepartment.controllerName"
                                            view-template-url="empDeptItem.autoCompleteDepartment.viewTemplateURL"
                                            key-column-name="empDeptItem.autoCompleteDepartment.keyColumnName"
                                            input-name="empDeptItem.autoCompleteDepartment.inputName"
                                            placeholder-name="empDeptItem.autoCompleteDepartment.placeholderName"
                                            key-column-id="empDeptItem.autoCompleteDepartment.keyColumnId"
                                            is-required="empDeptItem.autoCompleteDepartment.isRequired"
                                            add-data="empDeptItem.autoCompleteDepartment.addData"
                                            is-addnew="empDeptItem.autoCompleteDepartment.isAddnew"
                                            is-disabled="!empDeptItem.isEditClicked"
                                            callback-fn="empDeptItem.autoCompleteDepartment.callbackFn"
                                            callback-fn-param="empDeptItem">
                      </custom-auto-complete>
                    </md-input-container>
                  </td>
                  <th flex class="padding-0">
                    <md-button class="md-default md-raised md-ink-ripple md-mini margin-left-5 margin-right-0 margin-top-0 margin-bottom-0" type="button" ng-if="!empDeptItem.empDeptID && empDeptItem.isEditClicked"
                               ng-click="vm.cancelEmptyDept();">
                      Cancel
                    </md-button>
                    <md-button class="md-raised md-primary  md-mini margin-left-5 margin-right-0 margin-top-0 margin-bottom-0" type="button" ng-click="vm.SaveEmployeeDepartment(empDeptItem, $index)" ng-if="empDeptItem.isEditClicked"
                               ng-class="{'md-formdirty': vm.employeeDepartmentForm_{{$index}}.$dirty}">
                      <!--ng-disabled="!empDeptItem.autoCompleteTitle.keyColumnId || !empDeptItem.autoCompleteDepartment.keyColumnId"-->
                      Save
                    </md-button>
                    <md-button class="md-raised md-primary md-ink-ripple md-mini margin-left-5 margin-right-0 margin-top-0 margin-bottom-0" type="button" ng-if="empDeptItem.empDeptID && !empDeptItem.isEditClicked"
                               ng-click="vm.depApprovalEditClicked(empDeptItem)" ng-disabled="empDeptItem.isEditClicked">
                      Update
                    </md-button>
                    <md-button class="md-raised md-primary md-ink-ripple md-mini margin-left-5 margin-right-0 margin-top-0 margin-bottom-0" type="button" ng-hide="!empDeptItem.empDeptID" ng-click="vm.DeleteEmployeeDepartment(empDeptItem)">
                      Delete
                    </md-button>
                    <md-button class="md-raised md-primary md-ink-ripple md-mini margin-left-5 margin-right-0 margin-top-0 margin-bottom-0" type="button" ng-disabled="empDeptItem.isDefault" ng-if="empDeptItem.empDeptID"
                               ng-click="vm.setAsDefaultEmpDept(empDeptItem)">
                      Set as Default
                    </md-button>
                    <md-button ng-if="$index == vm.EmployeeDepartmentList.length - 1"
                               type="button" ng-disabled="!empDeptItem.autoCompleteTitle.keyColumnId || !empDeptItem.autoCompleteDepartment.keyColumnId || !empDeptItem.isSavedData"
                               class="md-raised md-primary md-ink-ripple md-mini margin-left-5 margin-right-0 margin-top-0 margin-bottom-0" aria-label="Add Department" ng-click="vm.addEmptyDeptApproval()">
                      Add Department
                    </md-button>
                  </th>
                </tr>
              </tbody>
            </table>
          </ng-form>
        </div>
      </div>
    </div>
    <div class="empty-state text-center full-height" flex="100" layout="row" layout-align="center center"
         layout-wrap ng-if="vm.EmployeeDepartmentList.length  == 0">
      <div class="emty-icon" flex="100">
        <img ng-src="{{vm.EmptyMesssageDepartment.IMAGEURL}}" />
      </div>
      <p flex="100" class="empty-state-title">{{vm.EmptyMesssageDepartment.MESSAGE}}</p>
      <p flex="100">
        {{vm.EmptyMesssageDepartment.ADDNEWMESSAGE}}
      </p>
      <p flex="100">
        <md-button class="md-fab md-mini" aria-label="Assign Department" ng-click="vm.addEmptyDeptApproval()">
          <md-icon role="img" md-font-icon="icon-plus" class="material-icons mat-icon icon-plus"></md-icon>
        </md-button>
      </p>
    </div>
  </md-content>
</form>
