<div id="forms" class="page-layout simple fullwidth doc-page breadcrumb-fixed cm-custom-label-common" layout="column" cg-busy="{promise:vm.cgBusyLoading}">
  <!--<ms-form-wizard flex="100" layout="row">-->
    <div layout="row" flex="100" class="border" >
      <form name="vm.frmRequestForShip" class="md-inline-form padding-5-imp border-0" flex="inherit" ms-form-wizard-form novalidate>
        <md-button id="btnRequireColValidation" type="submit" ng-hide="true"></md-button>
        <div layout="row" class="margin-bottom-10 border-0">
          <div class="cm-section-main border-0 " flex="100">
            <!--[S]Request for Ship  -->
            <div class="cm-section-inner" layout="row" layout-md="column" layout-sm="column" layout-wrap>
              <div flex="100">
                <table cellpadding="0" cellspacing="0" class="cm-table-input-main">
                  <tbody>
                    <tr>
                      <th>
                        <p class="label-container">Subject<span ng-if="!vm.isPageDisabled">&nbsp;*</span></p>
                      </th>
                      <td>
                        <md-input-container flex="100" class="margin-bottom-0">
                          <input type="text" name="note" ng-model="vm.shippingRequestModel.note" ng-disabled="vm.isPageDisabled"
                                 placeholder="Subject" ng-maxlength="500" required md-autofocus>
                          <div ng-messages="vm.frmRequestForShip.note.$error"
                               role="alert">
                            <div ng-message="required">
                              <span>{{vm.CORE_MESSAGE_CONSTANT.REQUIRED}}</span>
                            </div>
                            <div ng-message="maxlength">
                              <span>{{vm.getMaxLengthValidation(500,vm.shippingRequestModel.note.$viewValue.length)}}</span>
                            </div>
                          </div>
                        </md-input-container>
                      </td>  
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>
          </div> 
        </div>
      </form>
      <!--[E]Request for Ship  -->
    </div>
    <div layout="row" flex="100" class="border-0">
      <form name="vm.frmRequestForShipDtl" class="md-inline-form margin-top-10 padding-5-imp border" flex="100"  ms-form-wizard-form novalidate>
        <!--[S]Request for Ship Detail  -->
        <div flex="100" layout="row" class=" border-0" layout-wrap> <!--padding-5-->
          <div class="cm-section-main margin-pro-rs-right-0" layout="row" layout-wrap flex ="40">
            <div class="cm-section-inner  overflow-auto-rs border-0" flex="100" layout-md="column" layout-wrap>
              <table cellspacing="0" cellpadding="0" class="cm-table-input-main cm-rs-table">
                <tbody>
                  <tr>
                    <th><p class="label-container">{{vm.autoCompleteAssy.placeholderName}}<span ng-if="!vm.isPageDisabled">&nbsp;*</span></p></th>
                    <td colspan="2">
                      <md-input-container ng-if="vm.autoCompleteAssy" class="autocompletecustom" flex="100">
                        <custom-auto-complete class="min-width-initial" datalist="vm.woAssyList"
                                              custom-auto-focus="{{false}}"
                                              column-name="vm.autoCompleteAssy.columnName"
                                              controller-name="vm.autoCompleteAssy.controllerName"
                                              view-template-url="vm.autoCompleteAssy.viewTemplateURL"
                                              key-column-name="vm.autoCompleteAssy.keyColumnName"
                                              input-name="vm.autoCompleteAssy.inputName"
                                              placeholder-name="vm.autoCompleteAssy.placeholderName"
                                              key-column-id="vm.autoCompleteAssy.keyColumnId"
                                              is-required="vm.autoCompleteAssy.isRequired"
                                              is-addnew="vm.autoCompleteAssy.isAddnew"
                                              is-disabled="vm.autoCompleteAssy.isDisabled"
                                              callback-fn="vm.autoCompleteAssy.callbackFn"
                                              on-select-callback-fn="vm.autoCompleteAssy.onSelectCallbackFn"
                                              ng-disabled="vm.isPageDisabled">
                        </custom-auto-complete>
                        <span flex="100" class="font-size-10">
                          <b>{{vm.LabelConstant.Assembly.NickName}}, {{vm.LabelConstant.Assembly.ID}}, {{vm.LabelConstant.Workorder.WO}}</b>
                        </span>
                      </md-input-container>
                    </td>
                  </tr>
                  <tr>
                    <th>
                      <p class="label-container">Requested Shipping Qty</p>
                    </th>
                    <td>
                      <md-input-container flex="100" class="margin-bottom-0">
                        <input type="number" name="qty" ng-model="vm.selectedWOAssy.requestedQty" disabled placeholder="Requested Shipment Qty">
                        <div ng-messages="vm.frmRequestForShipDtl.qty.$error"
                             role="alert">
                          <div ng-message="number">
                            <span>{{vm.CORE_MESSAGE_CONSTANT.INVALID}}</span>
                          </div>
                        </div>
                      </md-input-container>
                    </td>
                    <th>
                      <p class="label-container">Shipping Qty<span ng-if="!vm.isPageDisabled">&nbsp;*</span></p>
                    </th>
                    <td>
                      <md-input-container flex="100">
                        <input type="number" name="shippingQty" ng-model="vm.selectedWOAssy.qty" min="1"
                               onkeypress="return OnlyNumeric(event)" ng-disabled="vm.isPageDisabled"
                               placeholder="Shipping Qty" required max="{{vm.selectedWOAssy.buildQty}}">
                        <div ng-messages="vm.frmRequestForShipDtl.shippingQty.$error"
                             role="alert">
                          <div ng-message="required && vm.selectedWOAssy.PIDCode">
                            <span>{{vm.CORE_MESSAGE_CONSTANT.REQUIRED}}</span>
                          </div>
                          <div ng-message="invalid">
                            <span>{{vm.CORE_MESSAGE_CONSTANT.INVALID}}</span>
                          </div>
                          <div ng-message="min">
                            <span>{{vm.CORE_MESSAGE_CONSTANT.INVALID}}</span>
                          </div>
                          <div ng-message="max">
                            <span>{{vm.CORE_MESSAGE_CONSTANT.QTY_NOT_MORE_THAN_BUILDQTY}}</span>
                          </div>
                        </div>
                      </md-input-container>
                    </td>
                  </tr>
                  <tr>
                    <th><p class="label-container">Note</p></th>
                    <td colspan="2">
                      <md-input-container flex class="margin-bottom-0">
                        <input type="text" name="dtlnote" ng-model="vm.selectedWOAssy.note"
                               placeholder="Note" ng-maxlength="500" ng-disabled="vm.isPageDisabled">
                        <div ng-messages="vm.frmRequestForShipDtl.dtlnote.$error"
                             role="alert">
                          <div ng-message="maxlength">
                            <span>{{vm.getMaxLengthValidation(500,vm.frmRequestForShip.dtlnote.$viewValue.length)}}</span>
                          </div>
                        </div>
                      </md-input-container>
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
          <div class="cm-section-main margin-pro-rs-right-0" layout="row" layout-wrap flex="60">
            <div class="cm-section-inner overflow-auto-rs" flex="100" layout-md="column" layout-sm="column" layout-wrap>
              <div layout="row" layout-sm="column" class="padding-top-5" flex="100">
                <div flex="100" flex-sm="100" layout="row" layout-wrap > <!--ng-if="vm.selectedWOAssy">-->
                  <!--ng-if="vm.selectedWOAssy"-->
                  <div class="customerbox  input-width width-100p mt-rs-5" layout="row">
                    <div class="cm-section-inner overflow-auto-rs">
                    <table cellspacing="0" cellpadding="0" class="cm-table-input-main cm-add-shipping-record ">
                      <tr>
                        <th>
                          <a class="cm-text-decoration" ng-click="vm.goToCustomerList();">{{vm.LabelConstant.Customer.Customer}}</a>:
                        </th>
                        <td no-translate-class>
                          <a class="cm-text-decoration" ng-click="vm.goToManageCustomer(vm.selectedWOAssy.customerID);">
                            {{vm.selectedWOAssy.mfgName}}
                          </a>
                        </td>
                        <th>
                          <a class="cm-text-decoration margin-0 " ng-mousedown="vm.goToAssemblyList();">
                            {{vm.LabelConstant.Assembly.ID}}:
                          </a>
                        </th>
                        <td no-translate-class class="width-180">
                          <common-pid-code-label-link component-id="vm.selectedWOAssy.partID"
                                                      label="vm.LabelConstant.Assembly.ID" value="vm.selectedWOAssy.PIDCode"
                                                      is-copy="true" rohs-icon="vm.rohsImagePath + vm.selectedWOAssy.rohsIcon"
                                                      rohs-status="vm.selectedWOAssy.rohsName" is-formated="true"
                                                      is-assembly="true">
                          </common-pid-code-label-link>
                        </td>
                        <th>
                          <span class="color-black">{{vm.LabelConstant.Assembly.Rev}}:</span>
                        </th>
                        <td no-translate-class class="color-black">
                          <span>{{vm.selectedWOAssy.rev}}</span>
                        </td>
                      </tr>
                      <tr>
                        <th>
                          <span class="text-right color-black">{{vm.LabelConstant.Assembly.NickName}}:</span>
                        </th>
                        <td no-translate-class class="color-black width-150">
                          <span>{{vm.selectedWOAssy.nickName}}</span>
                        </td>
                        <th>
                          <span class="text-right color-black">{{vm.LabelConstant.Assembly.Description}}:</span>
                        </th>
                        <td no-translate-class class="color-black">
                          <span>{{vm.selectedWOAssy.mfgPNDescription}}</span>
                        </td>
                      </tr>
                      <tr>
                        <th>
                          <span class="text-right color-black">{{vm.LabelConstant.Workorder.WO}}: </span>
                        </th>
                        <td no-translate-class class="color-black">
                          <span> {{vm.selectedWOAssy.woNumber}}</span>
                        </td>
                        <th>
                          <span class="text-right color-black">{{vm.LabelConstant.Workorder.BuildQty}}:</span>
                        </th>
                        <td no-translate-class class="color-black">
                          <span>{{vm.selectedWOAssy.buildQty}}</span>
                        </td>
                        <th>
                          <span class="text-right color-black"> {{vm.LabelConstant.Shipped.ShippedQty}}:</span>
                        </th>
                        <td no-translate-class class="color-black">
                          <span>
                            {{vm.selectedWOAssy.shippedQty}}
                          </span>
                        </td>
                      </tr>
                    </table>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          </div>
          <!--[E]Request for Ship  -->
          <div class="cm-section-inner border-0 padding-top-10" layout="row" layout-md="column" layout-sm="column" layout-wrap>
            <div flex="100" layout-align="end-center" layout="row">
              <div>
                <md-button class="md-primary md-raised md-ink-ripple mv-0 margin-right-0" ng-disabled="vm.isPageDisabled"
                           ng-class="{'md-formdirty': vm.frmRequestForShipDtl.$dirty}"
                           ng-click="vm.saveDetailRow(vm.selectedWOAssy)">
                  {{ vm.selectedWOAssy && vm.selectedWOAssy.id ? 'UPDATE' : 'ADD'  }}
                </md-button>
              </div>
              <div>
                <md-button class="md-primary md-raised md-ink-ripple mv-0 margin-right-0 mt-rs-5" ng-disabled="vm.isPageDisabled" ng-click="vm.cancelRequestForShipDet()">
                  RESET
                </md-button>
              </div>
            </div>
          </div>

          <!--</div>
  </div>-->
          <!-- Detail UI Grid-->
          <div layout="row" flex ng-show="!vm.isNoDataFound" class="padding-top-10">
            <md-card class="margin-0" layout="column" flex layout-align="space-between stretch">
              <ui-grid-extention class="cm-shipment-request-grid" load-data="vm.loadData"
                                 grid-option="vm.gridOptions"
                                 header="vm.sourceHeader"
                                 grid-data="vm.sourceData"
                                 total-data-count="vm.totalSourceDataCount"
                                 reset-grid="vm.resetSourceGrid"
                                 selectted-rows="vm.selectedRowsList"
                                 paging-info="vm.pagingInfo"
                                 current-item="vm.currentdata"
                                 get-data-down="vm.getDataDown"
                                 empty-state="vm.emptyState"
                                 delete-multiple-data= vm.deleteMultipleData
                                 grid-id="vm.gridConfig.gridShippingRequestDet"> 
</md-card>
          </div>
          <div class="empty-state text-center full-height" layout="row" layout-align="center center" flex="100" layout-wrap ng-if="vm.isNoDataFound == true">
            <div class="emty-icon" flex="100">
              <img ng-src="{{vm.EmptyMesssage.IMAGEURL}}" />
            </div>
            <p flex="100" class="empty-state-title">{{vm.EmptyMesssage.MESSAGE}}</p>
          </div>
</form>
     </div>
  <!--</ms-form-wizard>-->
</div>
