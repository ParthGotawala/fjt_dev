<div id="forms" class="page-layout simple fullwidth doc-page breadcrumb-fixed cm-custom-label-common md-inline-form" layout="column" cg-busy="{promise:vm.cgBusyLoading}" ng-class="{'cm-packing-slip-empty': vm.isNoDataFound == true}">
    <div class="padding-10 pt-2" flex="100">

        <form name="vm.filtersInfo">
            <div layout="row" layout-wrap class="advanced-filters">

                <div layout="row" flex="20" layout-md="column" layout-sm="column" class="padding-top-8">
                    <!--Suppliers-->
                    <div layout="row" flex="100">
                        <div layout="column" class="alias-list-main min-height-100p" flex="100">
                            <div class="title alias-list-title" layout="row" flex="100" layout-align="space-between center">
                                <span class="label-container width-auto padding-right-7">
                                    <a class="cm-text-decoration underline" ng-click="vm.goToSupplierList();" tabindex="-1">{{vm.SupplierRMAAdvanceFilters.Supplier.value}}</a>
                                </span>
                                <div layout="row" layout-align="center center" flex="100" class="cm-part-mfr-list-search">
                                    <md-input-container md-no-float flex="100" layout="row" class="margin-0 pos-rel">
                                        <input type="text" name="mfrSearchText" id="mfrSearchText" ng-model="vm.mfrSearchText"
                                               placeholder="Type here to search"
                                               ng-maxlength="50" autocomplete="off"
                                               ng-change="vm.searchMfrList()">
                                        <md-button ng-if="vm.mfrSearchText" class="md-icon-button height-20 width-20 line-height-20 cm-part-filter-clear-btn margin-top-3" ng-click="vm.clearMfrSearchText()">
                                            <md-icon role="img" md-font-icon="icon-close" class="material-icons mat-icon icon-close font-size-12 color-white"></md-icon>
                                        </md-button>
                                    </md-input-container>
                                </div>
                                <div layout="row" layout-align="center center">
                                    <a class="cm-text-decoration color-white underline"
                                       ng-click="vm.clearManufacturerFilter();"
                                       tabindex="-1"
                                       ng-if="vm.mfgCodeDetailModel.length">
                                        Clear
                                    </a>
                                    <md-button ng-click="vm.getMfgSearch();" class="md-primary md-link-ripple cm-part-advance-filter-btn">
                                        <md-icon md-font-icon="icon-reload">
                                            <md-tooltip>Reload</md-tooltip>
                                        </md-icon>
                                    </md-button>
                                </div>
                            </div>
                            <select ng-model="vm.mfgCodeDetailModel" size="10" multiple="" class="cm-auto-scroll"
                                    ng-if="vm.mfgCodeListToDisplay && vm.mfgCodeListToDisplay.length">
                                <option ng-repeat="x in vm.mfgCodeListToDisplay" value="{{x.id}}">{{x.mfgCodeName}}</option>
                            </select>
                            <div class="empty-state text-center full-height" flex="100" layout="row" layout-align="center center" layout-wrap ng-if="!vm.mfgCodeListToDisplay || vm.mfgCodeListToDisplay.length == 0">
                                <p flex="100" class="empty-state-title font-size-17-imp">{{vm.EmptyMesssageFilter.MESSAGE}}</p>
                            </div>
                        </div>

                    </div>
                </div>

                <div layout="row" flex="80" class="padding-top-8">
                    <div layout="row" flex="45">
                        <div layout flex="35">
                            <fieldset flex class="container-box margin-left-5 margin-pro-rs-left-0">
                                <legend class="margin-0">{{vm.SupplierRMAAdvanceFilters.SupplierRMAStatus.value}}</legend>
                                <div class="cm-checkbox-margin-10px ml-10" layout="column">
                                    <md-checkbox ng-model="vm.isCheckDRA" class="mv-0">{{vm.statusTypeList[1].value}}</md-checkbox>
                                    <md-checkbox ng-model="vm.isCheckWS" class="mv-0">{{vm.statusTypeList[2].value}}</md-checkbox>
                                    <md-checkbox ng-model="vm.isCheckWC" class="mv-0">{{vm.statusTypeList[3].value}}</md-checkbox>
                                    <md-checkbox ng-model="vm.isCheckCR" class="mv-0">{{vm.statusTypeList[4].value}}</md-checkbox>
                                    <md-checkbox ng-model="vm.isCheckATP" class="mv-0">{{vm.statusTypeList[5].value}}</md-checkbox>
                                    <md-checkbox ng-model="vm.isCheckPartiallyPaid" class="mv-0">{{vm.statusTypeList[7].value}}
                                        <md-icon class="icon-question-mark-circle help-icon h-16 margin-left-5-imp padding-left-0-imp">
                                            <md-tooltip md-direction="top" class="tooltip-height-auto">
                                                <span>{{vm.transaction.PaidStatusHelpIconTooltip}}</span>
                                            </md-tooltip>
                                        </md-icon>
                                    </md-checkbox>
                                    <md-checkbox ng-model="vm.isCheckPaid" class="mv-0">{{vm.statusTypeList[6].value}}
                                        <md-icon class="icon-question-mark-circle help-icon h-16 margin-left-5-imp padding-left-0-imp">
                                            <md-tooltip md-direction="top" class="tooltip-height-auto">
                                                <span>{{vm.transaction.PaidStatusHelpIconTooltip}}</span>
                                            </md-tooltip>
                                        </md-icon>
                                    </md-checkbox>
                                </div>
                            </fieldset>
                        </div>
                        <div layout flex="25">
                            <fieldset flex class="container-box margin-left-5 margin-pro-rs-left-0">
                                <legend class="margin-0">{{vm.SupplierRMAAdvanceFilters.LockStatus.value}}</legend>
                                <div class="cm-checkbox-margin-10px ml-10" layout="column">
                                    <md-checkbox ng-model="vm.isNotApplicable">{{vm.transaction.SupplierRMALockStatus.NA.value}}</md-checkbox>
                                    <md-checkbox ng-model="vm.isReadyToLock">{{vm.transaction.SupplierRMALockStatus.ReadyToLock.value}}</md-checkbox>
                                    <md-checkbox ng-model="vm.isLocked">{{vm.transaction.SupplierRMALockStatus.Locked.value}}</md-checkbox>
                                </div>
                            </fieldset>
                        </div>
                        <div layout flex="40">
                            <fieldset flex class="container-box margin-left-5 margin-pro-rs-left-0">
                                <legend class="margin-0">{{vm.SupplierRMAAdvanceFilters.PostingStatus.value}}</legend>
                                <div class="cm-checkbox-margin-10px ml-10" layout="column">
                                    <md-checkbox ng-model="vm.isDraft">{{vm.SupplierRMAModeStatus[0].Name}}</md-checkbox>
                                    <md-checkbox ng-model="vm.isPublished">{{vm.SupplierRMAModeStatus[1].Name}}</md-checkbox>
                                    <md-checkbox ng-model="vm.isShipped">{{vm.SupplierRMAModeStatus[2].Name}}</md-checkbox>
                                </div>
                            </fieldset>
                        </div>
                    </div>
                    <div layout layout-wrap flex="55">
                        <div layout flex="100">
                            <div layout="row" flex flex-md="100" flex-sm="100" class="ml-5">
                                <fieldset flex="100" class="container-box width-100p">
                                    <legend class="margin-0">{{vm.SupplierRMAAdvanceFilters.Search_RMA_Packingslip_CreditMemoNo.value}}</legend>
                                    <div class="margin-0" layout="row" flex="100" layout-align="start start">
                                        <div class="input-wrapper pt-5" layout="row" layout-align="start center">
                                            <md-radio-group class="mb-5" flex="100" layout="row" ng-model="vm.pagingInfo.searchType" name="checkSerachType">
                                                <md-radio-button ng-value="vm.CustomSearchTypeForList.Contains" class="md-primary margin-top-0">Contains</md-radio-button>
                                                <md-radio-button ng-value="vm.CustomSearchTypeForList.Exact" class="md-primary margin-top-0">Exact</md-radio-button>
                                            </md-radio-group>
                                        </div>
                                        <div class="input-wrapper pt-5" layout="row" flex="100" layout-align="start start">
                                            <md-input-container flex="100" class="margin-bottom-0" md-no-float>
                                                <input type="text" id="advanceSearchNumbers" name="advanceSearchNumbers"
                                                       ng-model="vm.advanceSearchNumbers"
                                                       ng-maxlength="50"
                                                       ng-keypress="vm.applyFiltersOnEnter($event)"
                                                       autocomplete="off" placeholder="{{vm.SupplierRMAAdvanceFilters.Search_RMA_Packingslip_CreditMemoNo.value}}" />
                                                <div ng-messages="vm.filtersInfo.advanceSearchNumbers.$error" role="alert">
                                                    <div ng-message="maxlength">
                                                        <span>{{vm.getMaxLengthValidation(50,vm.filtersInfo.advanceSearchNumbers.$viewValue.length)}}</span>
                                                    </div>
                                                </div>
                                            </md-input-container>
                                            <div layout="row" ng-if="vm.advanceSearchNumbers" class="padding-top-3">
                                                <md-button class="md-icon-button md-primary md-mini height-auto width-auto" ng-click="vm.removeSearchFilter()">
                                                    <md-icon md-font-icon="icon-close" class="material-icons mat-icon"></md-icon>
                                                    <md-tooltip>Reset</md-tooltip>
                                                </md-button>
                                            </div>
                                        </div>
                                    </div>
                                </fieldset>
                            </div>
                        </div>
                        <div layout="row" flex flex-md="100" flex-sm="100" class="container-box ml-5 mt-8">
                            <div class="pt-5 pb-2 mt-8" layout="row" flex="100" layout-align="start start">
                                <div class="input-wrapper width-40" layout="row" flex="10">
                                    <p class="margin-top-5">
                                        <a class="cm-text-decoration underline" ng-click="vm.goToPartList();" tabindex="-1">
                                            {{vm.SupplierRMAAdvanceFilters.MFRPN.value}}
                                        </a>
                                    </p>
                                </div>

                                <div class="input-wrapper" layout="row" flex>
                                    <md-input-container ng-if="vm.autoCompletecomponent" class="autocompletecustom margin-bottom-0" flex="100">
                                        <custom-auto-complete-search class="min-width-initial"
                                                                     on-search-fn="vm.autoCompletecomponent.onSearchFn"
                                                                     column-name="vm.autoCompletecomponent.columnName"
                                                                     controller-name="vm.autoCompletecomponent.controllerName"
                                                                     view-template-url="vm.autoCompletecomponent.viewTemplateURL"
                                                                     key-column-name="vm.autoCompletecomponent.keyColumnName"
                                                                     input-name="vm.autoCompletecomponent.inputName"
                                                                     placeholder-name="vm.autoCompletecomponent.placeholderName"
                                                                     key-column-id="vm.autoCompletecomponent.keyColumnId"
                                                                     is-required="vm.autoCompletecomponent.isRequired"
                                                                     is-addnew="vm.autoCompletecomponent.isAddnew"
                                                                     on-select-callback-fn="vm.autoCompletecomponent.onSelectCallbackFn">
                                        </custom-auto-complete-search>
                                    </md-input-container>
                                </div>
                            </div>
                        </div>
                        <div layout="row" flex="100" flex-md="100" flex-sm="100" class="ml-5">
                            <fieldset flex="100" class="container-box width-100p">
                                <legend class="margin-0">{{vm.SupplierRMAAdvanceFilters.RMADate.value}}</legend>
                                <common-date-filter from-date="vm.rmaFromDate" to-date="vm.rmaToDate" reset-filter="vm.resetDateFilter"></common-date-filter>
                            </fieldset>
                        </div>
                    </div>
                </div>
                <div layout="row" flex="100">
                    <fieldset flex="20" class="container-box">
                        <legend class="margin-0">Select Records</legend>
                        <div class="cm-btn-group">
                            <md-button class="md-primary md-raised md-ink-ripple mv-0 cm-feture-btn-color"
                                       ng-disabled="vm.selectedRowsList.length===0 || !vm.allowToLockSupplierRMAFeature"
                                       ng-click="vm.lockRecord(null,$event)">
                                Lock
                            </md-button>
                        </div>
                        <span class="font-weight-600 font-size-10 ml-8">
                            {{vm.LabelConstant.SelectRecordsEnableButton}}
                        </span>
                    </fieldset>
                    <div flex="80" layout>

                        <div class="margin-left-5 pr-5" layout="row" flex="45" flex-md="100" flex-sm="100">
                            <div layout="row" flex="100" layout-md="column" layout-sm="column">
                                <div layout="column" flex="100">
                                    <fieldset flex="100" class="container-box width-100p">
                                        <legend class="margin-0">
                                            {{vm.SupplierRMAAdvanceFilters.SearchComments.value}}
                                        </legend>
                                        <div layout="row" flex="100" layout-align="start start">
                                            <md-input-container class="margin-bottom-0 width-100p" md-no-float>
                                                <input type="text" id="rmaComments" name="rmaComments"
                                                       ng-model="vm.rmaComments" placeholder="{{vm.SupplierRMAAdvanceFilters.SearchComments.value}}"
                                                       ng-maxlength="1000"
                                                       ng-keypress="vm.applyFiltersOnEnter($event)"
                                                       autocomplete="off" />
                                                <span class="font-weight-600 font-size-10">Hint: Will search on RMA Comments & Internal RMA Comments</span>
                                                <div ng-messages="vm.filtersInfo.rmaComments.$error" role="alert">
                                                    <div ng-message="maxlength">
                                                        <span>{{vm.getMaxLengthValidation(1000,vm.filtersInfo.rmaComments.$viewValue.length)}}</span>
                                                    </div>
                                                </div>
                                            </md-input-container>
                                            <div layout="row" ng-if="vm.rmaComments" class="padding-top-3">
                                                <md-button class="md-icon-button md-primary md-mini height-auto width-auto" ng-click="vm.removeCommentFilter()">
                                                    <md-icon md-font-icon="icon-close" class="material-icons mat-icon"></md-icon>
                                                    <md-tooltip>Reset</md-tooltip>
                                                </md-button>
                                            </div>
                                        </div>
                                    </fieldset>
                                </div>
                            </div>
                        </div>
                        <div layout="row" flex class="cm-section-main mt-8 pt-6 cm-btn-group" layout-align="end start">
                            <md-button class="md-primary md-raised md-ink-ripple" ng-click="vm.searchAdvanceFilter()">
                                {{vm.LabelConstant.COMMON.APPLY_FILTERS}}
                            </md-button>
                            <md-button class="md-default md-raised md-ink-ripple" ng-click="vm.resetAdvanceFilter()">
                                {{vm.LabelConstant.COMMON.CLEAR_ALL}}
                            </md-button>
                            <md-button class="md-default md-raised md-ink-ripple" ng-click="vm.resetAdvanceFilter(true)">
                                {{vm.LabelConstant.COMMON.RESET}}
                            </md-button>
                        </div>
                    </div>
                </div>
            </div>
            <div layout="row" layout-align="start center" layout-wrap flex="100"
                 ng-if="vm.numberOfMasterFiltersApplied || vm.isUiGridColumnFiltersApplied">
                <span class="font-weight-600">
                    {{vm.LabelConstant.COMMON.APPLIED_FILTERS}}
                </span>
                <div ng-repeat="item in vm.SupplierRMAAdvanceFilters" layout="row" layout-align="start center" class="cm-tracking-chip-mian"
                     ng-if="!item.isDeleted">
                    <div class="tracking-number-chip" layout="row" layout-align="start center">
                        <label>
                            {{item.value}}
                            <md-tooltip md-direction="top" ng-if="item.tooltip" class="tooltip-height-auto cm-white-space-normal tt-multiline max-width-1015 p-5"
                                        ng-bind-html="item.tooltip">
                            </md-tooltip>
                        </label>
                        <md-button class="md-icon-button md-primary md-mini" ng-click="vm.removeAppliedFilter(item, $index)">
                            <md-icon md-font-icon="icon-close" class="material-icons mat-icon"></md-icon>
                            <md-tooltip>{{vm.LabelConstant.COMMON.FILTER_REMOVE_TOOLTIP}}</md-tooltip>
                        </md-button>
                    </div>
                </div>
                <div layout="row" layout-align="start center" class="cm-tracking-chip-mian">
                    <div class="tracking-number-chip" layout="row" layout-align="start center">
                        <label>
                            Clear All
                        </label>
                        <md-button class="md-icon-button md-primary md-mini" ng-click="vm.resetAdvanceFilter()">
                            <md-icon md-font-icon="icon-close" class="material-icons mat-icon"></md-icon>
                            <md-tooltip>Clear All Filters and Reload Data</md-tooltip>
                        </md-button>
                    </div>
                </div>
            </div>
            <div layout="row" layout-align="start center" layout-wrap flex="100"
                 ng-if="vm.isUiGridColumnFiltersApplied && vm.gridOptions.gridApi && vm.gridOptions.gridApi.grid.columns.length > 0">
                <span class="font-weight-600">
                    {{vm.LabelConstant.COMMON.APPLIED_GRID_FILTERS}}
                </span>
                <div ng-repeat="item in vm.gridOptions.gridApi.grid.columns" layout="row" layout-align="start center" class="cm-tracking-chip-mian"
                     ng-if="item.filters[0].term">
                    <div class="tracking-number-chip" layout="row" layout-align="start center" ng-if="item.filters[0].term">
                        <label>
                            {{item.displayName}}
                            <md-tooltip md-direction="top" ng-if="item.filters[0].term" class="tooltip-height-auto cm-white-space-normal tt-multiline max-width-1015 p-5"
                                        ng-bind-html="item.filters[0].term">
                            </md-tooltip>
                        </label>
                        <md-button class="md-icon-button md-primary md-mini" ng-click="vm.clearGridColumnFilter(item, $index)">
                            <md-icon md-font-icon="icon-close" class="material-icons mat-icon"></md-icon>
                            <md-tooltip>{{vm.LabelConstant.COMMON.FILTER_REMOVE_TOOLTIP}}</md-tooltip>
                        </md-button>
                    </div>
                </div>
            </div>
        </form>

        <div flex="100" layout="row" layout-wrap class="mt-5">

            <div flex ng-show="!vm.isNoDataFound">
                <md-card layout="column" class="margin-0 cm-packing-slip-grid" flex layout-align="space-between stretch">
                    <ui-grid-extention ng-class="{'cm-invoice-supplier-rma-grid': vm.currentPage === vm.transaction.TRANSACTION_INVOICE_RMA_STATE && (vm.numberOfMasterFiltersApplied || vm.isUiGridColumnFiltersApplied),
                             'cm-invoice-supplier-rma-grid-no-filter-chips': vm.currentPage === vm.transaction.TRANSACTION_INVOICE_RMA_STATE && !(vm.numberOfMasterFiltersApplied || vm.isUiGridColumnFiltersApplied),
                             'cm-supplier-rma-grid': vm.currentPage !== vm.transaction.TRANSACTION_INVOICE_RMA_STATE && (vm.numberOfMasterFiltersApplied || vm.isUiGridColumnFiltersApplied),
                             'cm-supplier-rma-grid-no-filter-chips': vm.currentPage !== vm.transaction.TRANSACTION_INVOICE_RMA_STATE && !(vm.numberOfMasterFiltersApplied || vm.isUiGridColumnFiltersApplied)}"
                                       grid-id="vm.gridConfig.gridSupplierRMA"
                                       load-data="vm.loadData"
                                       grid-option="vm.gridOptions"
                                       header="vm.sourceHeader"
                                       grid-data="vm.sourceData"
                                       total-data-count="vm.totalSourceDataCount"
                                       reset-grid="vm.resetSourceGrid"
                                       selectted-rows="vm.selectedRowsList"
                                       paging-info="vm.pagingInfo"
                                       current-item="vm.currentdata"
                                       get-data-down="vm.getDataDown"
                                       empty-state="vm.emptyState"
                                       delete-multiple-data="vm.deleteMultipleData">
                    </ui-grid-extention>
                </md-card>
            </div>

            <div class="empty-state text-center full-height packing-slip-empty-state" flex="100" layout="row" layout-align="center center" layout-wrap ng-if="vm.isNoDataFound == true">
                <div class="emty-icon" flex="100">
                    <img ng-src="{{vm.EmptyMesssage.IMAGEURL}}" />
                </div>
                <p flex="100" class="empty-state-title">{{vm.EmptyMesssage.MESSAGE}}</p>
                <p flex="100">
                    {{vm.EmptyMesssage.ADDNEWMESSAGE}}
                </p>
                <p flex="100">
                    <md-button class="md-fab md-mini" aria-label="Add Packing Slip" ng-click="vm.addSupplierRMA()">
                        <md-icon role="img" md-font-icon="icon-plus" class="material-icons mat-icon icon-plus"></md-icon>
                        <md-tooltip md-direction="top">Add Supplier RMA</md-tooltip>
                    </md-button>
                    <md-button class="md-fab md-mini" aria-label="Refresh Packing Slip" ng-click="vm.loadData()">
                        <md-icon role="img" md-font-icon="icon-refresh" class="material-icons mat-icon icon-plus"></md-icon>
                        <md-tooltip md-direction="top">Refresh Supplier RMA</md-tooltip>
                    </md-button>
                </p>
            </div>

        </div>

    </div>
</div>
