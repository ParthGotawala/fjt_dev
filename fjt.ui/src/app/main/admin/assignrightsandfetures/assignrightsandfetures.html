<div id="forms" class="page-layout simple fullwidth doc-page breadcrumb-fixed cm-custom-label-common" layout="column" cg-busy="{promise:vm.cgBusyLoading}">
  <!-- Header Section -->
  <div class="header" layout="row" layout-align="space-between center">
    <div class="white-fg" layout="column" layout-align="start start">
      <div class="h2" layout="row" layout-align="start center">
        <pagetitle is-list="true" is-display-menu-name="true"></pagetitle>
      </div>
      <div layout="row" layout-align="start center">
        <breadcrumbs></breadcrumbs>
      </div>
    </div>
    <div>
     <!-- Button for give rights for page or features multiple selection -- Added By JAY SOLANKI -->
     <!-- <div class="cm-section-header" layout-align="end center"> -->
      <!-- <md-button class="md-primary md-raised" ng-click="vm.assignFeatureOrPage('SelectedCheckmark', null);"
      ng-class="{'md-formdirty': isPageChange}">
        {{vm.selectAndAssign}}
      </md-button> -->
    <!-- </div> -->
    </div>
  </div>
  <div class="content-card padding-top-side" layout="column" flex>
  <div layout="row" flex="100" class="cm-assigned-rights-page" layout-sm="column" layout-xs="column">   
    <div layout="column" flex>    
      <div layout="column" flex class="mt-rs-5">
        <div class="content-card" layout="column" flex>
          <md-card layout="column" class="margin-0" flex layout-align="space-between stretch">
            <ms-form-wizard class="cm-page-right-tab" layout="column" flex>

              <md-tabs is-valid="vm.isStepValid" 
              md-selected="msWizard.selectedIndex"
              validate-step="true" md-dynamic-height
              class="scroll-tab-content cm-role-rights-tab"
              layout="column" flex>
             
              <div>
                <!-- Button for give rights for page or features multiple selection -- Added By JAY SOLANKI -->
                <!-- <div class="cm-section-header" layout-align="end center"> -->
                 <md-button class="md-primary md-raised" ng-click="vm.assignFeatureOrPage('SelectedCheckmark', null);"
                 ng-class="{'md-formdirty': isRightChange || isFeatureChange }">
                   {{vm.selectAndAssign}}
                 </md-button>
               <!-- </div> -->
               </div>

                <!-- Show permissions or Pages of Page Rights  -->
                <md-tab-body>
                <form name="vm.permisionForm" class="padding-0" layout="column" flex ms-form-wizard-form  novalidate>
                  <md-tab label="Permissions" ng-click="vm.onTabChanges(vm.permissionsTabName)" layout="column" flex>
                    <md-content class="assign-right-and-feature-page" layout="column" flex>
                        <div class="p-8" ng-if="vm.isSearch">
                          <div layout layout-align="start center">
                              <span class="font-weight-600">
                                {{vm.constantAssignRightsAndFeatures.AppliedGridFilter}}:
                              </span>
                              <div layout="row" layout-align="start center" class="cm-tracking-chip-mian">
                                <div class="tracking-number-chip" layout="row" layout-align="start center">
                                  <label>
                                    {{vm.constantAssignRightsAndFeatures.RightForPage}}
                                    <md-tooltip md-direction="top" ng-if="vm.rightsPagingInfo.SearchColumns" class="tooltip-height-auto">
                                      {{vm.rightsPagingInfo.SearchColumns[0].SearchString}}
                                    </md-tooltip>
                                  </label>
                                  <md-button class="md-icon-button md-primary md-mini" ng-click="vm.resetAllFilter()">
                                    <md-icon md-font-icon="icon-close" class="material-icons mat-icon"></md-icon>
                                    <md-tooltip>{{vm.constantAssignRightsAndFeatures.RemoveFilter}}</md-tooltip>
                                  </md-button>
                                </div>
                              </div>
                          </div>
                        </div>
                      <div id="content-card" class="content-card height-100p" layout="column" flex ng-show="!vm.isPageNoDataFound && (vm.rightsPagingInfo.RoleId || vm.rightsPagingInfo.RoleId == 0)">
                        <md-card layout="column" class="margin-0 p-8 cm-role-rs" flex layout-align="space-between stretch">
                          <ui-grid-extention layout="column" flex 
                                             load-data="vm.getPageList"
                                             grid-option="vm.pageGridOptions"
                                             header="vm.pageSourceHeader"
                                             grid-data="vm.pages"
                                             total-data-count="vm.totalPageDataCount"
                                             reset-grid="vm.resetPageSourceGrid"
                                             selectted-rows="vm.selectedRowsList"
                                             paging-info="vm.rightsPagingInfo"
                                             current-item="vm.pagesCurrentdata"
                                             get-data-down="vm.getPageDataDown"
                                             empty-state="vm.pageEmptyState">
                        </md-card>
                      </div>
                      <div class="empty-state text-center full-height" layout="row" layout-align="center center" layout-wrap ng-if="vm.isPageNoDataFound == true || (!vm.rightsPagingInfo.RoleId && vm.rightsPagingInfo.RoleId != 0)">
                        <div class="emty-icon" flex="100">
                          <img ng-src="{{vm.PageEmptyMesssage.IMAGEURL}}" />
                        </div>
                        <p flex="100" class="empty-state-title">{{vm.PageEmptyMesssage.NOTSELECTEDROLEMASSAGE}}</p>
                      </div>
                    </md-content>
                  </md-tab>
                </form>
                </md-tab-body>

                <!-- Show Features of Page Rights  -->
                <md-tab-body>
                  <form name="vm.featureForm" class="padding-0" layout="column" flex  ms-form-wizard-form novalidate>
                    <md-tab label="Features" ng-click="vm.onTabChanges(vm.featuresTabName)" layout="column" flex>
                      <md-content ng-if="vm.isFeatureTab" class="assign-right-and-feature-page" layout="column" flex>
                        <div class="p-5" ng-if="vm.isFeatureSearch">
                          <div layout layout-align="start center">
                              <span class="font-weight-600">
                                {{vm.constantAssignRightsAndFeatures.AppliedGridFilter}}:
                              </span>
                              <div layout="row" layout-align="start center" class="cm-tracking-chip-mian">
                                <div class="tracking-number-chip" layout="row" layout-align="start center">
                                  <label>
                                    {{vm.constantAssignRightsAndFeatures.RightForFeature}}
                                    <md-tooltip md-direction="top" ng-if="vm.featurePagingInfo.SearchColumns" class="tooltip-height-auto">
                                      {{vm.featurePagingInfo.SearchColumns[0].SearchString}}
                                    </md-tooltip>
                                  </label>
                                  <md-button class="md-icon-button md-primary md-mini" ng-click="vm.resetAllFilter()">
                                    <md-icon md-font-icon="icon-close" class="material-icons mat-icon"></md-icon>
                                    <md-tooltip>{{vm.constantAssignRightsAndFeatures.RemoveFilter}}</md-tooltip>
                                  </md-button>
                                </div>
                              </div>
                          </div>
                        </div>
                        <div class="content-card" layout="column" layout="column" flex  ng-show="!vm.isFeatureNoDataFound && (vm.featurePagingInfo.RoleId || vm.featurePagingInfo.RoleId == 0)">
                          <md-card layout="column" class="margin-0 p-8 cm-role-rs" flex layout-align="space-between stretch">
                            <ui-grid-extention layout="column" flex 
                                              load-data="vm.getFeatureList"
                                              grid-option="vm.featureGridOptions"
                                              header="vm.featureSourceHeader"
                                              grid-data="vm.features"
                                              total-data-count="vm.totalFeatureDataCount"
                                              reset-grid="vm.resetFeatureSourceGrid"
                                              selectted-rows="vm.selectedFeatureRowsList"
                                              paging-info="vm.featurePagingInfo"
                                              current-item="vm.featuresCurrentdata"
                                              get-data-down="vm.getFeatureDataDown"
                                              empty-state="vm.featureEmptyState">
                          </md-card>
                        </div>
                        <div class="empty-state text-center full-height" layout="row" layout-align="center center" layout-wrap ng-if="vm.isFeatureNoDataFound == true || (!vm.featurePagingInfo.RoleId && vm.featurePagingInfo.RoleId != 0)">
                          <div class="emty-icon" flex="100">
                            <img ng-src="{{vm.FeatureEmptyMesssage.IMAGEURL}}" />
                          </div>
                          <p flex="100" class="empty-state-title">{{vm.FeatureEmptyMesssage.NOTSELECTEDROLEMASSAGE}}</p>
                        </div>
                      </md-content>
                    </md-tab>
                  </form>
                </md-tab-body>
                
              </md-tabs>
            </ms-form-wizard>

          </md-card>
        </div>
      </div>
    </div>
  </div>
  </div>
</div>
