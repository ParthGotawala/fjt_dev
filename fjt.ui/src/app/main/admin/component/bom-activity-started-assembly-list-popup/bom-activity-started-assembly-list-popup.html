<md-dialog aria-label="BOM-Activity-Started-Assembly-List" flex="90" cg-busy="{promise:vm.cgBusyLoading}" draggable>
  <form name="vm.BOMActivityStartedAssemblyForm" novalidate>
    <md-button id="btnRequireColValidation" type="submit" ng-hide="true"></md-button>
    <md-toolbar>
      <div class="md-toolbar-tools" layout="row" layout-align="space-between center">
        <h2>BOM Activity Started Assemblies</h2>
        <span flex></span>
        <md-button class="md-icon-button" ng-click="vm.cancel()">
          <md-icon role="img" md-font-icon="icon-close" class="material-icons mat-icon icon-close"></md-icon>
        </md-button>
      </div>
    </md-toolbar>
    <md-dialog-content class="customer-modal no-padding custom-scroll cm-select-mfg-part-popup" layout="column">
      <md-content class="md-padding">
        <div class="cm-bom-error-message font-size-20 pl-10 pt-5 pb-5">
          <b>{{vm.validationMessage.message}}</b>
        </div>
        <div layout layout-align="end start">
          <md-button class="md-default md-primary md-raised"
                     ng-disabled="vm.disableMultiStopActivity || vm.disableMultiStopActivityclick"
                     ng-class="{'md-formdirty': vm.checkSelectdBOM() }"
                     ng-click="vm.stopSelectedBOMActivity()">Stop BOM Activity</md-button>
        </div>
        <div class="content fullpage-datatable" layout="column" flex>
          <md-table-container layout="row" flex="100">
            <table md-table class="md-data-table table-row-select">
              <thead md-head md-order="vm.query.order">
                <tr md-row>
                  <th class="width-5p p-5">

                  </th>
                  <th md-column width="50">
                    #
                  </th>
                  <th md-column>
                    Image
                  </th>
                  <th md-column md-order-by="currentTimerDiff" width="50">
                    Activity Started From (HH:MM:SS)
                  </th>
                  <th md-column md-order-by="activityStartedByUserName">
                    Activity Started By
                  </th>
                  <th md-column md-order-by="mfgFullName">
                    {{vm.LabelConstant.MFG.MFG}}
                  </th>
                  <th md-column md-order-by="mfgPN">
                    {{vm.LabelConstant.Assembly.MFGPN}}
                  </th>
                  <th md-column md-order-by="PIDCode">
                    {{vm.LabelConstant.Assembly.PIDCode}}
                  </th>
                  <th md-column md-order-by="nickName">
                    {{vm.LabelConstant.Assembly.NickName}}
                  </th>
                  <th md-column md-order-by="mfgPNDescription">
                    Description
                  </th>
                </tr>
              </thead>
              <tbody md-body>
                <tr md-row ng-repeat="item in vm.partList | orderBy: vm.query.order">
                  <td class="p-5">
                    <md-input-container class="margin-0" flex="100">
                      <md-checkbox ng-model="item.isChecked" name="{{item.id}}" ng-disabled="vm.loginUser.userid !== item.activityStartBy && !vm.loginUser.isUserSuperAdmin">
                      </md-checkbox>
                    </md-input-container>
                  </td>
                  <td md-cell>{{$index+1}}</td>
                  <td md-cell><img src="{{item.imageURL}}" width="50" height="50" /></td>
                  <td md-cell width="50">
                    <div class="ui-grid-cell-contents text-center flex layout-align-center-center"
                         ng-if="item.isActivityStart && item.currentTimerDiff">
                      <label flex="100" layout-align="start center" layout="row" class="label-box label-warning">{{item.currentTimerDiff}}</label>
                      <img class="ml-5 h-22 w-22" src="../../../../../assets/images/logos/stop.png"
                           ng-click="vm.stopBOMActivity(item);"
                           title="Stop Activity">
                    </div>
                  </td>
                  <td md-cell>{{item.activityStartedByUserName}}</td>
                  <td md-cell>{{item.mfgFullName}}</td>
                  <td md-cell>
                    <common-pid-code-label-link component-id="item.id"
                                                label="vm.LabelConstant.MFG.MFGPN"
                                                value="item.mfgPN"
                                                is-copy="true"
                                                rohs-icon="vm.rohsImagePath + item.rohsIcon"
                                                rohs-status="item.name"
                                                is-search-digi-key="false"
                                                supplier-name="null"
                                                is-search-findchip="false"
                                                is-good-part="item.isGoodPart">
                    </common-pid-code-label-link>
                  </td>
                  <td md-cell>
                    <common-pid-code-label-link component-id="item.id"
                                                label="vm.LabelConstant.MFG.AssyID"
                                                value="item.PIDCode"
                                                is-copy="true"
                                                rohs-icon="vm.rohsImagePath + item.rohsIcon"
                                                rohs-status="item.name"
                                                is-search-digi-key="false"
                                                supplier-name="null"
                                                is-search-findchip="false"
                                                is-good-part="item.isGoodPart">
                    </common-pid-code-label-link>
                  </td>
                  <td md-cell>
                    {{item.nickName}}
                  </td>
                  <td md-cell>{{item.mfgPNDescription}}</td>
                </tr>
              </tbody>
            </table>
          </md-table-container>
        </div>
      </md-content>
    </md-dialog-content>
    <md-dialog-actions layout="row">
      <md-button class="md-default md-raised" ng-click="vm.cancel()">Close</md-button>
      <md-button class="md-default md-raised" ng-click="vm.continue()">Continue</md-button>
    </md-dialog-actions>
  </form>
</md-dialog>
