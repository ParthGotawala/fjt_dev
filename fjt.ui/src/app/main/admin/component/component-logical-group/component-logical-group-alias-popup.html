<md-dialog aria-label="Add MFG Code" class="mfg-popup-width cm-custom-label-common" cg-busy="{promise:vm.cgBusyLoading}" draggable>
  <form name="vm.genericAliasForm" novalidate>
    <md-button id="btnRequireColValidation" type="submit" ng-hide="true"></md-button>
    <md-toolbar>
      <div class="md-toolbar-tools">
        <h2>Update Mounting Group: {{vm.title}} </h2>
        <span flex></span>
        <popup-header-label label-data="vm.headerdata"></popup-header-label>
        <md-button class="md-icon-button" ng-click="vm.cancel()">
          <md-icon role="img" md-font-icon="icon-close" class="material-icons mat-icon icon-close"></md-icon>
        </md-button>
      </div>
    </md-toolbar>
    <md-dialog-content class="customer-modal no-padding" layout="column">
      <md-content class="padding-10">
        <div flex="100" layout-wrap class="md-padding">
          <div layout="row" class="margin-bottom-10">
            <div class="input-wrapper" layout="row" flex>
              <p class="label-container"><a class="cm-text-decoration underline" ng-click="vm.goToMountingTypeList();" tabindex="-1">Mounting Type</a><span>&nbsp;*</span></p>
              <md-input-container ng-if="vm.autoCompleteAlias" class="autocompletecustom margin-bottom-0" flex>
                <custom-auto-complete datalist="vm.tableAliasList"
                                      custom-auto-focus="{{true}}"
                                      column-name="vm.autoCompleteAlias.columnName"
                                      controller-name="vm.autoCompleteAlias.controllerName"
                                      view-template-url="vm.autoCompleteAlias.viewTemplateURL"
                                      key-column-name="vm.autoCompleteAlias.keyColumnName"
                                      input-name="vm.autoCompleteAlias.inputName"
                                      placeholder-name="vm.autoCompleteAlias.placeholderName"
                                      key-column-id="vm.autoCompleteAlias.keyColumnId"
                                      is-required="vm.autoCompleteAlias.isRequired"
                                      is-addnew="vm.autoCompleteAlias.isAddnew"
                                      callback-fn="vm.autoCompleteAlias.callbackFn"
                                      on-select-callback-fn="vm.autoCompleteAlias.onSelectCallbackFn">
                </custom-auto-complete>
              </md-input-container>
            </div>
            <div class="margin-left-5">
              <md-button class="md-primary md-raised margin-0" ng-disabled="vm.genericAliasForm.$invalid" ng-click="vm.updateAliasList(true,vm.genericAliasForm);" aria-label="Add">Add</md-button>
            </div>
          </div>
          <div layout="row" flex="100">
            <div layout="column" flex>
              <div layout="column" class="cm-common-line common-alias-list-main cm-manufacture-alias-list" flex>
                <div class="mobilesearch title alias-list-title userpermissionhead" layout="row" layout-align="space-between center">
                  <md-input-container class="md-block error-none no-label" md-no-float flex flex-xs="75">
                    <input type="text" class="font-weight-400" placeholder="Type here to search mounting type" ng-model="vm.Search">
                  </md-input-container>
                  <md-button class="md-raised md-primary md-ink-ripple margin-0"
                             ng-disabled="vm.Search =='' || vm.Search ==null"
                             ng-click="vm.Search=''">
                    Clear
                  </md-button>
                </div>
                <div layout="row" flex layout-wrap class="detail dossection max-height-100p" ng-if="vm.genericAliasModel.alias.length > 0">
                  <table class="simple no-padding cm-alias-popup-table" width="100%" ms-responsive-table="">
                    <thead>
                      <tr>
                        <th>Mounting Type</th>
                        <th class="text-center w-100">Action</th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr ng-repeat="alias in vm.genericAliasModel.alias|filter:vm.Search" class="height-40">
                        <td class="font-size-14">
                          {{alias.name}}
                        </td>
                        <td class="text-center font-size-14">
                          <md-button class="md-mini md-icon-button margin-0" ng-disabled="!alias.id">
                            <md-icon md-font-icon="icon-eye"></md-icon>
                            <md-tooltip md-direction="top" class="tt-multiline" ng-if="alias.id">
                              Created By: {{alias.fullName}}<br />
                              Created At: {{alias.createdAt}}
                            </md-tooltip>
                          </md-button>
                          <md-button class="md-mini md-icon-button margin-0" ng-click="vm.removeAliasFromList($event,$index)">
                            <md-icon md-font-icon="icon-trash"></md-icon><md-tooltip>Delete</md-tooltip>
                          </md-button>
                        </td>
                      </tr>
                    </tbody>
                  </table>
                </div>
                <div flex="100" class="md-1-line margin-0 dragsortable" layout="row" layout-align="start center"
                     ng-if="(vm.genericAliasModel.alias|filter:vm.Search).length==0 && vm.genericAliasModel.alias!=0">
                  <div class="empty-state text-center full-height" layout="row" layout-align="center center" layout-wrap flex="100">
                    <p flex="100" class="empty-state-title">{{vm.EmptyMesssage.MESSAGE}}</p>
                  </div>
                </div>
                <div flex="100" class="md-1-line margin-0 dragsortable" layout="row" layout-align="start center" ng-if="vm.genericAliasModel.alias.length==0">
                  <div class="empty-state text-center full-height" layout="row" layout-align="center center" layout-wrap flex="100">
                    <p flex="100" class="empty-state-title">{{vm.EmptyMesssage.MESSAGE}}</p>
                  </div>
                </div>

              </div>
            </div>
          </div>
        </div>
      </md-content>
    </md-dialog-content>
    <md-dialog-actions layout="row">
      <md-button class="md-default md-raised" ng-click="vm.cancel()">Cancel</md-button>
      <md-button class="md-primary md-raised" ng-class="{'md-formdirty':vm.checkFormDirty(vm.genericAliasForm)}" ng-click="vm.saveGenricAlias()" aria-label="Submit">Save</md-button>
    </md-dialog-actions>
  </form>
</md-dialog>
