<md-dialog aria-label="Add Who Acquired Who" class="mfg-popup-width cm-add-mergers-acq" cg-busy="{promise:vm.cgBusyLoading}" draggable>
    <form name="vm.AddWhoAcquiredWhoForm">
        <md-button id="btnRequireColValidation" type="submit" ng-hide="true"></md-button>
        <md-toolbar>
            <div class="md-toolbar-tools">
                <h2>Add Mergers & Acquisitions</h2>
                <span flex></span>
                <md-button class="md-icon-button" ng-click="vm.cancel()">
                    <md-icon role="img" md-font-icon="icon-close" class="material-icons mat-icon icon-close"></md-icon>
                </md-button>
            </div>
        </md-toolbar>
        <md-dialog-content class="customer-modal no-padding custom-scroll" layout="column">
            <md-content class="md-padding custom-scroll cm-custom-label-common">
                <div flex="100" flex-gt-xs="100" layout-wrap>
                    <div layout="row" layout-gt-xs="row" flex="100">
                        <div class="cm-section-main margin-5  border-0" flex="100">
                            <div class="cm-section-inner">
                                <table cellspacing="0" cellpadding="0" class="cm-table-input-main">
                                    <tbody>
                                        <tr>
                                            <th>
                                                <p class="label-container">
                                                    <a class="cm-text-decoration underline" ng-click="vm.goToManufacturerList();"
                                                       tabindex="-1">{{vm.autoCompleteBuyBy.placeholderName}}</a>
                                                    <span>&nbsp;*</span>
                                                </p>
                                            </th>
                                            <td>
                                                <md-input-container ng-if="vm.autoCompleteBuyBy" class="margin-bottom-0 md-block autocompletecustom min-width-initial" flex="100" flex-gt-xs="100">
                                                    <custom-auto-complete-search on-search-fn="vm.autoCompleteBuyBy.onSearchFn"
                                                                                 column-name="vm.autoCompleteBuyBy.columnName"
                                                                                 controller-name="vm.autoCompleteBuyBy.controllerName"
                                                                                 view-template-url="vm.autoCompleteBuyBy.viewTemplateURL"
                                                                                 key-column-name="vm.autoCompleteBuyBy.keyColumnName"
                                                                                 input-name="vm.autoCompleteBuyBy.inputName"
                                                                                 placeholder-name="vm.autoCompleteBuyBy.placeholderName"
                                                                                 key-column-id="vm.autoCompleteBuyBy.keyColumnId"
                                                                                 is-required="vm.autoCompleteBuyBy.isRequired"
                                                                                 is-addnew="vm.autoCompleteBuyBy.isAddnew"
                                                                                 add-data="vm.autoCompleteBuyBy.addData"
                                                                                 callback-fn="vm.autoCompleteBuyBy.callbackFn"
                                                                                 on-select-callback-fn="vm.autoCompleteBuyBy.onSelectCallbackFn"
                                                                                 custom-auto-focus="{{true}}">
                                                    </custom-auto-complete-search>
                                                </md-input-container>
                                            </td>
                                        </tr>
                                        <tr>
                                            <th>
                                                <p class="label-container">
                                                    <a class="cm-text-decoration underline" ng-click="vm.goToManufacturerList();"
                                                       tabindex="-1">{{vm.autoCompleteBuyTo.placeholderName}}</a>
                                                    <span>&nbsp;*</span>
                                                </p>
                                            </th>
                                            <td>
                                                <md-input-container ng-if="vm.autoCompleteBuyTo" class="margin-bottom-0 md-block autocompletecustom min-width-initial" flex="100" flex-gt-xs="100">
                                                    <custom-auto-complete-search on-search-fn="vm.autoCompleteBuyTo.onSearchFn"
                                                                                 column-name="vm.autoCompleteBuyTo.columnName"
                                                                                 controller-name="vm.autoCompleteBuyTo.controllerName"
                                                                                 view-template-url="vm.autoCompleteBuyTo.viewTemplateURL"
                                                                                 key-column-name="vm.autoCompleteBuyTo.keyColumnName"
                                                                                 input-name="vm.autoCompleteBuyTo.inputName"
                                                                                 placeholder-name="vm.autoCompleteBuyTo.placeholderName"
                                                                                 key-column-id="vm.autoCompleteBuyTo.keyColumnId"
                                                                                 is-required="vm.autoCompleteBuyTo.isRequired"
                                                                                 is-addnew="vm.autoCompleteBuyTo.isAddnew"
                                                                                 callback-fn="vm.autoCompleteBuyTo.callbackFn"
                                                                                 add-data="vm.autoCompleteBuyTo.addData"
                                                                                 on-select-callback-fn="vm.autoCompleteBuyTo.onSelectCallbackFn">
                                                    </custom-auto-complete-search>
                                                </md-input-container>
                                            </td>
                                        </tr>
                                        <tr>
                                            <th>
                                                <p class="label-container">Acquisition Date<span>&nbsp;*</span></p>
                                            </th>
                                            <td>
                                                <md-input-container class="md-block datepicker padding-right-0-imp" flex="25">
                                                    <input type="text" class="float-left cm-acq-date"
                                                           name="acquisitionDate"
                                                           max-value="vm.todayDate"
                                                           allow-past-date="true"
                                                           allow-future-date="false"
                                                           datetime-picker="{{$root.dateDisplayFormat}}"
                                                           ng-model="vm.whoBoughtWhoModel.buyDate"
                                                           enable-time="false"
                                                           ui-options="{clearOnBlur  : true}"
                                                           ui-mask="{{$root.uimaskFormat.date.mask}}"
                                                           ui-mask-placeholder="{{$root.uimaskFormat.date.placeholder}}"
                                                           model-view-value="true"
                                                           datepicker-options="vm.buyDateOptions"
                                                           is-open="vm.IsPickerOpen[vm.DATE_PICKER.buyDate]"
                                                           required />
                                                    <md-icon md-font-icon="icon-calendar calender-icon"
                                                             ng-click="vm.IsPickerOpen[vm.DATE_PICKER.buyDate] = true">
                                                    </md-icon>
                                                    <div ng-messages="vm.AddWhoAcquiredWhoForm.acquisitionDate.$error" role="alert">
                                                        <div ng-message="maxvalue">
                                                            <span>{{vm.getMaxDateValidation('Acquisition Date', 'Today Date')}}</span>
                                                        </div>
                                                        <div ng-message="datetime">
                                                            <span>{{vm.CORE_MESSAGE_CONSTANT.INVALID}}</span>
                                                        </div>
                                                        <div ng-message="valid">
                                                            <span>{{vm.CORE_MESSAGE_CONSTANT.INVALID}}</span>
                                                        </div>
                                                        <div ng-message="required">
                                                            <span>{{vm.CORE_MESSAGE_CONSTANT.REQUIRED}}</span>
                                                        </div>
                                                    </div>
                                                </md-input-container>
                                            </td>
                                        </tr>
                                        <tr>
                                            <th>
                                                <p class="label-container">Description<span> </span></p>
                                            </th>
                                            <td colspan="3">
                                              <md-input-container flex="100">
                                                <textarea name="description" rows="3" ng-model="vm.whoBoughtWhoModel.description"
                                                          ng-maxlength="1000" md-maxlength="1000" placeholder="description"></textarea>
                                                <div ng-messages="vm.AddWhoAcquiredWhoForm.description.$error" role="alert">
                                                  <div ng-message="maxlength">
                                                    <span>{{vm.getMaxLengthValidation(1000, vm.AddWhoAcquiredWhoForm.description.$viewValue.length)}}</span>
                                                  </div>
                                                </div>
                                              </md-input-container>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </md-content>
        </md-dialog-content>
        <md-dialog-actions layout="row">
            <md-button class="md-default md-raised" ng-click="vm.cancel()">Cancel</md-button>
            <md-button class="md-primary md-raised" ng-class="{'md-formdirty': vm.checkFormDirty(vm.AddWhoAcquiredWhoForm) }"
                       ng-click="vm.verifyUser($event)" aria-label="Submit">Save</md-button>
            <!--ng-disabled="vm.AddWhoAcquiredWhoForm.$invalid || !vm.checkFormDirty(vm.AddWhoAcquiredWhoForm)"-->
        </md-dialog-actions>
    </form>
</md-dialog>
