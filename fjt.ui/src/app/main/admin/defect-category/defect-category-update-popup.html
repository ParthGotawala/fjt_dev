<md-dialog aria-label="defectCategory" class="cm-custom-label-common" cg-busy="{promise:vm.cgBusyLoading}" draggable>
    <form name="vm.defectCategoryForm" class="md-inline-form" novalidate>
        <md-button id="btnRequireColValidation" type="submit" ng-hide="true"></md-button>
        <md-toolbar>
            <div class="md-toolbar-tools" layout="row" layout-align="space-between center">
                <h2>{{vm.defectCateId == null ? 'Add':'Update'}} Defect Category</h2>
                <span flex></span>
                <md-button class="md-icon-button" ng-click="vm.cancel()">
                    <md-icon role="img" md-font-icon="icon-close" class="material-icons mat-icon icon-close"></md-icon>
                </md-button>
            </div>
        </md-toolbar>
        <md-dialog-content class="customer-modal no-padding custom-scroll">

            <md-content class="padding-10">
                <div layout="row">
                    <div class="cm-section-main border-0" layout="row" layout-wrap flex="100">
                        <div class="cm-section-inner" flex="100">
                            <table cellspacing="0" cellpadding="0" class="cm-table-input-main">
                                <tbody>
                                    <tr>
                                        <th>
                                            <!--<p class="label-container">Name<span>&nbsp;*</span></p>-->
                                        <p class="label-container">Name<span>&nbsp;*<check-unique-on-blur></check-unique-on-blur></span></p>
                                        </th>
                                        <td class="cm-update-color">
                                            <md-input-container class="md-block" flex="100">
                                                <input type="text" id="id_defectcatName" name="defectcatName" 
                                                       ng-model="vm.defectCategory.defectcatName"
                                                       custom-blur="vm.checkDuplicateDefectCategoryName();"
                                                       placeholder="Name" required md-autofocus ng-maxlength="255" ng-disabled="vm.defectCategory.systemGenerated">
                                                <div ng-messages="vm.defectCategoryForm.defectcatName.$error"
                                                     role="alert">
                                                    <div ng-message="required">
                                                        <span>{{vm.CORE_MESSAGE_CONSTANT.REQUIRED}}</span>
                                                    </div>
                                                    <div ng-message="maxlength">
                                                            <span>{{vm.getMaxLengthValidation(255, vm.defectCategoryForm.defectcatName.$viewValue.length)}}</span>
                                                        <!-- <span>{{vm.CORE_MESSAGE_CONSTANT.MAX_LENGTH}}</span> -->
                                                    </div>
                                                </div>
                                            </md-input-container>
                                        </td>
                                        <td class="cm-update-color-btn">
                                            <md-input-container class="md-block margin-0 pv-0" flex="100" flex-xs="100" disabled="disabled">
                                                <md-button class="md-default md-raised black-500-fg mv-0 margin-right-0" ng-click="vm.getColor($event,vm.defectCategory.colorCode)" style="background-color:{{vm.defectCategory.colorCode}} !important">Select Color Code</md-button>
                                                <div ng-messages="vm.defectCategoryForm.colorCode.$error"
                                                     role="alert">
                                                    <div ng-if="vm.defectCategory.colorCode.length>20">
                                                        <span>{{vm.CORE_MESSAGE_CONSTANT.MAX_LENGTH}}</span>
                                                    </div>
                                                </div>
                                            </md-input-container>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                    <!--<md-input-container class="md-block" flex="50">
                        <input type="text" name="defectcatName" ng-model="vm.defectCategory.defectcatName"
                               placeholder="Name" required md-autofocus ng-maxlength="255">
                        <div ng-messages="vm.defectCategoryForm.defectcatName.$error"
                             role="alert">
                            <div ng-message="required">
                                <span>{{vm.CORE_MESSAGE_CONSTANT.REQUIRED}}</span>
                            </div>
                            <div ng-message="maxlength">
                                <span>{{vm.CORE_MESSAGE_CONSTANT.MAX_LENGTH}}</span>
                            </div>
                        </div>
                    </md-input-container>-->
                    <!--<md-input-container class="md-block margin-0" flex="50" flex-xs="100" disabled="disabled">
                        <md-button class="md-default md-raised black-500-fg" ng-click="vm.getColor($event,vm.defectCategory.colorCode)" style="background-color:{{vm.defectCategory.colorCode}} !important">Select Color Code</md-button>
                        <div ng-messages="vm.defectCategoryForm.colorCode.$error"
                             role="alert">
                            <div ng-if="vm.defectCategory.colorCode.length>20">
                                <span>{{vm.CORE_MESSAGE_CONSTANT.MAX_LENGTH}}</span>
                            </div>
                        </div>
                    </md-input-container>-->
                </div>
                <!--<div layout="row">
                    <md-input-container class="md-block" flex="50">
                        <input type="number" name="displayOrder" ng-model="vm.defectCategory.order"
                               placeholder="Display Order" required ng-maxlength="11">
                        <div ng-messages="vm.defectCategoryForm.displayOrder.$error"
                             role="alert">
                            <div ng-message="required">
                                <span>{{vm.CORE_MESSAGE_CONSTANT.REQUIRED}}</span>
                            </div>
                            <div ng-message="maxlength">
                                <span>{{vm.CORE_MESSAGE_CONSTANT.MAX_LENGTH}}</span>
                            </div>
                            <div ng-message="number">
                                <span>{{vm.CORE_MESSAGE_CONSTANT.INVALID}}</span>
                            </div>
                        </div>
                    </md-input-container>
                </div>-->
                <div layout="row">
                    <div class="cm-section-main border-0" layout="row" layout-wrap flex="100">
                        <div class="cm-section-inner" flex="100">
                            <table cellspacing="0" cellpadding="0" class="cm-table-input-main">
                                <tbody>
                                    <tr>
                                        <td>
                                            <md-input-container class="md-block margin-0" flex>
                                                <div layout="column">
                                                    <span class="label-container margin-bottom-0" ng-style="{'color':vm.defectCategoryForm.description.$error.taMaxText?'red':''}">Description&nbsp;<span style="font-size:16px;">{{vm.minLengthMessage}}<span ng-if="vm.taToolbar.REQUIRED">&nbsp;*</span></span></span>
                                                    <span class="margin-bottom-10" ng-if="vm.defectCategoryForm.description.$error.taMaxText" style="color:red; font-size:12px">{{vm.getMaxLengthValidation(vm.taToolbar.MAX_LENGTH, vm.defectCategoryForm.description.$viewValue.length)}}</span>
                                                </div>
                                                <text-angular ta-toolbar="vm.taToolbar.INLINE" cg-busy-loading="vm.cgBusyLoading"
                                                              ng-class="{'text-angular-custom-border':vm.defectCategoryForm.description.$error.taMaxText}"
                                                              ng-model="vm.defectCategory.description"
                                                              name="description"
                                                              ta-min-text="{{vm.taToolbar.MIN_LENGTH}}"
                                                              ta-max-text="{{vm.taToolbar.MAX_LENGTH}}"
                                                              ng-required="{{vm.taToolbar.REQUIRED ? vm.taToolbar.REQUIRED : false}}"></text-angular>
                                                <div ng-messages="vm.defectCategoryForm.description.$error"
                                                     role="alert">
                                                    <div ng-message="required">
                                                        <span>{{vm.CORE_MESSAGE_CONSTANT.REQUIRED}}</span>
                                                    </div>
                                                </div>
                                            </md-input-container>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                    <!--<md-input-container class="md-block margin-0" flex>
                        <div layout="column">
                            <span class="label-container margin-bottom-0" ng-style="{'color':vm.defectCategoryForm.description.$error.taMaxText?'red':''}">Description&nbsp;<span style="font-size:16px;">{{vm.minLengthMessage}}<span ng-if="vm.taToolbar.REQUIRED">&nbsp;*</span></span></span>
                            <span class="margin-bottom-10" ng-if="vm.defectCategoryForm.description.$error.taMaxText" style="color:red; font-size:12px">{{vm.CORE_MESSAGE_CONSTANT.MAX_LENGTH}}</span>
                        </div>
                        <text-angular ta-toolbar="vm.taToolbar.INLINE"
                                      ng-class="{'text-angular-custom-border':vm.defectCategoryForm.description.$error.taMaxText}"
                                      ng-model="vm.defectCategory.description"
                                      name="description"
                                      ta-min-text="{{vm.taToolbar.MIN_LENGTH}}"
                                      ta-max-text="{{vm.taToolbar.MAX_LENGTH}}"
                                      ng-required="{{vm.taToolbar.REQUIRED ? vm.taToolbar.REQUIRED : false}}"></text-angular>
                        <div ng-messages="vm.defectCategoryForm.description.$error"
                             role="alert">
                            <div ng-message="required">
                                <span>{{vm.CORE_MESSAGE_CONSTANT.REQUIRED}}</span>
                            </div>
                        </div>
                    </md-input-container>-->
                </div>
                <!--<div layout-gt-xs="row">

                </div>-->
            </md-content>
        </md-dialog-content>
        <md-dialog-actions layout="row">
            <md-button class="md-default md-raised" ng-click="vm.cancel()">Cancel</md-button>
            <!-- Check vm.isChange flag for color picker dirty object-->
            <md-button class="md-primary md-raised" ng-click="vm.updateDefectCategory()" aria-label="Submit"
                       ng-class="{'md-formdirty': vm.checkFormDirty(vm.defectCategoryForm)}" ng-disabled="vm.isSaveDisable">Save</md-button>
            <!--ng-disabled="!vm.defectCategoryForm.$valid || !vm.checkFormDirty(vm.defectCategoryForm) && !vm.isChange"-->
        </md-dialog-actions>
    </form>
</md-dialog>
