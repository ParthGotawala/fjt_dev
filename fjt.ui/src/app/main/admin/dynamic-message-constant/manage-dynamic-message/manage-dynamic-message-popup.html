<md-dialog aria-label="Add Department" cg-busy="{promise:vm.cgBusyLoading}" draggable>
    <form name="vm.ManageDynamicMessageForm" novalidate>
        <md-button id="btnRequireColValidation" type="submit" ng-hide="true"></md-button>
        <md-toolbar>
            <div class="md-toolbar-tools">
                <h2>Update Configurable Messages</h2>
                <span flex></span>
                <div layout="row" layout-align="center center">
                    <md-button class="md-primary md-raised" ng-if="vm.manageDynamicMessage.moduleName">{{vm.manageDynamicMessage.moduleName}}</md-button>
                    <md-button class="md-icon-button toolbar-button margin-0" ng-click="vm.copyTextToClipBoard($event)"
                               ng-if="vm.manageDynamicMessage.defaultMessage">
                        <md-icon md-font-icon="icon-content-copy" role="img"></md-icon>
                        <md-tooltip>Copy default message</md-tooltip>
                    </md-button>
                </div>
                <md-button class="md-icon-button" ng-click="vm.cancel()">
                    <md-icon role="img" md-font-icon="icon-close" class="material-icons mat-icon icon-close"></md-icon>
                </md-button>
            </div>
        </md-toolbar>
        <md-dialog-content class="customer-modal no-padding cm-custom-label-common min-width-auto-600" layout="column">
            <md-content class="padding-10">
                <div layout-gt-xs="row" class="margin-bottom-10 font-size-14 ph-5">
                    <span class="text-bold" ng-if="vm.manageDynamicMessage.defaultMessage">Deafult Message: 
                        <span class="md-accent-fg text-bold" id="defaultMessage">{{vm.manageDynamicMessage.defaultMessage}}</span>
                    </span>
                </div>
                <div class="cm-section-main border-0">
                    <div class="cm-section-inner">
                        <table cellpadding="0" cellspacing="0" class="cm-table-input-main">
                            <tbody>
                                <tr>
                                    <th>
                                        <p class="label-container">Message<span>&nbsp;*</span></p>
                                    </th>
                                    <td>
                                        <md-input-container class="vm.isContainDynamicVariable ? md-block : ''" flex="vm.isContainDynamicVariable ? '65' : '100'"
                                                            flex-gt-xs="vm.isContainDynamicVariable ? '65' : '100'">
                                            <textarea name="message" ng-model="vm.manageDynamicMessage.value"
                                                      placeholder="Message" required ng-maxlength="1000" rows="2" md-autofocus></textarea>
                                            <div ng-messages="vm.ManageDynamicMessageForm.message.$error"
                                                 role="alert">
                                                <div ng-message="required">
                                                    <span>{{vm.CORE_MESSAGE_CONSTANT.REQUIRED}}</span>
                                                </div>
                                                <div ng-message="maxlength">
                                                    <span>{{vm.getMaxLengthValidation(1000,vm.ManageDynamicMessageForm.message.$viewValue.length)}}</span>
                                                </div>
                                            </div>
                                            <div class="custom-note-message md-primary-fg" ng-if="vm.isContainDynamicVariable"
                                                 ng-bind-html="vm.CORE_MESSAGE_CONSTANT.DYNAMIC_MESSAGE_VARIABLE_NOTES">
                                            </div>
                                        </md-input-container>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </md-content>
        </md-dialog-content>

        <md-dialog-actions layout="row">
            <md-button class="md-default md-raised" ng-click="vm.cancel()">Cancel</md-button>
            <md-button class="md-primary md-raised" ng-click="vm.saveDynamicMessage()" aria-label="Submit">Save</md-button>
        </md-dialog-actions>
    </form>
</md-dialog>
