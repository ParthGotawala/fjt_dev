<md-dialog aria-label="Employee Responsibility" class="" cg-busy="{promise:vm.cgBusyLoading}" draggable>
  <form name="vm.employeeResponsibilityForm">
    <md-toolbar>
      <div class="md-toolbar-tools" layout="row" layout-align="space-between center">
        <h2>Select Personnel Responsibility</h2>
        <span flex></span>
        <popup-header-label label-data="vm.headerdata"></popup-header-label>
        <md-button class="md-icon-button" ng-click="vm.cancel()">
          <md-icon role="img" md-font-icon="icon-close" class="material-icons mat-icon icon-close"></md-icon>
        </md-button>
      </div>
    </md-toolbar>
    <md-dialog-content class="customer-modal no-padding custom-scroll" layout="column">
      <md-content class="padding-10">
        <div class="content cm-standard-list-container">
          <div class="price-tables manage-standard" flex="100" layout="row" layout-wrap ng-if="!vm.isNoDataFound">
            <div layout="row" flex="100" layout-align="end end">
              <md-button class="md-primary md-raised" aria-label="Add Responsibility" ng-click="vm.goToResponsibilityList()">
                Responsibility
              </md-button>
              <md-button class="md-primary md-raised" aria-label="Add Responsibility" ng-click="vm.addResponsibility($event)"
                         ng-hide="(vm.categoryType.categoryTypeID == vm.HomeMenuID && vm.defaultRole != vm.roleAdmin && vm.defaultRole != vm.roleExecutive)
                                       || vm.categoryType.categoryTypeID == vm.notificationCategoryID">
                Add Responsibility
              </md-button>
              <md-button class="md-primary md-raised" aria-label="Refresh Responsibility" ng-click="vm.refreshResponsibility($event)">
                Refresh
              </md-button>
            </div>
            <!--<div flex="100">
              <div class="mv-5" flex="100" layout="row" ng-repeat="objresponsibility in vm.ResponsibilityList">
                <md-checkbox name="{{objresponsibility.id}}" class="margin-0" custom-auto-focus="{{$index == 0 ? true:false}}"
                             ng-model="objresponsibility.selected" ng-change="vm.isChanged = true">
                  {{objresponsibility.gencCategoryName}}
                </md-checkbox>
              </div>
            </div>-->
            <div layout="row" class="padding-top-10" layout-wrap layout-align="start center" flex="100" ng-if="!vm.isNoDataFound" ng-class="dialog.who">
              <div class="autocomplete cm-part-select-popup" flex="100" layout="column">
                <md-contact-chips name="selecteditem" flex="100" ng-model="vm.SelectedResponsibilityList" class="chipscontactgroup chip-input-250"
                                  md-contacts="vm.searchListItems($query)"
                                  md-contact-name="gencCategoryName"
                                  md-require-match="true"
                                  md-highlight-flags="i"
                                  custom-auto-focus="true"
                                  filter-selected="true"
                                  ng-change="vm.unselect(vm.employeeResponsibilityForm)"
                                  placeholder="Search or Select From Listed Below"
                                  secondary-placeholder="Search or Select From Listed Below">
                </md-contact-chips>
                <md-list class="cm-functional-types-list">
                  <!--<md-subheader class="md-no-sticky">Select Parts</md-subheader>-->
                  <md-list-item class="md-2-line contact-item cm-mtp-height32" ng-repeat="objresponsibility in vm.ResponsibilityList"
                                ng-if="!objresponsibility.isSelected"
                                ng-click="vm.onSelectedItem(objresponsibility,vm.employeeResponsibilityForm);" style="margin:2px 0">
                    <div class="md-list-item-text compact">
                      <h3 class="pt-5 mt-1">{{objresponsibility.gencCategoryName}}</h3>
                    </div>
                  </md-list-item>
                  <md-list-item class="md-2-line contact-item selected cm-mtp-height32" ng-repeat="objresponsibility in vm.SelectedResponsibilityList" style="margin:2px 0px">
                    <div class="md-list-item-text compact margin-0">
                      <h3 class="pt-5 mt-1">{{objresponsibility.gencCategoryName}}</h3>
                    </div>
                    <md-icon md-font-icon="icon-check"></md-icon>
                  </md-list-item>
                </md-list>
              </div>
            </div>
          </div>

          <div class="empty-state text-center full-height" layout="row" layout-align="center center" layout-wrap ng-if="vm.isNoDataFound">
            <div class="emty-icon" flex="100">
              <img ng-src="{{vm.imageUrl}}" />
            </div>
            <p flex="100" class="empty-state-title">{{vm.Message}}</p>
            <p flex="100" ng-hide="(vm.CcategoryType.categoryTypeID == vm.HomeMenuID && vm.defaultRole != vm.roleAdmin && vm.defaultRole != vm.roleExecutive)
                                      || vm.categoryType.categoryTypeID == vm.notificationCategoryID">
              {{vm.AddnewMessage}}
            </p>
            <p flex="100">
              <md-button class="md-fab md-mini" ng-click="vm.addResponsibility($event)"
                         ng-hide="(vm.categoryType.categoryTypeID == vm.HomeMenuID && vm.defaultRole != vm.roleAdmin && vm.defaultRole != vm.roleExecutive)
                                       || vm.categoryType.categoryTypeID == vm.notificationCategoryID">
                <md-icon role="img" md-font-icon="icon-plus" class="material-icons mat-icon icon-plus">
                  <md-tooltip>Add {{vm.addButtonLabel}}</md-tooltip>
                </md-icon>
              </md-button>
              <md-button class="md-fab md-mini" aria-label="Refresh Generic Category" ng-click="vm.refreshResponsibility()">
                <md-icon role="img" md-font-icon="icon-refresh" class="material-icons mat-icon icon-plus">
                  <md-tooltip>Refresh {{vm.addButtonLabel}}</md-tooltip>
                </md-icon>
              </md-button>
            </p>
          </div>
        </div>
      </md-content>
    </md-dialog-content>
    <md-dialog-actions layout="row">
      <md-button class="md-default md-raised" ng-click="vm.cancel()">Cancel</md-button>
      <md-button class="md-primary md-raised" ng-click="vm.SaveEmployeeResponsibility($event)"
                 ng-disabled="vm.saveDisable" aria-label="Submit">Save</md-button>
    </md-dialog-actions>
  </form>
</md-dialog>
