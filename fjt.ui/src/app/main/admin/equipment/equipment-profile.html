<div id="e-commerce-order" class="page-layout fullwidth simple tabbed breadcrumb-fixed" layout="column">
    <!-- HEADER -->
    <div class="header md-accent-bg" layout="row" layout-align="start center">
        <div class="white-fg" layout="row" layout-align="start center" flex>
            <md-button class="goto-products-button md-icon-button cm-back-btn-p-m" type="button" aria-label="Go to Employeelist" ng-click="vm.goBack()">
                <!--<md-icon md-font-icon="icon-arrow-left" class="material-icons icon-arrow-left">
                </md-icon>-->
                <md-icon md-font-icon="icons-backarrow" class="material-icons icons-backarrow cm-back-btn">
                </md-icon>
            </md-button>
            <div layout="column" layout-align="start start">
                <div class="h2">
                    <!--<span ng-if="vm.eqpID">Equipment Profile</span>-->
                    <pagetitle is-list="true" is-display-menu-name="true"></pagetitle>
                </div>
                <div layout="row" layout-align="start center">
                    <breadcrumbs></breadcrumbs>
                </div>	
            </div>
        </div>
    </div>
    <!-- / HEADER -->
    <!-- CONTENT -->
    <div class="content-card margin-15 padding-top-side">

        <div class="order-detail-form-container customer md-background-bg md-whiteframe-1dp">

            <div id="invoice" class="modern page-layout blank" layout="row">
                <div class="invoice-container" flex="100">
                    <!-- INVOICE -->
                    <div class="card md-whiteframe-8dp padding-0">
                        <div class="headerEmp" layout="row" layout-align="space-between center">
                            <div class="ids" layout="column" flex>
                                <div layout="row" class="seller" layout-align="start center">
                                    <div class="logo" layout="row" layout-align="center center" flex="20">
                                        <img class="img" ng-src="{{vm.imagefile}}" />
                                    </div>
                                    <div class="divider"></div>
                                    <div class="detail cm-detail-profile empdetail">
                                        <table>
                                            <tbody>
                                                <tr>
                                                    <th ng-if="vm.equipmentDetails.eqpMake">
                                                        <span>Make</span>:
                                                    </th>
                                                    <td>
                                                        {{vm.equipmentDetails.eqpMake}}
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <th ng-if="vm.equipmentDetails.eqpModel"><span>Model</span>:</th>
                                                    <td ng-if="vm.equipmentDetails.eqpModel">
                                                        {{vm.equipmentDetails.eqpModel}}
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <th ng-if="vm.equipmentDetails.eqpYear">
                                                        <span>Year</span>:
                                                    </th>
                                                    <td ng-if="vm.equipmentDetails.eqpYear">
                                                        {{vm.equipmentDetails.eqpYear}}
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <th ng-if="vm.equipmentDetails.assetNumber">
                                                        <span>Workstation/Asset#</span>:
                                                    </th>
                                                    <td ng-if="vm.equipmentDetails.assetNumber">
                                                        {{vm.equipmentDetails.assetNumber}}
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <th ng-if="vm.equipmentDetails.eqpGroup">
                                                        <span>Group</span>:
                                                    </th>
                                                    <td ng-if="vm.equipmentDetails.eqpGroup">
                                                        {{vm.equipmentDetails.eqpGroup}}
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <th ng-if="vm.equipmentDetails.eqpSubGroup">
                                                        <span>Sub Group</span>:
                                                    </th>
                                                    <td ng-if="vm.equipmentDetails.eqpSubGroup">
                                                        {{vm.equipmentDetails.eqpSubGroup}}
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <th>
                                                        <span>Ownership</span>:
                                                    </th>
                                                    <td>
                                                        <span>{{vm.equipmentDetails.eqpOwnershipType}} </span><span ng-if="vm.equipmentDetails.eqpOwnershipType == 'Customer'">| {{vm.equipmentDetails.customer}}</span><span ng-if="vm.equipmentDetails.eqpOwnershipType == 'Loan'"> | {{vm.equipmentDetails.bankName}}</span>
                                                    </td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>
                            <table class="summary empaddress">

                                <tr class="code">
                                    <td class="label opname underline inline-block" colspan="2"><span ng-click="vm.goToManageEquipmentWorkstation(vm.equipmentDetails)">{{vm.equipmentDetails.assetName}}</span></td>

                                </tr>

                            </table>

                        </div>
                    </div>

                </div>
                <!-- / INVOICE -->
                <!-- Use the following element to add breaks to your pages -->
                <!-- This will make sure that the section after this element will be printed on a new page -->
                <div class="page-break"></div>
            </div>
        </div>


        <div class="order-detail-form-container payments md-background-bg md-whiteframe-1dp"  ng-if="vm.equipmentDetails.eqpDescription">
            <div class="pb-16" layout="row" layout-align="start center">
                <md-icon md-font-icon="icon icon-note " class="m-0 mr-16"></md-icon>
                <div class="h2 secondary-text" ng-if="vm.equipmentDetails.eqpDescription">Description</div>
                <md-button class="md-mini md-icon-button md-primary margin-0" ng-click="vm.ShowDescription('Equipment', vm.equipmentDetails.eqpDescription,vm.equipmentDetails.assetName,$event)">
                    <md-icon md-font-icon="icon-fullscreen"></md-icon>
                </md-button>
            </div>

            <div class="detail dossection custom-scroll" ng-bind-html="vm.equipmentDetails.eqpDescription"></div>
        </div>
        <div class="order-detail-form-container payments md-background-bg md-whiteframe-1dp" ng-if="vm.equipmentDetails.maintenanceType == 'U'">
            <div class="pb-16" layout="row" layout-align="start center">
                <md-icon md-font-icon="icon icon-note " class="m-0 mr-16"></md-icon>
                <div class="h2 secondary-text">Usage Based Maintenance</div>
            </div>
            <div><b>Usage Hours:</b>{{vm.equipmentDetails.noOfHours}}</div>
            <div class="detail dossection" ng-bind-html="vm.equipmentDetails.scheduleComments"></div>
        </div>
        <div class="order-detail-form-container payments md-background-bg md-whiteframe-1dp" ng-if="vm.equipmentTaskSchedule && vm.ismaintenanceTimeData">
            <div class="pb-16" layout="row" layout-align="start center">
                <md-icon md-font-icon="icon icon-note " class="m-0 mr-16"></md-icon>
                <div class="h2 secondary-text">Time Based Maintenance</div>
            </div>
            <maintenance-schedule task-schedule="vm.equipmentTaskSchedule" entity-id="vm.equipmentEntityId" is-data="vm.ismaintenanceTimeData"></maintenance-schedule>
        </div>
        <div class="order-detail-form-container shipping md-background-bg md-whiteframe-1dp" ng-if="vm.isOtherField">
            <div class="pb-16" layout="row" layout-align="start center">
                <md-icon md-font-icon="icon-camera-timer" class="m-0 mr-16"></md-icon>
                <div class="h2 secondary-text">{{vm.OtherDetailTitle}}</div>
            </div>
            <div layout="column" layout-gt-xs="100">
                <view-data-element-profile entity="{{vm.Entity.Equipment}}" dataelement-list="vm.dataElementList" ref-trans-id="{{vm.eqpID}}" entity-id="vm.entityID" file-list="vm.fileList" is-data="vm.isOtherField"></view-data-element-profile>
            </div>
        </div>
        <div class="order-detail-form-container payments md-background-bg md-whiteframe-1dp" ng-if="vm.isOperation">            
            <div layout="row" layout-align="space-between center" class="cm-custom-label-common">
                <h2 class="margin-0 pb-16" flex="60">
                    <md-icon md-font-icon="icon-etsy" class="m-0 mr-16"></md-icon>
                    <span class="h2 secondary-text" ng-if="vm.equipmentOperationList">Equipment Operations</span>
                </h2>
                <div layout="row" flex="40">
                    <div class="cm-section-main border-0" layout="row" layout-wrap flex="100">
                        <div class="cm-section-inner" flex="100">
                            <div flex="100" layout="row" class="padding-10 layout-row flex-100">
                                <div flex="" layout="row" class="input-wrapper padding-right-10 layout-row flex">
                                    <div class="cm-section-inner padding-0" flex="100">
                                        <table cellspacing="0" cellpadding="0" class="cm-table-input-main">
                                            <tbody>
                                                <tr>
                                                    <th><p class="label-container">Search <span>&nbsp;</span></p></th>
                                                    <td>
                                                        <md-input-container class="md-block search-header margin-0 error-none">
                                                            <input type="text" ng-model="vm.queryOperation.operation_search" ng-change="vm.searchOperation(vm.queryOperation.operation_search)" ng-model-options="{debounce: vm.debounceConstant.mdDataTable }" placeholder="Search">
                                                        </md-input-container>
                                                    </td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                                <div layout-align="end center" class="layout-align-end-center">
                                    <md-button class="md-primary md-raised mv-0 ml-0 md-button md-default-theme md-ink-ripple" aria-label="Search" ng-if="!vm.queryOperation.operation_search">
                                        Search
                                    </md-button>
                                    <md-button class="md-primary md-raised mv-0 ml-0 md-button md-default-theme md-ink-ripple" aria-label="Clear" ng-if="vm.queryOperation.operation_search" ng-click="vm.searchOperation(vm.queryOperation.operation_search = '')">
                                        Clear
                                    </md-button>                                    
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <md-table-container flex="100">
                <table md-table class="md-data-table table-row-select" md-row-select ng-model="vm.selectedItems">
                    <thead md-head md-order="vm.queryOperation.order">
                        <tr md-row>
                            <th md-column>Action</th>
                            <th md-column>#</th>
                            <th md-column md-numeric> {{ vm.LabelConstant.Operation.OP }}</th>
                            <th md-column md-order-by="opName">Name</th>
                            <th md-column md-order-by="opStatus">Status</th>
                        </tr>
                    </thead>
                    <tbody md-body>
                        <tr md-row ng-repeat="item in vm.equipmentOperationList
                                                                | orderBy: vm.queryOperation.order
                                                                | limitTo: vm.queryOperation.limit : (vm.queryOperation.page -1) * vm.queryOperation.limit">
                            <td md-cell>
                                <md-button class="md-primary grid-button md-icon-button bdrbtn" ng-click="vm.operationProfile(item)">
                                    <md-icon md-font-icon="icon-eye" class="s16"></md-icon>
                                    <md-tooltip>operation Profile</md-tooltip>
                                </md-button>
                            </td>
                            <td md-cell>{{$index+1}}</td>
                            <td md-cell>{{item.opNumber | threeDecimal}}</td>
                            <td md-cell>{{item.opName}}</td>
                            <td md-cell><span class="label-box" ng-class="{'label-primary':item.opStatus == vm.DisplayStatus.Published.Value,
                                      'label-warning':item.opStatus == vm.DisplayStatus.Draft.Value}">{{item.opStatus}}</span>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </md-table-container>
            <div class="empty-state full-height-90" layout="row" layout-wrap layout-align="center center"
                 ng-if="(vm.equipmentOperationList| filter: vm.queryOperation.operation_search).length == 0 ">
                <div class="emty-icon" flex="100">
                    <img ng-src="{{vm.empty.IMAGEURL}}" />
                </div>
                <p class="empty-state-title" flex="100">{{vm.empty.MESSAGE}}</p>
            </div>
            <md-table-pagination md-limit="vm.queryOperation.limit" md-limit-options="limitOptions" md-page="vm.queryOperation.page" md-total="{{vm.equipmentOperationList.length}}" md-page-select md-boundary-links="false"  ng-if="(vm.equipmentOperationList| filter: vm.queryOperation.operation_search).length != 0 && vm.queryOperation.isPagination"></md-table-pagination>
        </div>
        <div class="order-detail-form-container shipping md-background-bg md-whiteframe-1dp" ng-if="vm.isWorkorder">            
            <div layout="row" layout-align="space-between center" class="cm-custom-label-common">
                <h2 class="margin-0 pb-16" flex="60">
                    <md-icon md-font-icon="icon-cog" class="m-0 mr-16"></md-icon>
                    <span class="h2 secondary-text" ng-if="vm.equipmentWorkorderList">Work Order</span>
                </h2>
                <div layout="row" flex="40">
                    <div class="cm-section-main border-0" layout="row" layout-wrap flex="100">
                        <div class="cm-section-inner" flex="100">
                            <div flex="100" layout="row" class="padding-10 layout-row flex-100">
                                <div flex="" layout="row" class="input-wrapper padding-right-10 layout-row flex">
                                    <div class="cm-section-inner padding-0" flex="100">
                                        <table cellspacing="0" cellpadding="0" class="cm-table-input-main">
                                            <tbody>
                                                <tr>
                                                    <th><p class="label-container">Search<span>&nbsp;</span></p></th>
                                                    <td>
                                                        <md-input-container class="md-block search-header margin-0 error-none">
                                                            <input type="text" ng-model="vm.queryWorkorder.workorder_search" ng-change="vm.searchWorkOrder(vm.queryWorkorder.workorder_search)" ng-model-options="{debounce: vm.debounceConstant.mdDataTable }" placeholder="Search">
                                                        </md-input-container>
                                                    </td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                                <div layout-align="end center" class="layout-align-end-center">
                                    <md-button class="md-primary md-raised mv-0 ml-0 md-button md-default-theme md-ink-ripple" aria-label="Search" ng-if="!vm.queryWorkorder.workorder_search">
                                        Search
                                    </md-button>
                                    <md-button class="md-primary md-raised mv-0 ml-0 md-button md-default-theme md-ink-ripple" aria-label="Clear" ng-if="vm.queryWorkorder.workorder_search" ng-click="vm.searchWorkOrder(vm.queryWorkorder.workorder_search = '')">
                                        Clear
                                    </md-button>                                    
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <md-table-container flex="100">
                <table md-table class="md-data-table table-row-select cm-wo-order-table-data" md-row-select ng-model="vm.selectedItems">
                    <thead md-head md-order="vm.queryWorkorder.order">
                        <tr md-row>
                            <th md-column></th>
                            <th md-column>Action</th>
                            <th md-column>#</th>
                            <th md-column md-numeric>WO#</th>
                            <th md-column md-order-by="workorder.woVersion">WO Version</th>
                            <th md-column md-numeric md-order-by="workorder.PIDCode">{{vm.LabelConstant.Assembly.ID}}</th>
                            <th md-column md-numeric md-order-by="workorder.mfgPN">{{vm.LabelConstant.Assembly.MFGPN}}</th>
                            <th md-column md-order-by="workorder.nickName">{{vm.LabelConstant.Assembly.NickName}}</th>
                            <th md-column md-order-by="workorder.mfgPNDescription">{{vm.LabelConstant.Assembly.Description}}</th>
                            <th md-column md-numeric md-order-by="workorder.TotalPOQty">PO Qty</th>
                            <th md-column md-numeric md-order-by="workorder.buildQty">Build Qty</th>
                            <th md-column md-order-by="workorder.woStatus">Status</th>
                        </tr>
                    </thead>
                    <tbody md-body>
                        <tr md-row ng-repeat="item in vm.equipmentWorkorderList
                                                                | filter: customFilter
                                                                | orderBy: vm.queryWorkorder.order
                                                                | limitTo: vm.queryWorkorder.limit : (vm.queryWorkorder.page -1) * vm.queryWorkorder.limit"> 
                            <td md-cell class="work-order-bg-main verticle-line-table-data">
                                <!--<div ng-if="item.leadColor" class="background-color-verticle" style="background: {{item.leadColor}}"><md-tooltip ng-if="vm.RoHSLeadFreeText">{{vm.RoHSLeadFreeText}}</md-tooltip></div>-->
                                <div ng-if="item.colorCode" class="background-color-verticle" style="background: {{item.colorCode}}"><md-tooltip ng-if="item.selectedClassName">{{item.selectedClassName}}</md-tooltip></div>
                            </td>
                            <td md-cell>
                                <md-button class="md-primary grid-button md-icon-button bdrbtn" ng-click="vm.workorderProfile(item, $event)">
                                    <md-icon md-font-icon="icon-eye" class="s16"></md-icon>
                                    <md-tooltip>Work Order Profile</md-tooltip>
                                </md-button>
                            </td>
                            <td md-cell>{{$index+1}}</td>
                            <td md-cell class="nowrap">{{item.workorder.woNumber}}</td>
                            <td md-cell>{{item.workorder.woVersion}}</td>
                            <td md-cell class="cm-table-assy-id">
                                <common-pid-code-label-link component-id="item.workorder.partID"
                                                            label="vm.LabelConstant.Assembly.ID"
                                                            value="item.workorder.PIDCode"
                                                            is-copy="true"
                                                            rohs-icon="item.rohsIcon"
                                                            rohs-status="item.rohsText"
                                                            is-assembly="true"></common-pid-code-label-link>
                            </td>
                            <td md-cell>
                                <common-pid-code-label-link component-id="item.workorder.partID"
                                                            label="vm.LabelConstant.Assembly.MFGPN"
                                                            value="item.workorder.mfgPN"
                                                            is-copy="true"
                                                            rohs-icon="item.rohsIcon"
                                                            rohs-status="item.rohsText"
                                                            is-assembly="true"></common-pid-code-label-link>
                            </td>
                            <td md-cell>{{item.workorder.nickName}}</td>
                            <td md-cell>{{item.workorder.mfgPNDescription}}</td>
                            <td md-cell>{{item.workorder.TotalPOQty | numberWithoutDecimal}}</td>
                            <td md-cell>{{item.workorder.buildQty | numberWithoutDecimal}}</td>
                            <td md-cell class="text-right padding-10 padding-right-50">
                                <span class="label-box" ng-class="'{{item.workorder.className}}'">{{item.workorder.woStatus}}</span>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </md-table-container>
            <div class="empty-state full-height-90" layout="row" layout-wrap layout-align="center center"
                 ng-if="(vm.equipmentWorkorderList | filter: vm.queryWorkorder.workorder_search).length == 0 ">
                <div class="emty-icon" flex="100">
                    <img ng-src="{{vm.empty.IMAGEURL}}" />
                </div>
                <p class="empty-state-title" flex="100">{{vm.empty.MESSAGE}}</p>
            </div>
            <md-table-pagination md-limit="vm.queryWorkorder.limit" md-limit-options="limitOptions" md-page="vm.queryWorkorder.page" md-total="{{vm.equipmentWorkorderList.length}}" md-page-select md-boundary-links="false"  ng-if="(vm.equipmentWorkorderList | filter: vm.queryWorkorder.workorder_search).length != 0 && vm.queryWorkorder.isPagination "></md-table-pagination>
        </div>
    </div>
    <!-- / CONTENT -->
</div>
