<div id="Manage Label Template" class="page-layout simple fullwidth doc-page breadcrumb-fixed cm-custom-label-common"
     layout="row" cg-busy="{promise:vm.cgBusyLoading}" autocomplete="off">
  <ms-form-wizard flex layout="row" novalidate>
    <div class="header md-accent-bg" layout="row" layout-align="space-between center">
      <div flex layout="row" layout-align="start center">
        <md-button class="goto-products-button md-icon-button cm-back-btn-p-m" type="button" aria-label="Go to LabelTemplatelist" ng-click="vm.goBack(msWizard)">
         
          <md-icon md-font-icon="icons-backarrow" class="material-icons icons-backarrow cm-back-btn">
          </md-icon>
        </md-button>
        <div class="white-fg" layout="row" flex layout-align="start center">
          <div>
            <div class="h2 master-page-title" layout="row" layout-align="start center">
              <pagetitle is-list="false" is-display-menu-name="true" prefix-content="vm.id ? 'Update' : 'Add'" suffix-content="vm.titleName"></pagetitle>
              <md-tooltip ng-if="vm.id && vm.manageLabelTemplates.labelName" md-direction="right">{{ vm.manageLabelTemplates.labelName}}</md-tooltip>
            </div>
            <div layout="row" layout-align="start center" class="product-count">
              <breadcrumbs></breadcrumbs>
            </div>
          </div>
          <div class="cm-header-search-add-container" flex="20">
            <div>
              <md-input-container ng-if="vm.autoCompleteLabelTemplate" class="width-100p autocompletecustom margin-0 widget-dashboard-search-area part-header-search-area" flex="100" flex-gt-xs="100">
                <custom-auto-complete-search on-search-fn="vm.autoCompleteLabelTemplate.onSearchFn"
                                             column-name="vm.autoCompleteLabelTemplate.columnName"
                                             parent-column-name="vm.autoCompleteLabelTemplate.parentColumnName"
                                             key-column-name="vm.autoCompleteLabelTemplate.keyColumnName"
                                             input-name="vm.autoCompleteLabelTemplate.inputName"
                                             placeholder-name="vm.autoCompleteLabelTemplate.placeholderName"
                                             key-column-id="vm.autoCompleteLabelTemplate.keyColumnId"
                                             is-required="vm.autoCompleteLabelTemplate.isRequired"
                                             is-addnew="vm.autoCompleteLabelTemplate.isAddnew"
                                             callback-fn="vm.autoCompleteLabelTemplate.callbackFn"
                                             parent-id=""
                                             add-data="vm.autoCompleteLabelTemplate.addData"
                                             on-select-callback-fn="vm.autoCompleteLabelTemplate.onSelectCallbackFn"
                                             custom-auto-focus="{{true}}"
                                             is-disabled="false">
                </custom-auto-complete-search>
              </md-input-container>
            </div>
            <div>
              <md-button class="md-primary md-raised" ng-click="vm.addrecord()" ng-if="vm.id">
                Add Label Template
              </md-button>
            </div>
          </div>
        </div>
        <div layout="row" layout-wrap layout-align="end center" flex-xs="85">
          <ms-form-wizard class="cm-no-bg no-shadow" layout-align="end-center" flex layout="row" novalidate ng-show="vm.showconfiguration">
            <form name="vm.managesBarTenderForm" ms-form-wizard-form novalidate>
              <table cellspacing="0" cellpadding="0" class="cm-bom-header-table">
                <tbody>
                  <tr>
                    <th><p class="label-container mb-5">Bartender Server : Port<span class="margin-left-2">*</span></p></th>
                    <td>
                      <md-input-container md-no-float class="margin-bottom-0 md-block margin-top-0">
                        <input type="text" name="BartenderServer" ng-model="vm.manageLabelTemplates.BartenderServer"
                               placeholder="BartenderServer" ng-maxlength="50"
                               required no-special-character>
                        <div ng-messages="vm.managesBarTenderForm.BartenderServer.$error" role="alert">
                          <div ng-message="required">
                            <span>{{vm.CORE_MESSAGE_CONSTANT.REQUIRED}}</span>
                          </div>
                          <div ng-message="maxlength">
                            <span>{{vm.getMaxLengthValidation(50,vm.managesBarTenderForm.BartenderServer.$viewValue.length)}}</span>
                          </div>
                        </div>
                      </md-input-container>
                    </td>

                    <td class="color-black text-align-center width-10"><b>:</b></td>
                    <td class="width-100">
                      <md-input-container md-no-float class="margin-bottom-0 md-block margin-top-0 pr-10">
                        <input type="text" name="BartenderServerPort" ng-model="vm.manageLabelTemplates.BartenderServerPort"
                               placeholder="BartenderServerPort" ng-maxlength="5"
                               onkeypress="return OnlyNumeric(event)"
                               required no-special-character>
                        <div ng-messages="vm.managesBarTenderForm.BartenderServerPort.$error" role="alert">
                          <div ng-message="required">
                            <span>{{vm.CORE_MESSAGE_CONSTANT.REQUIRED}}</span>
                          </div>
                          <div ng-message="maxlength">
                            <span>{{vm.getMaxLengthValidation(5,vm.managesBarTenderForm.BartenderServerPort.$viewValue.length)}}</span>
                          </div>
                        </div>
                      </md-input-container>
                    </td>
                    <td layout="row">
                      <md-button class="md-btn md-primary md-raised margin-0 margin-right-10"
                                 ng-class="{'md-formdirty': vm.managesBarTenderForm.$dirty}"
                                 ng-click="vm.updateBartenderConfiguration()">
                        Save Configuration
                      </md-button>
                      <md-button class="md-btn md-default md-raised margin-0" ng-click="vm.closeConfiguration()">
                        Cancel
                      </md-button>
                    </td>
                  </tr>
                </tbody>
              </table>
            </form>
          </ms-form-wizard>

          <md-button class="md-primary md-raised md-ink-ripple ml-0" ng-if="!vm.showconfiguration" ng-click="vm.configureBartender()">Configure BarTender Server</md-button>
          <md-button class="md-raised md-primary" id="saveLabelTempBtn"
                     ng-disabled="vm.saveBtnFlag"
                     ng-class="{'md-formdirty': vm.addEditLabelTemplatesForm.$dirty}"
                     ng-click="vm.SaveLabelTemplate(msWizard, true)">
            Save
          </md-button>
        </div>



        </div>
    </div>
    <div class="content-card padding-top-side" layout="row" flex="100">
      <!-- FORM WIZARD -->
      <div layout="row" flex="100">
        <!-- FORM WIZARD -->
        <div flex>
          <md-tabs class="fielddetail manage-labeltemplates-tabing padding-0" md-dynamic-height
                   md-selected="msWizard.selectedIndex" id="manage-labeltemplates-tabing">
            <md-tab md-on-select="vm.onTabChanges(null,msWizard)">
              <md-tab-label>
                <span class="ms-form-wizard-step-label">
                  <span class="ms-form-wizard-step-number md-accent-bg">1</span>
                  <span class="ms-form-wizard-step-number md-accent-bg">
                    <i class="icon-check s16"></i>
                  </span>
                  <span class="ms-form-wizard-step-text">Details</span>
                </span>
              </md-tab-label>
              <md-tab-body>
                <form name="vm.addEditLabelTemplatesForm" class="md-inline-form padding-10-imp" ms-form-wizard-form novalidate>
                  <add-edit-label-template></add-edit-label-template>
                </form>
              </md-tab-body>
            </md-tab>
            
          </md-tabs>
        </div>
      </div>
    </div>
  </ms-form-wizard>
</div>
