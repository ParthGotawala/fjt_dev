<md-dialog aria-label="AddEnterpriseSearchRecord" cg-busy="{promise:vm.cgBusyLoading}" draggable flex="40">
  <form name="vm.addSearchRecordForm" novalidate>
    <md-button id="btnRequireColValidation" type="submit" ng-hide="true"></md-button>
    <md-toolbar>
      <div class="md-toolbar-tools">
        <h2 class="text-white">Add Enterprise Search Record</h2>
        <span flex></span>
        <md-button class="md-icon-button" ng-click="vm.cancel()">
          <md-icon role="img" md-font-icon="icon-close" class="material-icons mat-icon icon-close"></md-icon>
        </md-button>
      </div>
    </md-toolbar>
    <md-dialog-content class="customer-modal no-padding min-width-initial" layout="row">
      <md-content class="padding-10 cm-custom-label-common" flex="100">
        <div flex="100" layout="row" layout-align="start center" class="notification-condition margin-bottom-15">
          <span>
            <b> Note: {{vm.ADD_ENTERPRISE_WITH_DATE_RANGE_NOTES}}</b>
          </span>
        </div>
        <div class="cm-section-main border-0 flex">
          <div class="cm-section-inner p-0-imp">
            <table cellspacing="0" cellpadding="0" class="cm-table-input-main">
              <tbody>
                <tr>
                  <th>
                    <p class="label-container pt-2">From Date<span ng-if="vm.toDate">&nbsp;*</span></p>
                  </th>
                  <td>
                    <md-input-container class="datepicker padding-right-0-imp margin-bottom-0">
                      <input name="fromDate" type="text" class="float-left" custom-auto-focus="false"
                             id="fromDate"
                             datetime-picker="{{$root.dateDisplayFormat}}"
                             ng-model="vm.fromDate"
                             enable-time="false"
                             ui-options="{clearOnBlur: true}"
                             ng-change="vm.fromDateChanged()"
                             ui-mask="{{$root.uimaskFormat.date.mask}}"
                             ui-mask-placeholder="{{$root.uimaskFormat.date.placeholder}}"
                             model-view-value="true"
                             datepicker-options="vm.fromDateOptions"
                             is-open="vm.fromDateOptions.fromDateFlag"
                             ng-required="(vm.toDate ? true : false)" />
                      <md-icon md-font-icon="icon-calendar calender-icon"
                               ng-click="vm.fromDateOptions.fromDateFlag = true">
                      </md-icon>
                      <div ng-messages="vm.addSearchRecordForm.fromDate.$error" role="alert">
                        <div ng-message="required">
                          <span>{{vm.CORE_MESSAGE_CONSTANT.REQUIRED}}</span>
                        </div>
                        <div ng-message="datetime">
                          <span>{{vm.CORE_MESSAGE_CONSTANT.INVALID}}</span>
                        </div>
                        <div ng-message="maxvalue">
                          <span>{{vm.getMaxDateValidation('From Date', 'To Date')}}</span>
                        </div>
                      </div>
                    </md-input-container>
                  </td>
                  <th>
                    <p class="label-container pt-2">To Date<span ng-if="vm.fromDate">&nbsp;*</span></p>
                  </th>
                  <td>
                    <md-input-container class="datepicker padding-right-0-imp margin-bottom-0">
                      <input name="toDate" type="text" class="float-left"
                             id="toDate"
                             datetime-picker="{{$root.dateDisplayFormat}}"
                             ng-model="vm.toDate"
                             enable-time="false"
                             ng-change="vm.toDateChanged()"
                             ui-options="{clearOnBlur: true}"
                             ui-mask="{{$root.uimaskFormat.date.mask}}"
                             ui-mask-placeholder="{{$root.uimaskFormat.date.placeholder}}"
                             model-view-value="true"
                             datepicker-options="vm.toDateOptions"
                             is-open="vm.toDateOptions.toDateFlag"
                             ng-required="(vm.fromDate ? true : false)" />
                      <md-icon md-font-icon="icon-calendar calender-icon"
                               ng-click="vm.toDateOptions.toDateFlag = true">
                      </md-icon>
                      <div ng-messages="vm.addSearchRecordForm.toDate.$error" role="alert">
                        <div ng-message="required">
                          <span>{{vm.CORE_MESSAGE_CONSTANT.REQUIRED}}</span>
                        </div>
                        <div ng-message="datetime">
                          <span>{{vm.CORE_MESSAGE_CONSTANT.INVALID}}</span>
                        </div>
                        <div ng-message="minvalue">
                          <span>{{vm.getMinDateValidation('To Date', 'From Date')}}</span>
                        </div>
                      </div>
                    </md-input-container>
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </md-content>
    </md-dialog-content>
    <md-dialog-actions layout="row">
      <md-button class="md-default md-raised" ng-click="vm.cancel()">Cancel</md-button>
      <md-button class="md-primary md-raised" ng-class="{'md-formdirty': vm.addSearchRecordForm.$dirty}" ng-click="vm.addRecord(true)" aria-label="Submit">Add Record</md-button>
    </md-dialog-actions>
  </form>
</md-dialog>
