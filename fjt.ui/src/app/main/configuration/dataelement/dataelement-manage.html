<div id="forms" class="page-layout simple fullwidth doc-page breadcrumb-fixed cm-data-element-datepicker" layout="column" cg-busy="{promise:vm.cgBusyLoading}">
  <div class="content-card cm-custom-label-common" layout="column" flex>
    <!-- CONTENT HEADER -->
    <div class="header md-accent-bg" layout="row" layout-align="start center" layout-wrap>
      <md-button class="goto-products-button md-icon-button cm-back-btn-p-m" type="button" aria-label="Go to products" ng-click="vm.goBack()">
        <!--<md-icon md-font-icon="icon-arrow-left" class="material-icons icon-arrow-left">
        </md-icon>-->
        <md-icon md-font-icon="icons-backarrow" class="material-icons icons-backarrow cm-back-btn">
        </md-icon>
      </md-button>
      <div class="white-fg" layout="row" flex layout-align="start center">
        <div layout="row" flex layout-align="start center">
          <div>
            <div class="h2 master-page-title">
              <pagetitle is-list="false" is-display-menu-name="true" prefix-content="Manage"
                         suffix-content="vm.entityName?': '+vm.entityName:''"></pagetitle>
            </div>
            <div layout="row" layout-align="start center" class="product-count">
              <breadcrumbs></breadcrumbs>
            </div>
          </div>
          <div class="cm-header-search-add-container" flex="20">
            <md-input-container ng-if="vm.autoCompleteEntityHeaderList" class="autocompletecustom margin-0 widget-dashboard-search-area cm-kit-allocation-so-autocomplete part-header-search-area">
              <custom-auto-complete-search on-search-fn="vm.autoCompleteEntityHeaderList.onSearchFn"
                                           column-name="vm.autoCompleteEntityHeaderList.columnName"
                                           key-column-name="vm.autoCompleteEntityHeaderList.keyColumnName"
                                           key-column-id="vm.autoCompleteEntityHeaderList.keyColumnId"
                                           input-name="vm.autoCompleteEntityHeaderList.inputName"
                                           placeholder-name="vm.autoCompleteEntityHeaderList.placeholderName"
                                           is-required="vm.autoCompleteEntityHeaderList.isRequired"
                                           is-addnew="vm.autoCompleteEntityHeaderList.isAddnew"
                                           callback-fn="vm.autoCompleteEntityHeaderList.callbackFn"
                                           on-select-callback-fn="vm.autoCompleteEntityHeaderList.onSelectCallbackFn">
              </custom-auto-complete-search>
            </md-input-container>
            <md-button class="md-primary md-raised" ng-if="!vm.systemGeneratedEntity" ng-click="vm.addEntity()">
              Add Custom Form
            </md-button>
          </div>
        </div>
      </div>
      <div layout="row" layout-wrap layout-align="end end" flex-xs="100" ng-if="vm.isAuthorised">
        <div layout="row" layout-wrap layout-align="center center" ng-if="!vm.systemGeneratedEntity">
          <div layout="column" class="cm-header-draft-btn" layout-wrap layout-align="center center">
            <md-menu-bar id="user-menu">
              <md-menu md-position-mode="left bottom">
                <md-button class="user-button md-button md-ink-ripple white-text"
                           ng-click="$mdOpenMenu()" aria-label="Operation Status">
                  <div layout="row" layout-align="center center">
                    <span class="username">{{vm.getEntityStatus(vm.entityDetails.entityStatus)}}</span>
                    <md-icon md-font-icon="icon-chevron-down" class="icon s16"></md-icon>
                  </div>
                </md-button>
                <md-menu-content width="3">
                  <md-menu-item ng-repeat="status in vm.CustomFormsStatus | orderBy:'DisplayOrder'">
                    <md-button ng-click="vm.changeEntityStatus(status.ID, vm.entityDetails.entityStatus)">{{status.Name}}</md-button>
                  </md-menu-item>
                </md-menu-content>
              </md-menu>
            </md-menu-bar>
            <div layout="row" layout-align="center center">
              <span ng-if="vm.entityStatusLabel" class="cm-font-10 padding-bottom-8"><b>{{vm.entityStatusLabel}}</b></span>
            </div>
          </div>
        </div>
        <md-button class="md-raised md-primary" ng-hide="!vm.systemGeneratedEntity && vm.entityDetails.entityStatus == vm.DisplayStatusConst.Published.ID"
                   ng-click="vm.clearFieldWidth()" ng-disabled="!vm.IsEdit">
          Reset Field Width
        </md-button>
        <md-button class="md-primary md-raised" ng-hide="!vm.systemGeneratedEntity && vm.entityDetails.entityStatus == vm.DisplayStatusConst.Published.ID"
                   ng-click="vm.IsEdit = !vm.IsEdit"
                   ng-disabled="vm.dataelement.rearrange ? (vm.IsEdit && vm.dataElementForm.$dirty && vm.dataElementForm.$valid && vm.dataelement.controlTypeID != 0) : (vm.IsEdit && vm.dataElementForm.$dirty && vm.dataelement.controlTypeID != 0)">
          {{vm.IsEdit ? 'View' : 'Edit'}}
        </md-button>
        <md-button id="saveBtn" class="md-raised md-primary" ng-hide="!vm.systemGeneratedEntity && vm.entityDetails.entityStatus == vm.DisplayStatusConst.Published.ID"
                   ng-if="!vm.dataelement.rearrange"
                   ng-click="vm.updateDataElementIndividual(vm.dataelement)" ng-disabled="!vm.IsEdit"
                   ng-class="{'md-formdirty': vm.dataElementForm.$dirty}">
          Save
        </md-button>
        <md-button id="saveBtn" class="md-raised md-primary" ng-hide="!vm.systemGeneratedEntity && vm.entityDetails.entityStatus == vm.DisplayStatusConst.Published.ID"
                   ng-if="vm.dataelement.rearrange"
                   ng-click="vm.updateSubformElementOrder()" ng-disabled="!vm.IsEdit"
                   ng-class="{'md-formdirty': vm.dataElementForm.$dirty}">
          Save
        </md-button>
      </div>
    </div>
    <!-- / CONTENT HEADER -->
    <!-- CONTENT CARD -->
    <div class="minfullheight padding-top-side manage-employee-fields-main" ng-if="vm.isAuthorised">
      <div class="padding-10 custom-scroll minfullheight" layout="row" layout-gt-xs="row" layout-wrap>
        <div layout="row" flex="100" layout-align="space-between stretch" id="reslayout-wrap">
          <div flex="20" flex-md="25" flex-lg="20" flex-sm="25" flex-xs="100" class="first margin-right-5 content-card cm-dataelement-pointer-div"
               layout="row" layout-wrap layout-align="space-between start">
            <div class="cm-section-main" layout="row" layout-wrap flex="100">
              <div class="cm-section-header" flex="100">
                <h2>Input Fields</h2>
              </div>
              <div class="cm-section-inner" flex="100">
                <div flex="100" id="ControlBox"
                     layout="row" layout-wrap layout-align="start start"
                     ui-sortable="vm.sortableOptions" ng-model="vm.displayInputFieldList"
                     class="scroll-section manage-input-fields" ms-scroll
                     ng-class="{'view-only-content': !vm.IsEdit || vm.dataElementForm.$dirty}"
                     ng-disabled="vm.entityDetails.entityStatus == vm.DisplayStatusConst.Published.ID">
                  <md-button flex="50" flex-sm="100" class="md-primary text-left elementbtn"
                             ng-repeat="inputItem in vm.displayInputFieldList track by $index"
                             ui-sortable-selectable
                             ng-model="inputItem"
                             ng-class="{'cursor-not-allow-dataelement': !vm.IsEdit || vm.dataElementForm.$dirty}"
                             ng-click="vm.IsEdit ? '' : vm.CheckForEdit()">
                    <md-icon role="img" md-font-icon="{{inputItem.IconClass}}"></md-icon> &nbsp; {{ inputItem.Value }}
                  </md-button>
                </div>
                <div id="allElementListDragDropDiv" ng-if="!vm.IsEdit" ng-show="vm.entityDetails.entityStatus != vm.DisplayStatusConst.Published.ID">Click to edit</div>
              </div>
            </div>
          </div>
          <div flex="50" flex-md="45" flex-sm="40" flex-lg="50" flex-xs="100" layout="row" layout-wrap class="content-card margin-right-5"
               layout-align="space-between start">
            <div class="cm-section-main" layout="row" layout-wrap flex="100">
              <div class="cm-section-header" flex="100">
                <h2>Preview</h2>
                <div id="reslayout-wrap" class="cm-preview-section-button" layout="row" flex layout-align="end-center">
                  <md-button ng-disabled="!vm.IsEdit" ng-click="vm.changeSize(100)"
                             ng-class="{'cursor-not-allow': !vm.IsEdit,'cursor-pointer':vm.IsEdit, 'cm-icon-selected':vm.size == '100'}">
                    <md-icon class="margin-0 cm-custom-icon-font" role="img" md-font-icon="icons-column-one">
                      <md-tooltip>Display Column View</md-tooltip>
                    </md-icon>
                  </md-button>
                  <md-button ng-disabled="!vm.IsEdit" ng-click="vm.changeSize(50)"
                             ng-class="{'cursor-not-allow': !vm.IsEdit,'cursor-pointer':vm.IsEdit, 'cm-icon-selected':vm.size == '50'}">
                    <md-icon class="margin-0 cm-custom-icon-font" role="img" md-font-icon="icons-column-two">
                      <md-tooltip>Display Column View</md-tooltip>
                    </md-icon>
                  </md-button>
                  <md-button ng-disabled="!vm.IsEdit" ng-click="vm.changeSize(33)"
                             ng-class="{'cursor-not-allow': !vm.IsEdit,'cursor-pointer':vm.IsEdit, 'cm-icon-selected':vm.size == '33'}">
                    <md-icon class="margin-0 cm-custom-icon-font" role="img" md-font-icon="icons-column-three">
                      <md-tooltip>Display Column View</md-tooltip>
                    </md-icon>
                  </md-button>
                  <md-button ng-disabled="!vm.IsEdit" ng-click="vm.changeSize(25)"
                             ng-class="{'cursor-not-allow': !vm.IsEdit,'cursor-pointer':vm.IsEdit, 'cm-icon-selected':vm.size == '25'}">
                    <md-icon class="margin-0 cm-custom-icon-font" role="img" md-font-icon="icons-column-four">
                      <md-tooltip>Display Column View</md-tooltip>
                    </md-icon>
                  </md-button>
                </div>
              </div>
              <div class="cm-section-inner" flex="100">
                <md-content flex="100" id="DynamicFileds" layout-align="start start" class="pt-15 dragscroll manage-input-fields items-container scroll-section cm-custom-label-common"
                            ng-class="{'view-only-content': !vm.IsEdit}"
                            layout="row" layout-wrap
                            ui-sortable="vm.sortableOptions"
                            ng-model="vm.dataelementList">
                  <div flex="{{(itemElement.controlTypeID == vm.InputeFieldKeys.SubForm || itemElement.controlTypeID == vm.InputeFieldKeys.Editor) ? '100' : ((itemElement.controlTypeID == vm.InputeFieldKeys.FileUpload || itemElement.controlTypeID == vm.InputeFieldKeys.DateRange || itemElement.controlTypeID == vm.InputeFieldKeys.Signature) ? '50' : vm.size)}}"
                       ng-repeat="itemElement in vm.dataelementList | orderBy : 'displayOrder'"
                       ui-sortable-selectable
                       ng-model="itemElement"
                       ng-style="{'width':itemElement.fieldWidth + 'px', 'max-width':itemElement.fieldWidth + 'px'}"
                       class="relative md-padding padding-bottom-0 padding-top-5 maxheight-none cm-table-input-main cm-data-element-preview cm-subform-data-element"
                       ng-class="{'cursor-not-allow': !vm.IsEdit, 'element-item-selected': (itemElement.dataElementID == vm.dataelement.dataElementID || itemElement.dataElementID == vm.dataelement.parentDataElementID) }"
                       ng-include="'app/directives/custom/form-input-fields/form-input-fields.html'">
                    <!--Commented due to call twice on click of fields-->
                    <!--ng-click="vm.getDataElementDetails(itemElement)"-->
                  </div>
                  <div flex="100" class="empty-state full-height text-center cursor-not-allow"
                       layout="row" layout-align="center center" layout-wrap
                       ui-sortable-selectable
                       ng-if="vm.dataelementList.length == 0">
                    <div class="emty-icon" flex="100">
                      <img src="../../../../assets/images/emptystate/manageelement.png" />
                    </div>
                    <p flex="100" class="empty-state-title">Drag and drop your element here</p>
                  </div>
                </md-content>
              </div>
            </div>
          </div>
          <form name="vm.dataElementForm" flex="30" flex-xs="100" flex-md="30" flex-sm="30"
                layout="row"
                layout-wrap class="content-card cm-custom-label-common md-inline-form" novalidate>
            <md-button id="btnRequireColValidation" type="submit" ng-hide="true"></md-button>
            <div class="cm-section-main" layout="row" layout-align="start-start" layout-wrap flex="100">
              <div class="cm-section-header" flex="100" ng-class="{'padding-left-10':vm.IsEdit && vm.dataelement.controlTypeID != 0}">
                <h2>Field Settings</h2>
              </div>
              <div id="FieldSettings" ng-class="{'view-only-content': !vm.IsEdit}" flex="100" layout="row" class="padding-10 scroll-section manage-input-fields" layout-wrap ng-if="!vm.dataelement.rearrange">
                <div class="cm-section-main border-0" flex="100">
                  <div class="cm-section-inner">
                    <table cellpadding="0" cellspacing="0" class="cm-table-input-main">
                      <tbody>
                        <tr ng-if="vm.dataelement.controlTypeID != 0">
                          <th>
                            <p class="label-container">Field Name<span ng-if="vm.IsEdit">&nbsp;*<check-unique-on-blur></check-unique-on-blur></span></p>
                          </th>
                          <td colspan="3">
                            <md-input-container flex="100" class="margin-top-20">
                              <input type="text" name="elementname" ng-model="vm.dataelement.dataElementName"
                                     placeholder="Field Name" required ng-disabled="!vm.IsEdit" ng-maxlength="100"
                                     custom-blur="vm.checkDuplicateFieldName()">
                              <div ng-messages="vm.dataElementForm.elementname.$error"
                                   role="alert">
                                <div ng-message="required">
                                  <span>{{vm.CORE_MESSAGE_CONSTANT.REQUIRED}}</span>
                                </div>
                                <div ng-message="maxlength">
                                  <span>{{vm.getMaxLengthValidation(100, vm.dataElementForm.elementname.$viewValue.length)}}</span>
                                </div>
                              </div>
                            </md-input-container>
                          </td>
                        </tr>
                        <tr ng-if="vm.dataelement.controlTypeID != 0">
                          <th>
                            <p class="label-container">Display Order<span ng-if="vm.IsEdit">&nbsp;*<check-unique-on-blur></check-unique-on-blur></span></p>
                          </th>
                          <td colspan="3">
                            <md-input-container flex="100">
                              <input type="number" name="displayOrder" ng-model="vm.dataelement.displayOrder"
                                     placeholder="Display Order" required ng-disabled="!vm.IsEdit"
                                     onkeypress="return OnlyNumbersWithDot(event)"
                                     onchange="ToDecimalTwoDigit(this)"
                                     custom-blur="vm.checkDuplicateDisplayOrder()"
                                     min="0"
                                     max="9999.99"
                                     step="0.01">
                              <div ng-messages="vm.dataElementForm.displayOrder.$error"
                                   role="alert">
                                <div ng-message="required">
                                  <span>{{vm.CORE_MESSAGE_CONSTANT.REQUIRED}}</span>
                                </div>
                                <div ng-message="number">
                                  <span>{{vm.CORE_MESSAGE_CONSTANT.INVALID}}</span>
                                </div>
                              </div>
                            </md-input-container>
                          </td>
                        </tr>
                        <tr ng-if="vm.dataelement.controlTypeID == vm.InputeFieldKeys.Textbox
                                                                    || vm.dataelement.controlTypeID == vm.InputeFieldKeys.Multilinetextbox
                                                                    || vm.dataelement.controlTypeID == vm.InputeFieldKeys.Email
                                                                    || vm.dataelement.controlTypeID == vm.InputeFieldKeys.URL">
                          <th>
                            <p class="label-container">Max Length<span></span></p>
                          </th>
                          <td colspan="3">
                            <md-input-container flex="100">
                              <input type="number" name="maxLength" ng-model="vm.dataelement.maxLength" min="1"
                                     placeholder="Max Length" ng-disabled="!vm.IsEdit">
                              <div ng-messages="vm.dataElementForm.maxLength.$error"
                                   role="alert">
                                <div ng-message="number">
                                  <span>{{vm.CORE_MESSAGE_CONSTANT.INVALID}}</span>
                                </div>
                              </div>
                            </md-input-container>
                          </td>
                        </tr>
                        <tr ng-if="vm.dataelement.controlTypeID == vm.InputeFieldKeys.FileUpload">
                          <th>
                            <p class="label-container">Max Document Size (MB)</p>
                          </th>
                          <td>
                            <md-input-container flex="100" ng-if="vm.dataelement.controlTypeID == vm.InputeFieldKeys.FileUpload">
                              <input type="number" name="fileSize" ng-model="vm.dataelement.fileSize"
                                     placeholder="Max Document Size (MB)" ng-disabled="!vm.IsEdit">
                              <div ng-messages="vm.dataElementForm.fileSize.$error"
                                   role="alert">
                                <div ng-message="number">
                                  <span>{{vm.CORE_MESSAGE_CONSTANT.INVALID}}</span>
                                </div>
                              </div>
                            </md-input-container>
                          </td>
                        </tr>
                        <tr ng-if="vm.dataelement.controlTypeID !== vm.InputeFieldKeys.Label">
                          <th></th>
                          <td colspan="3">
                            <div layout="column" flex="100" ng-if="vm.dataelement.controlTypeID != 0">
                              <div flex-gt-xs="100">
                                <md-radio-group class="margin-0" layout="row" layout-align="start center"
                                                name="isRequired" ng-disabled="!vm.IsEdit || vm.dataelement.isAutoIncrement"
                                                ng-model="vm.dataelement.isRequired"
                                                ng-change="IsRefreshValues = false;IsRefreshValues=true;">
                                  <md-radio-button class="cm-width-btn-radio" ng-repeat="item in vm.radioButtonGroup.isRequired.array"
                                                   name="{{item.Key}}" ng-value="{{item.Value}}">{{item.Key}}</md-radio-button>
                                </md-radio-group>
                              </div>
                              <div flex-gt-xs="100" ng-if="vm.dataelement.controlTypeID == vm.InputeFieldKeys.SubForm">
                                <md-radio-group class="margin-0" layout="row" layout-align="start center"
                                                name="isMultiple" ng-model="vm.dataelement.isMultiple"
                                                ng-disabled="!vm.IsEdit" ng-change="vm.changSubFormType(vm.dataelement.isMultiple)">
                                  <md-radio-button class="cm-width-btn-radio" ng-repeat="item in vm.radioButtonGroup.isMultiple.array"
                                                   name="{{item.Key}}" ng-value="{{item.Value}}">{{item.Key}}</md-radio-button>
                                </md-radio-group>
                              </div>
                            </div>
                          </td>
                        </tr>
                        <tr ng-if="vm.dataelement.controlTypeID === vm.InputeFieldKeys.Label">
                          <th></th>
                          <td colspan="3">
                            <div layout="column" flex="100" ng-if="vm.dataelement.controlTypeID != 0">
                              <div flex-gt-xs="100">
                                <md-checkbox name="isHideLabel" class="margin-0 padding-2"
                                             ng-model="vm.dataelement.isHideLabel">Hide label</md-checkbox>
                              </div>
                            </div>
                          </td>
                        </tr>
                        <tr ng-if="vm.dataelement.controlTypeID != 0">
                          <th ng-if="vm.dataelement.controlTypeID == vm.InputeFieldKeys.Numberbox
                                                    || vm.dataelement.controlTypeID == vm.InputeFieldKeys.Currency"></th>
                          <td ng-if="vm.dataelement.controlTypeID == vm.InputeFieldKeys.Numberbox
                                                    || vm.dataelement.controlTypeID == vm.InputeFieldKeys.Currency">
                            <div flex-gt-xs="100">
                              <md-radio-group class="margin-0" layout="row" layout-align="start center"
                                              name="isDecimal" ng-disabled="!vm.IsEdit"
                                              ng-model="vm.dataelement.isDecimal">
                                <md-radio-button class="cm-width-btn-radio" ng-repeat="item in vm.radioButtonGroup.isDecimal.array"
                                                 name="{{item.Key}}" ng-value="{{item.Value}}">{{item.Key}}</md-radio-button>
                              </md-radio-group>
                            </div>
                          </td>
                        </tr>
                        <tr ng-if="vm.dataelement.controlTypeID == vm.InputeFieldKeys.Numberbox
                                                                    || vm.dataelement.controlTypeID == vm.InputeFieldKeys.Currency">
                          <th ng-if="(vm.dataelement.controlTypeID == vm.InputeFieldKeys.Numberbox || vm.dataelement.controlTypeID == vm.InputeFieldKeys.Currency) && vm.dataelement.isDecimal">
                            <p class="label-container">Decimal Places<span ng-if="vm.dataelement.isDecimal == true && vm.IsEdit">&nbsp;*</span></p>
                          </th>
                          <td ng-if="(vm.dataelement.controlTypeID == vm.InputeFieldKeys.Numberbox || vm.dataelement.controlTypeID == vm.InputeFieldKeys.Currency) && vm.dataelement.isDecimal"
                              colspan="3">
                            <md-input-container flex="100">
                              <input type="number" name="decimal_number" ng-model="vm.dataelement.decimal_number"
                                     placeholder="Decimal Places" custom-blur="vm.calculateStep()" ng-required="vm.dataelement.isDecimal == true"
                                     ng-disabled="!vm.IsEdit" min="{{vm.dataElement_Default_Values.Decimal_Number.Min}}"
                                     max="{{vm.dataElement_Default_Values.Decimal_Number.Max}}" flex="100"
                                     onkeypress="return OnlyNumeric(event)">
                              <div ng-messages="vm.dataElementForm.decimal_number.$error"
                                   role="alert">
                                <div ng-message="required">
                                  <span>{{vm.CORE_MESSAGE_CONSTANT.REQUIRED}}</span>
                                </div>
                                <div ng-message="min">
                                  <span>
                                    Not less than {{vm.dataElement_Default_Values.Decimal_Number.Min}} decimal places
                                  </span>
                                </div>
                                <div ng-message="number">
                                  <span>{{vm.CORE_MESSAGE_CONSTANT.INVALID}}</span>
                                </div>
                                <div ng-message="max">
                                  <span>Not more than {{vm.dataElement_Default_Values.Decimal_Number.Max}} decimal places</span>
                                </div>
                              </div>
                            </md-input-container>
                          </td>
                        </tr>
                        <tr ng-if="vm.dataelement.controlTypeID == vm.InputeFieldKeys.SubForm">
                          <th ng-if="(vm.dataelement.controlTypeID == vm.InputeFieldKeys.SubForm) && vm.dataelement.isMultiple">
                            <p class="label-container">Recurring limit<span ng-if="vm.dataelement.isMultiple == true && vm.IsEdit">&nbsp;*</span></p>
                          </th>
                          <td ng-if="(vm.dataelement.controlTypeID == vm.InputeFieldKeys.SubForm) && vm.dataelement.isMultiple">
                            <md-input-container flex="100" layout="row">
                              <input type="number" name="decimal_number" ng-model="vm.dataelement.recurring_limit"
                                     placeholder="Recurring limit" ng-required="vm.dataelement.isMultiple == true"
                                     ng-disabled="!vm.IsEdit" />
                            </md-input-container>
                            <span flex="100" layout="column" layout-gt-xs="row" ng-if="(vm.dataelement.controlTypeID == vm.InputeFieldKeys.SubForm) && vm.dataelement.isMultiple" class="font-size-10"><b>Recurring Limit: 0 &nbsp;</b> means unlimited record.</span>
                          </td>
                        </tr>
                        <tr ng-if="(vm.dataelement.controlTypeID == vm.InputeFieldKeys.MultipleChoice
                                                                       || vm.dataelement.controlTypeID == vm.InputeFieldKeys.Option
                                                                       || vm.dataelement.controlTypeID == vm.InputeFieldKeys.Combobox
                                                                       || vm.dataelement.controlTypeID == vm.InputeFieldKeys.MultipleChoiceDropdown
                                                                       || vm.dataelement.controlTypeID === vm.InputeFieldKeys.CustomAutoCompleteSearch)">
                          <th></th>
                          <td>
                            <div flex="100" layout="row" layout-wrap>
                              <div flex="100">
                                <md-radio-group class="margin-0" layout="row" layout-align="start center"
                                                name="isDatasource"
                                                ng-disabled="!vm.IsEdit || vm.dataelement.datasourceDisplayColumnDataElement"
                                                ng-model="vm.dataelement.isDatasource"
                                                ng-change="IsRefreshValues = false;IsRefreshValues=true;vm.showEntitiesAutoComplete()">
                                  <md-radio-button class="cm-width-btn-radio" ng-repeat="item in vm.radioButtonGroup.isDatasource.array"
                                                   name="{{item.Key}}" ng-value="{{item.Value}}">{{item.Key}}</md-radio-button>
                                </md-radio-group>
                              </div>
                            </div>
                          </td>
                        </tr>
                        <tr ng-class="{'border-top': (vm.autoCompleteOfManualEntityDS && !vm.dataelement.isFixedEntity) || (vm.autoCompleteOfFixedEntityDS && vm.dataelement.isFixedEntity) }"
                            ng-if="vm.dataelement.isDatasource && (vm.dataelement.controlTypeID === vm.InputeFieldKeys.CustomAutoCompleteSearch)">
                          <th>
                            <p ng-if="vm.dataelement.controlTypeID === vm.InputeFieldKeys.CustomAutoCompleteSearch"
                               class="label-container">{{ vm.radioButtonGroup.isDatasource.array[0].Key }}</p>
                          </th>
                          <td>
                            <div flex="100" layout="row" layout-wrap>
                              <div flex="100" ng-if="vm.dataelement.isDatasource">
                                <md-radio-group class="margin-0" layout="row" layout-align="start center"
                                                name="isFixedEntity"
                                                ng-disabled="!vm.IsEdit || vm.dataelement.datasourceDisplayColumnDataElement "
                                                ng-model="vm.dataelement.isFixedEntity"
                                                ng-change="IsRefreshValues = false;IsRefreshValues=true;vm.showEntitiesAutoComplete()">
                                  <md-radio-button class="cm-width-btn-radio" ng-repeat="item in vm.radioButtonGroup.isFixedEntity.array"
                                                   name="{{item.Key}}" ng-value="{{item.Value}}">{{item.Key}}</md-radio-button>
                                </md-radio-group>
                              </div>
                            </div>
                          </td>
                        </tr>
                        <tr class="bb" ng-if="vm.dataelement.isDatasource && (vm.dataelement.controlTypeID == vm.InputeFieldKeys.MultipleChoice
                                                                       || vm.dataelement.controlTypeID == vm.InputeFieldKeys.Option
                                                                       || vm.dataelement.controlTypeID == vm.InputeFieldKeys.Combobox
                                                                       || vm.dataelement.controlTypeID == vm.InputeFieldKeys.MultipleChoiceDropdown
                                                                       || vm.dataelement.controlTypeID === vm.InputeFieldKeys.CustomAutoCompleteSearch)">
                          <th ng-if="vm.autoCompleteOfManualEntityDS && !vm.dataelement.isFixedEntity">
                            <p class="label-container">{{vm.autoCompleteOfManualEntityDS.placeholderName}}<span ng-if="vm.dataelement.isDatasource">&nbsp;*</span></p>
                          </th>
                          <td ng-if="vm.autoCompleteOfManualEntityDS && !vm.dataelement.isFixedEntity">
                            <md-input-container flex="100" class="autocompletecustom">
                              <custom-auto-complete datalist="vm.ManualEntities"
                                                    column-name="vm.autoCompleteOfManualEntityDS.columnName"
                                                    controller-name="vm.autoCompleteOfManualEntityDS.controllerName"
                                                    view-template-url="vm.autoCompleteOfManualEntityDS.viewTemplateURL"
                                                    key-column-name="vm.autoCompleteOfManualEntityDS.keyColumnName"
                                                    key-column-id="vm.autoCompleteOfManualEntityDS.keyColumnId"
                                                    input-name="vm.autoCompleteOfManualEntityDS.inputName"
                                                    placeholder-name="vm.autoCompleteOfManualEntityDS.placeholderName"
                                                    is-required=vm.dataelement.isDatasource?true:false
                                                    is-addnew="vm.autoCompleteOfManualEntityDS.isAddnew"
                                                    callback-fn="vm.autoCompleteOfManualEntityDS.callbackFn"
                                                    is-disabled="!vm.IsEdit || vm.dataelement.datasourceDisplayColumnDataElement"
                                                    on-select-callback-fn="vm.autoCompleteOfManualEntityDS.onSelectCallbackFn">
                              </custom-auto-complete>
                              <span class="font-size-10"
                                    ng-if="(vm.dataelement.controlTypeID == vm.InputeFieldKeys.MultipleChoice
                                              || vm.dataelement.controlTypeID == vm.InputeFieldKeys.Option
                                              || vm.dataelement.controlTypeID == vm.InputeFieldKeys.Combobox
                                              || vm.dataelement.controlTypeID == vm.InputeFieldKeys.MultipleChoiceDropdown)">
                                <b>{{vm.dataElementNotesConst.DataSourceName}}</b>
                              </span>
                            </md-input-container>
                          </td>
                          <th ng-if="vm.autoCompleteOfFixedEntityDS && vm.dataelement.isFixedEntity && vm.dataelement.controlTypeID === vm.InputeFieldKeys.CustomAutoCompleteSearch">
                            <p class="label-container">{{vm.autoCompleteOfFixedEntityDS.placeholderName}}<span ng-if="vm.dataelement.isDatasource">&nbsp;*</span></p>
                          </th>
                          <td ng-if="vm.autoCompleteOfFixedEntityDS && vm.dataelement.isFixedEntity && vm.dataelement.controlTypeID === vm.InputeFieldKeys.CustomAutoCompleteSearch">
                            <md-input-container flex="100" class="autocompletecustom">
                              <custom-auto-complete datalist="vm.FixedEntities"
                                                    column-name="vm.autoCompleteOfFixedEntityDS.columnName"
                                                    controller-name="vm.autoCompleteOfFixedEntityDS.controllerName"
                                                    view-template-url="vm.autoCompleteOfFixedEntityDS.viewTemplateURL"
                                                    key-column-name="vm.autoCompleteOfFixedEntityDS.keyColumnName"
                                                    key-column-id="vm.autoCompleteOfFixedEntityDS.keyColumnId"
                                                    input-name="vm.autoCompleteOfFixedEntityDS.inputName"
                                                    placeholder-name="vm.autoCompleteOfFixedEntityDS.placeholderName"
                                                    is-required=vm.dataelement.isDatasource?true:false
                                                    is-addnew="vm.autoCompleteOfFixedEntityDS.isAddnew"
                                                    callback-fn="vm.autoCompleteOfFixedEntityDS.callbackFn"
                                                    is-disabled="!vm.IsEdit "
                                                    on-select-callback-fn="vm.autoCompleteOfFixedEntityDS.onSelectCallbackFn">
                              </custom-auto-complete>
                            </md-input-container>
                          </td>
                        </tr>
                        <tr ng-if="!vm.systemGeneratedEntity && vm.dataelement.controlTypeID == vm.InputeFieldKeys.Numberbox && !vm.dataelement.isDecimal" ng-class="{'switch-disable': !vm.IsEdit}">
                          <th></th>
                          <td>
                            <md-radio-group class="margin-0" layout="row" layout-align="start center"
                                            name="isAutoIncrement"
                                            ng-disabled="!vm.IsEdit"
                                            ng-model="vm.dataelement.isAutoIncrement"
                                            ng-change="IsRefreshValues = false;IsRefreshValues=true;vm.changeOfAutoIncrementRB()">
                              <md-radio-button class="cm-width-btn-radio" ng-repeat="item in vm.radioButtonGroup.isAutoIncrement.array"
                                               name="{{item.Key}}" ng-value="{{item.Value}}">{{item.Key}}</md-radio-button>
                            </md-radio-group>
                          </td>
                        </tr>
                        <tr>
                          <th ng-if="(vm.dataelement.controlTypeID == vm.InputeFieldKeys.Numberbox || vm.dataelement.controlTypeID == vm.InputeFieldKeys.Currency) && !vm.dataelement.isAutoIncrement">
                            <p class="label-container">From Range</p>
                          </th>
                          <td ng-if="(vm.dataelement.controlTypeID == vm.InputeFieldKeys.Numberbox || vm.dataelement.controlTypeID == vm.InputeFieldKeys.Currency) && !vm.dataelement.isAutoIncrement">
                            <md-input-container flex="100">
                              <input type="number" name="rangeFrom" ng-model="vm.dataelement.rangeFrom"
                                     placeholder="From Range" ng-disabled="!vm.IsEdit" ng-maxlength="15">
                              <div ng-messages="vm.dataElementForm.rangeFrom.$error"
                                   role="alert">
                                <div ng-message="number">
                                  <span>{{vm.CORE_MESSAGE_CONSTANT.INVALID}}</span>
                                </div>
                                <div ng-message="maxlength">
                                  <span>{{vm.getMaxLengthValidation(15, vm.dataElementForm.rangeFrom.$viewValue.length)}}</span>
                                </div>
                              </div>
                            </md-input-container>
                          </td>
                        </tr>
                        <tr>
                          <th ng-if="(vm.dataelement.controlTypeID == vm.InputeFieldKeys.Numberbox || vm.dataelement.controlTypeID == vm.InputeFieldKeys.Currency)  && !vm.dataelement.isAutoIncrement">
                            <p class="label-container">To Range</p>
                          </th>
                          <td ng-if="(vm.dataelement.controlTypeID == vm.InputeFieldKeys.Numberbox || vm.dataelement.controlTypeID == vm.InputeFieldKeys.Currency)  && !vm.dataelement.isAutoIncrement">
                            <md-input-container flex="100">
                              <input type="number" name="rangeTo" ng-model="vm.dataelement.rangeTo"
                                     placeholder="To Range" ng-disabled="!vm.IsEdit" ng-min="vm.dataelement.rangeFrom" ng-maxlength="15">
                              <div ng-messages="vm.dataElementForm.rangeTo.$error"
                                   role="alert">
                                <div ng-message="number">
                                  <span>{{vm.CORE_MESSAGE_CONSTANT.INVALID}}</span>
                                </div>
                                <div ng-message="maxlength">
                                  <span>{{vm.getMaxLengthValidation(15, vm.dataElementForm.rangeTo.$viewValue.length)}}</span>
                                </div>
                              </div>
                            </md-input-container>
                          </td>
                        </tr>
                        <tr ng-if="vm.dataelement.isDatasource && !vm.dataelement.isFixedEntity && vm.dataelement.DynamicMasterEntityFieldList.length > 0 && (vm.dataelement.controlTypeID == vm.InputeFieldKeys.MultipleChoice
                                                                       || vm.dataelement.controlTypeID == vm.InputeFieldKeys.Option
                                                                       || vm.dataelement.controlTypeID == vm.InputeFieldKeys.Combobox
                                                                       || vm.dataelement.controlTypeID == vm.InputeFieldKeys.MultipleChoiceDropdown
                                                                       || vm.dataelement.controlTypeID === vm.InputeFieldKeys.CustomAutoCompleteSearch)"
                            ng-class="{'switch-disable': !vm.IsEdit}">
                          <th>
                            <p class="label-container">Select Master Field<span ng-if="!(!vm.IsEdit || vm.dataelement.datasourceDisplayColumnDataElement) && vm.dataelement.isDatasource && !vm.dataelement.isFixedEntity">&nbsp;*</span></p>
                          </th>
                          <td>
                            <md-radio-group ng-model="vm.dataelement.datasourceDisplayColumnID"
                                            ng-disabled="!vm.IsEdit || vm.dataelement.datasourceDisplayColumnDataElement"
                                            ng-repeat="field in vm.dataelement.DynamicMasterEntityFieldList | orderBy: 'displayOrder'"
                                            ng-required="vm.dataelement.isDatasource && !vm.dataelement.isFixedEntity">
                              <md-radio-button value="{{field.dataElementID}}" class="md-primary margin-right-35">{{field.dataElementName}}</md-radio-button>
                            </md-radio-group>
                          </td>
                        </tr>
                        <tr ng-if="vm.dataelement.controlTypeID == vm.InputeFieldKeys.Textbox">
                          <th>
                            <p class="label-container">Default Value</p>
                          </th>
                          <td>
                            <md-input-container flex="100">
                              <input type="text" name="defaultValue" ng-model="vm.dataelement.defaultValue"
                                     placeholder="Default Value" ng-maxlength="{{vm.dataelement.maxLength ? vm.dataelement.maxLength : 100}}" no-special-character
                                     ng-disabled="!vm.IsEdit">
                              <div ng-messages="vm.dataElementForm.defaultValue.$error" role="alert">
                                <div ng-message="maxlength">
                                  <span>{{vm.getMaxLengthValidation(vm.dataelement.maxLength ? vm.dataelement.maxLength : 100, vm.dataElementForm.defaultValue.$viewValue.length)}}</span>
                                </div>
                              </div>
                            </md-input-container>
                          </td>
                        </tr>
                        <tr ng-if="vm.dataelement.controlTypeID == vm.InputeFieldKeys.Numberbox">
                          <th>
                            <p class="label-container">Default Value</p>
                          </th>
                          <td>
                            <md-input-container flex="100">
                              <input type="number" name="defaultValue" ng-model="vm.dataelement.defaultValue"
                                     placeholder="Default Value"
                                     max="{{vm.dataelement.rangeTo}}" min="{{vm.dataelement.rangeFrom}}"
                                     step="{{vm.dataelement.step}}" custom-blur="vm.calculateStep()"
                                     ng-disabled="!vm.IsEdit">
                              <div ng-messages="vm.dataElementForm.defaultValue.$error"
                                   role="alert">
                                <div ng-message="number">
                                  <span>{{vm.CORE_MESSAGE_CONSTANT.INVALID}}</span>
                                </div>
                              </div>
                            </md-input-container>
                          </td>
                        </tr>
                        <tr ng-if="vm.dataelement.controlTypeID == vm.InputeFieldKeys.Multilinetextbox">
                          <th>
                            <p class="label-container">Default Value</p>
                          </th>
                          <td>
                            <md-input-container flex="100" class="cm-display-contents">
                              <textarea name="defaultValue" ng-model="vm.dataelement.defaultValue"
                                        ng-maxlength="{{vm.dataelement.maxLength}}" rows="2"
                                        placeholder="Default Value"
                                        ng-disabled="!vm.IsEdit"></textarea>
                            </md-input-container>
                          </td>
                        </tr>
                        <tr ng-if="vm.dataelement.controlTypeID == vm.InputeFieldKeys.Editor || vm.dataelement.controlTypeID == vm.InputeFieldKeys.Label">
                          <td colspan="2">
                            <div flex="100" class="cm-display-contents">
                              <p class="label-container">
                                Default Value {{vm.dataelement.maxLength}}
                                <span class="margin-bottom-10" ng-if="vm.dataElementForm.dataEletextangular.$error.taMaxText" style="color:red; font-size:12px">{{vm.CORE_MESSAGE_CONSTANT.MAX_LENGTH}}</span>
                              </p>
                              <text-angular flex="100" ta-toolbar="vm.taToolbar.INLINE" ng-model="vm.dataelement.defaultValue" cg-busy-loading="vm.cgBusyLoading"
                                            ng-class="{'text-angular-custom-border':vm.dataElementForm.dataEletextangular.$error.taMaxText}"
                                            ta-minlength="0"
                                            name="dataEletextangular"
                                            ta-maxlength="{{vm.dataelement.maxLength}}"
                                            class="pb-32 cm-display-contents"
                                            custom-auto-focus="{{vm.dataelement.controlTypeID == vm.InputeFieldKeys.Label ? true : false}}"
                                            ta-disabled="!vm.IsEdit"></text-angular>
                            </div>
                          </td>
                        </tr>
                        <tr ng-if="(vm.entityName == vm.Entity.Equipment || vm.entityName == vm.Entity.Operation || vm.entityName == vm.Entity.Workorder)  && vm.dataelement.controlTypeID != 0 && vm.isShowFieldAt">
                          <th>
                            <p class="label-form-container">Show Field At</p>
                          </th>
                          <td colspan="3">
                            <md-radio-group class="margin-0" name="dateTimeType" flex="100"
                                            ng-model="vm.dataelement.dataelement_use_at"
                                            ng-disabled="!vm.IsEdit">
                              <md-radio-button value="{{ele}}" ng-repeat="ele in vm.SHOW_ELEMENT_OPTION">{{ele}}</md-radio-button>
                            </md-radio-group>
                          </td>
                        </tr>
                        <tr>
                          <th ng-if="vm.dataelement.controlTypeID == vm.InputeFieldKeys.FileUpload">
                            <p class="label-container">Restricted File Extension</p>
                          </th>
                          <td ng-if="vm.dataelement.controlTypeID == vm.InputeFieldKeys.FileUpload">
                            <span>{{vm.CORE_MESSAGE_CONSTANT.CONFIGURE_RESTRICT_FILE_EXTENSTION}} <a class="cursor-pointer" ng-click="vm.restrictFileExtensionPopup()">Configure Restrict File Types.</a></span>
                          </td>
                        </tr>
                        <tr>
                          <td colspan="2" ng-if="!vm.dataelement.isDatasource
                                                                    && (vm.dataelement.controlTypeID == vm.InputeFieldKeys.MultipleChoice
                                                                       || vm.dataelement.controlTypeID == vm.InputeFieldKeys.Option
                                                                       || vm.dataelement.controlTypeID == vm.InputeFieldKeys.Combobox
                                                                       || vm.dataelement.controlTypeID == vm.InputeFieldKeys.MultipleChoiceDropdown
                                                                       || vm.dataelement.controlTypeID === vm.InputeFieldKeys.CustomAutoCompleteSearch)">
                            <div layout="row" class="entitytablemain" layout-wrap flex="100">
                              <md-radio-group class="margin-0" ng-model="vm.dataelement.defaultValue">
                                <table class="dataTable row-border hover cm-field-setting-tbl" ms-responsive-table ng-form="vm.ManualDataOptionsForm">
                                  <thead>
                                    <tr>
                                      <th ng-if="vm.dataelement.controlTypeID != vm.InputeFieldKeys.MultipleChoiceDropdown && vm.dataelement.controlTypeID != vm.InputeFieldKeys.MultipleChoice && vm.dataelement.controlTypeID != vm.InputeFieldKeys.CustomAutoCompleteSearch">Set Default</th>
                                      <th>Display Name<span class="color-red">&nbsp;*</span></th>
                                      <th>Display Value<span class="color-red">&nbsp;*</span></th>
                                      <th>Display Order<span class="color-red">&nbsp;*</span></th>
                                      <th>Action</th>
                                    </tr>
                                  </thead>
                                  <tbody>

                                    <tr ng-repeat="item in vm.dataelement.fieldValue | orderBy:'displayOrder'">
                                      <td ng-if="vm.dataelement.controlTypeID != vm.InputeFieldKeys.MultipleChoiceDropdown && vm.dataelement.controlTypeID != vm.InputeFieldKeys.MultipleChoice && vm.dataelement.controlTypeID != vm.InputeFieldKeys.CustomAutoCompleteSearch" class="padding-top-10">
                                        <md-radio-button ng-if="vm.dataelement.controlTypeID == vm.InputeFieldKeys.Option
                                                            || vm.dataelement.controlTypeID == vm.InputeFieldKeys.Combobox"
                                                         ng-value="item.value"
                                                         class="md-accent left-25 margin-bottom-0" ng-disabled="!vm.IsEdit">
                                        </md-radio-button>
                                      </td>
                                      <td ng-if="!item.IsEdit">
                                        {{item.name}}
                                      </td>
                                      <td ng-if="!item.IsEdit">
                                        {{item.value}}
                                      </td>
                                      <td ng-if="!item.IsEdit" class="text-right">
                                        {{item.displayOrder}}
                                      </td>
                                      <td ng-if="item.IsEdit">
                                        <md-input-container>
                                          <input type="text" ng-model="item.name" name="fieldName_{{$index}}"
                                                 placeholder="Display Name" md-autofocus ng-required="true"
                                                 ng-disabled="!vm.IsEdit" ng-maxlength="250" />
                                          <div ng-messages="vm.dataElementForm['fieldName' + '_' + $index].$error" role="alert">
                                            <div ng-message="required">
                                              <span>{{vm.CORE_MESSAGE_CONSTANT.REQUIRED}}</span>
                                            </div>
                                            <div ng-message="maxlength">
                                              <span>{{vm.getMaxLengthValidation(250 , vm.dataElementForm['fieldName' + '_' + $index].$viewValue.length)}}</span>
                                            </div>
                                          </div>
                                        </md-input-container>
                                      </td>
                                      <td ng-if="item.IsEdit">
                                        <md-input-container>
                                          <input type="text" ng-model="item.value" name="fieldValue_{{$index}}"
                                                 placeholder="Display Value" no-special-character
                                                 ng-disabled="!vm.IsEdit" ng-maxlength="250" ng-required="true" />
                                          <div ng-messages="vm.dataElementForm['fieldValue' + '_' + $index].$error" role="alert">
                                            <div ng-message="required">
                                              <span>{{vm.CORE_MESSAGE_CONSTANT.REQUIRED}}</span>
                                            </div>
                                            <div ng-message="maxlength">
                                              <span>{{vm.getMaxLengthValidation(250 , vm.dataElementForm['fieldValue' + '_' + $index].$viewValue.length)}}</span>
                                            </div>
                                          </div>
                                        </md-input-container>
                                      </td>
                                      <td ng-if="item.IsEdit">
                                        <md-input-container>
                                          <input type="number" ng-model="item.displayOrder" name="fieldDisplayOrder_{{$index}}"
                                                 placeholder="Display Order" min="0" max="9999.99" step="0.01"
                                                 ng-disabled="!vm.IsEdit" ng-required="true"
                                                 onkeypress="return OnlyNumbersWithDot(event)"
                                                 onchange="ToDecimalTwoDigit(this)" />
                                          <div ng-messages="vm.dataElementForm['fieldDisplayOrder' + '_' + $index].$error"
                                               role="alert">
                                            <div ng-message="required">
                                              <span>{{vm.CORE_MESSAGE_CONSTANT.REQUIRED}}</span>
                                            </div>
                                            <div ng-message="number">
                                              <span>{{vm.CORE_MESSAGE_CONSTANT.INVALID}}</span>
                                            </div>
                                            <div ng-message="min">
                                              <span>{{vm.CORE_MESSAGE_CONSTANT.MIN_LENGTH}}</span>
                                            </div>
                                            <div ng-message="step || max || maxlength">
                                              <span>{{vm.CORE_MESSAGE_CONSTANT.INVALID}}</span>
                                            </div>
                                          </div>
                                        </md-input-container>
                                      </td>
                                      <td>
                                        <md-button class="md-primary grid-button md-icon-button"
                                                   ng-if="item.IsEdit"
                                                   ng-disabled="!item.name || !item.value || !item.displayOrder || !vm.IsEdit"
                                                   ng-click="vm.SaveDataElementKeyValue(item)">
                                          <md-icon role="img" md-font-icon="icon-check"
                                                   ng-class="{'md-checkIconDirty': vm.ManualDataOptionsForm.$dirty}"></md-icon>
                                        </md-button>
                                        <md-button ng-if="!item.IsEdit"
                                                   class="md-primary grid-button md-icon-button"
                                                   ng-click="item.IsEdit = !item.IsEdit" ng-disabled="!vm.IsEdit">
                                          <md-icon role="img" md-font-icon="icon-pencil"></md-icon><md-tooltip>Update</md-tooltip>
                                        </md-button>
                                        <md-button class="md-primary grid-button md-icon-button"
                                                   ng-click="vm.deleteOption(item)" ng-disabled="!vm.IsEdit">
                                          <md-icon role="img" md-font-icon="icon-delete"></md-icon><md-tooltip>Remove</md-tooltip>
                                        </md-button>
                                      </td>
                                    </tr>
                                    <tr>
                                      <td ng-if="vm.dataelement.controlTypeID != vm.InputeFieldKeys.MultipleChoiceDropdown && vm.dataelement.controlTypeID != vm.InputeFieldKeys.MultipleChoice && vm.dataelement.controlTypeID != vm.InputeFieldKeys.CustomAutoCompleteSearch">
                                        <md-radio-button ng-if="vm.dataelement.controlTypeID == vm.InputeFieldKeys.Option
                                                            || vm.dataelement.controlTypeID == vm.InputeFieldKeys.Combobox"
                                                         ng-value="vm.currentmodel.name"
                                                         class="md-accent left-25 margin-bottom-0" ng-disabled="!vm.IsEdit">
                                        </md-radio-button>
                                      </td>
                                      <td>
                                        <md-input-container class="margin-bottom-0 error-none">
                                          <input type="text" ng-model="vm.currentmodel.name" name="fieldName"
                                                 placeholder="Display Name" md-autofocus
                                                 ng-disabled="!vm.IsEdit" ng-maxlength="250" />
                                          <div ng-messages="vm.dataElementForm.fieldName.$error" role="alert">
                                            <div ng-message="maxlength">
                                              <span>{{vm.getMaxLengthValidation(250 , vm.dataElementForm.fieldName.$viewValue.length)}}</span>
                                            </div>
                                          </div>
                                        </md-input-container>
                                      </td>
                                      <td>
                                        <md-input-container class="margin-bottom-0 error-none">
                                          <input type="text" ng-model="vm.currentmodel.value" name="fieldValue"
                                                 placeholder="Display Value" no-special-character
                                                 ng-disabled="!vm.IsEdit" ng-maxlength="250" />
                                          <div ng-messages="vm.dataElementForm.fieldValue.$error" role="alert">
                                            <div ng-message="maxlength">
                                              <span>{{vm.getMaxLengthValidation(250 , vm.dataElementForm.fieldValue.$viewValue.length)}}</span>
                                            </div>
                                          </div>
                                        </md-input-container>
                                      </td>
                                      <td>
                                        <md-input-container class="margin-bottom-0 error-none">
                                          <input type="number" ng-model="vm.currentmodel.displayOrder"
                                                 name="fieldDisplayOrder" placeholder="Display Order"
                                                 ng-disabled="!vm.IsEdit" min="0" max="9999.99" step="0.01"
                                                 onkeypress="return OnlyNumbersWithDot(event)"
                                                 onchange="ToDecimalTwoDigit(this)" />
                                          <div ng-messages="vm.dataElementForm.fieldDisplayOrder.$error"
                                               role="alert">
                                            <div ng-message="number">
                                              <span>{{vm.CORE_MESSAGE_CONSTANT.INVALID}}</span>
                                            </div>
                                            <div ng-message="min">
                                              <span>{{vm.CORE_MESSAGE_CONSTANT.MIN_LENGTH}}</span>
                                            </div>
                                            <div ng-message="step || max || maxlength">
                                              <span>{{vm.CORE_MESSAGE_CONSTANT.INVALID}}</span>
                                            </div>
                                          </div>
                                        </md-input-container>
                                      </td>
                                      <td class="margin-top-20">
                                        <md-button class="md-primary grid-button md-icon-button"
                                                   ng-disabled="!vm.currentmodel.name || !vm.currentmodel.value || !vm.currentmodel.displayOrder || !vm.IsEdit"
                                                   ng-click="vm.addOption(vm.currentmodel)">
                                          <md-icon role="img" md-font-icon="icon-check"></md-icon>
                                        </md-button>
                                        <md-button class="md-primary grid-button md-icon-button"
                                                   ng-click="vm.clearCurrentKeyValue()"
                                                   ng-disabled="!vm.IsEdit">
                                          <md-icon role="img" md-font-icon="icon-close"></md-icon>
                                        </md-button>
                                      </td>
                                    </tr>
                                  </tbody>
                                </table>
                              </md-radio-group>
                            </div>
                          </td>
                        </tr>
                        <tr ng-if="vm.dataelement.controlTypeID == vm.InputeFieldKeys.DateTime">
                          <th>
                            <p class="label-container">Date Time Type</p>
                          </th>
                          <td>
                            <md-radio-group class="margin-0" name="dateTimeType" flex="100"
                                            ng-model="vm.dataelement.dateTimeType"
                                            ng-change="vm.dataelement.formatMask = ''; vm.clearValidation($event)"
                                            ng-disabled="!vm.IsEdit">
                              <md-radio-button value="1">Date</md-radio-button>
                              <md-radio-button value="2">Time</md-radio-button>
                              <md-radio-button value="0">Both</md-radio-button>
                            </md-radio-group>
                          </td>
                        </tr>
                        <tr ng-if="vm.dataelement.controlTypeID == vm.InputeFieldKeys.DateTime || vm.dataelement.controlTypeID == vm.InputeFieldKeys.DateRange">
                          <th>
                            <p class="label-container">Select Format<span ng-if="vm.IsEdit">&nbsp;*</span></p>
                          </th>
                          <td colspan="3">
                            <md-select class="margin-top-0" name="formatMask"
                                       ng-model="vm.dataelement.formatMask"
                                       placeholder="Select Format"
                                       required
                                       ng-disabled="!vm.IsEdit" ng-change="vm.dateFormat()">
                              <md-option ng-repeat="dateobj in vm.DateFormatArray | filter:{'type': vm.dataelement.dateTimeType} | orderBy : 'type' "
                                         value="{{dateobj.format}}">
                                {{ dateobj.placeholder }}
                              </md-option>
                            </md-select>
                          </td>
                        </tr>
                        <!-- Default DateTime Value Selection -->
                        <tr ng-if="vm.dataelement.controlTypeID == vm.InputeFieldKeys.DateTime || vm.dataelement.controlTypeID == vm.InputeFieldKeys.DateRange">
                          <th>
                            <p class="label-container"> Default Value </p>
                          </th>
                          <td class="layout-row">
                            <md-radio-group class="margin-0" name="defaultDateTime" flex="100"
                                            ng-model="vm.dataelement.defaultDateTime"
                                            ng-change="vm.setDefaultDateTime($event)"
                                            ng-disabled="!vm.IsEdit">
                              <md-radio-button class="margin-top-m2" ng-repeat="item in vm.dateTimeValueSelection"
                                               name="{{item.title}}" ng-value="{{item.id}}">{{item.title}} {{item.id == 2 ? (vm.dataelement.dateTimeType == '0' ? "Date Time" : (vm.dataelement.dateTimeType == '1' ? "Date" : "Time")) : ""}}</md-radio-button>
                            </md-radio-group>
                          </td>
                        </tr>
                        <tr ng-if="(vm.dataelement.dateTimeType == '1') && (vm.dataelement.controlTypeID == vm.InputeFieldKeys.DateTime) && (vm.dataelement.defaultDateTime === vm.dateTimeValueSelection.customValue.id) ">
                          <th>
                            <p class="label-container" for="datetime">Select Date<span>&nbsp;*</span></p>
                          </th>
                          <td>
                            <md-input-container class="md-block datepicker padding-right-0-imp" flex="100">
                              <input type="text" class="float-left width-100p"
                                     id="datetime"
                                     name="selectDate"
                                     allow-past-date="true"
                                     allow-future-date="true"
                                     datetime-picker="{{vm.dataelement.DateformatMask}}"
                                     ng-model="vm.dataelement.defaultValue"
                                     datepicker-options="vm.selectDateTimeOptions"
                                     ui-mask="{{vm.dataelement.uimaskformatForDateTime}}"
                                     ui-mask-placeholder="{{vm.dataelement.placeholderForDateTime}}"
                                     model-view-value="true"
                                     ng-required="true"
                                     ng-disabled="!vm.IsEdit" ng-if="!vm.hideDate"
                                     is-open="vm.selectDateTimeOptions.dateTimeCommonOpenFlag"
                                     enable-date="true"
                                     enable-time="false"
                                     ng-change="vm.dateTimeChange()" />
                              <md-icon md-font-icon="icon-calendar calender-icon" ng-click="vm.selectDateTimeOptions.dateTimeCommonOpenFlag = true">
                              </md-icon>
                              <div class="error-msg" ng-messages="vm.dataElementForm.selectDate.$error" role="alert">
                                <div ng-message="required">
                                  <span>{{vm.CORE_MESSAGE_CONSTANT.REQUIRED}}</span>
                                </div>
                                <div ng-message="datetime">
                                  <span>{{vm.CORE_MESSAGE_CONSTANT.INVALID}}</span>
                                </div>
                              </div>
                            </md-input-container>
                          </td>
                        </tr>

                        <tr ng-if="(vm.dataelement.dateTimeType == '2') && (vm.dataelement.controlTypeID == vm.InputeFieldKeys.DateTime) && (vm.dataelement.defaultDateTime === vm.dateTimeValueSelection.customValue.id)">
                          <th>
                            <p for="datetime" class="label-container">Select Time<span>&nbsp;*</span></p>
                          </th>
                          <td>
                            <md-input-container class="md-block datepicker padding-right-0-imp" flex="100" ng-if="vm.dataelement.dateTimeType == '2' && vm.dataelement.controlTypeID == vm.InputeFieldKeys.DateTime">
                              <input type="text" class="float-left width-100p"
                                     id="datetime"
                                     name="selectTime"
                                     allow-past-date="true"
                                     allow-future-date="true"
                                     datetime-picker="{{vm.dataelement.DateformatMask}}"
                                     ng-model="vm.dataelement.defaultValue"
                                     datepicker-options="vm.selectDateTimeOptions"
                                     ui-mask="{{vm.dataelement.uimaskformatForDateTime}}"
                                     ui-mask-placeholder="{{vm.dataelement.placeholderForDateTime}}"
                                     model-view-value="true"
                                     ng-required="true"
                                     ng-disabled="!vm.IsEdit" ng-if="!vm.hideDate"
                                     is-open="vm.selectDateTimeOptions.dateTimeCommonOpenFlag"
                                     enable-date="false"
                                     enable-time="true"
                                     ng-change="vm.dateTimeChange()" />
                              <md-icon md-font-icon="icon-calendar calender-icon" ng-click="vm.selectDateTimeOptions.dateTimeCommonOpenFlag = true">
                              </md-icon>
                              <div class="error-msg" ng-messages="vm.dataElementForm.selectTime.$error" role="alert">
                                <div ng-message="required">
                                  <span>{{vm.CORE_MESSAGE_CONSTANT.REQUIRED}}</span>
                                </div>
                                <div ng-message="datetime">
                                  <span>{{vm.CORE_MESSAGE_CONSTANT.INVALID}}</span>
                                </div>
                              </div>
                            </md-input-container>
                          </td>
                        </tr>

                        <tr ng-if="(vm.dataelement.dateTimeType == '0') && (vm.dataelement.controlTypeID == vm.InputeFieldKeys.DateTime) && (vm.dataelement.defaultDateTime === vm.dateTimeValueSelection.customValue.id)">
                          <th>
                            <p class="label-container" for="datetime">Select Date Time<span>&nbsp;*</span></p>
                          </th>
                          <td>
                            <md-input-container id="customdatetime" class="md-block datepicker padding-right-0-imp">
                              <input type="text" class="float-left width-100p"
                                     id="datetime"
                                     name="selectDateTime"
                                     allow-past-date="true"
                                     allow-future-date="true"
                                     datetime-picker="{{vm.dataelement.DateformatMask}}"
                                     ng-model="vm.dataelement.defaultValue"
                                     datepicker-options="vm.selectDateTimeOptions"
                                     ui-mask="{{vm.dataelement.uimaskformatForDateTime}}"
                                     ui-mask-placeholder="{{vm.dataelement.placeholderForDateTime}}"
                                     model-view-value="true"
                                     ng-required="true"
                                     ng-disabled="!vm.IsEdit" ng-if="!vm.hideDate"
                                     ng-change="vm.dateTimeChange()"
                                     is-open="vm.selectDateTimeOptions.dateTimeCommonOpenFlag"
                                     enable-time="true"
                                     enable-date="true" />
                              <md-icon md-font-icon="icon-calendar calender-icon" ng-click="vm.selectDateTimeOptions.dateTimeCommonOpenFlag = true">
                              </md-icon>
                              <div class="error-msg" ng-messages="vm.dataElementForm.selectDateTime.$error" role="alert">
                                <div ng-message="required">
                                  <span>{{vm.CORE_MESSAGE_CONSTANT.REQUIRED}}</span>
                                </div>
                                <div ng-message="datetime">
                                  <span>{{vm.CORE_MESSAGE_CONSTANT.INVALID}}</span>
                                </div>
                              </div>
                            </md-input-container>
                          </td>
                        </tr>
                        <tr ng-if="(vm.dataelement.controlTypeID == vm.InputeFieldKeys.DateRange) && (vm.dataelement.defaultDateTime === vm.dateTimeValueSelection.customValue.id)">
                          <td colspan="2">
                            <p class="label-form-container">Default Range Value</p>
                          </td>
                        </tr>
                        <tr ng-if="(vm.dataelement.controlTypeID == vm.InputeFieldKeys.DateRange) && (vm.dataelement.defaultDateTime === vm.dateTimeValueSelection.customValue.id)">
                          <th>
                            <p class="label-container">From<span>&nbsp;*</span></p>
                          </th>
                          <td colspan="3" class="display-flex">
                            <md-input-container class="margin-0 padding-right-0-imp" flex="100" ng-if="!vm.hideDate">
                              <input type="text" class="float-left"
                                     name="fromDate"
                                     allow-past-date="true"
                                     allow-future-date="true"
                                     datetime-picker="{{vm.dataelement.DateformatMask}}"
                                     ng-model="vm.dataelement.fromDate"
                                     enable-time="false"
                                     ui-mask="{{vm.dataelement.uimaskformatForDateTime}}"
                                     ui-mask-placeholder="{{vm.dataelement.placeholderForDateTime}}"
                                     model-view-value="true"
                                     datepicker-options="vm.dataelement.fromDateOptions"
                                     is-open="vm.IsPickerOpen[vm.DATE_PICKER.fromDate]"
                                     ng-change="vm.onChangeFromDate()"
                                     ng-disabled="!vm.IsEdit"
                                     required />
                              <md-icon md-font-icon="icon-calendar calender-icon" ng-click="vm.IsPickerOpen[vm.DATE_PICKER.fromDate] = (!vm.IsEdit ? false : true)">
                              </md-icon>
                              <div class="error-msg" ng-messages="vm.dataElementForm.fromDate.$error" role="alert">
                                <div ng-message="datetime">
                                  <span>{{vm.CORE_MESSAGE_CONSTANT.INVALID}}</span>
                                </div>
                                <div ng-message="required">
                                  <span>{{vm.CORE_MESSAGE_CONSTANT.REQUIRED}}</span>
                                </div>
                              </div>
                            </md-input-container>
                            <p class="label-container width-auto padding-top-4">To<span>&nbsp;*</span></p>
                            <md-input-container class="margin-0 padding-right-0-imp" flex="100"
                                                ng-if="!vm.hideDate">
                              <input type="text" class="float-left"
                                     name="toDate"
                                     allow-past-date="true"
                                     allow-future-date="true"
                                     datetime-picker="{{vm.dataelement.DateformatMask}}"
                                     ng-model="vm.dataelement.toDate"
                                     enable-time="false"
                                     ui-mask="{{vm.dataelement.uimaskformatForDateTime}}"
                                     ui-mask-placeholder="{{vm.dataelement.placeholderForDateTime}}"
                                     model-view-value="true"
                                     datepicker-options="vm.dataelement.toDateOptions"
                                     is-open="vm.IsPickerOpen[vm.DATE_PICKER.toDate]"
                                     ng-disabled="!vm.IsEdit"
                                     ng-change="vm.onChangeFromDate()"
                                     required />
                              <md-icon md-font-icon="icon-calendar calender-icon" ng-click="vm.IsPickerOpen[vm.DATE_PICKER.toDate] = (!vm.IsEdit ? false : true)">
                              </md-icon>
                              <div class="error-msg" ng-messages="vm.dataElementForm.toDate.$error" role="alert">
                                <div ng-message="datetime">
                                  <span>{{vm.CORE_MESSAGE_CONSTANT.INVALID}}</span>
                                </div>
                                <div ng-message="required">
                                  <span>{{vm.CORE_MESSAGE_CONSTANT.REQUIRED}}</span>
                                </div>
                              </div>
                            </md-input-container>
                          </td>
                        </tr>
                        <tr ng-if="vm.dataelement.controlTypeID == vm.InputeFieldKeys.SingleChoice">
                          <th>
                            <p class="label-container">Default Value</p>
                          </th>
                          <td>
                            <md-radio-group class="margin-0" layout="row" layout-align="start center"
                                            name="defaultValue"
                                            ng-disabled="!vm.IsEdit"
                                            ng-model="vm.dataelement.defaultValue">
                              <md-radio-button class="margin-top-0" ng-repeat="item in vm.radioButtonGroup.defaultValue.array"
                                               name="{{item.Key}}" ng-value="{{item.Value}}">{{item.Key}}</md-radio-button>
                            </md-radio-group>
                          </td>
                        </tr>
                        <tr ng-if="vm.dataelement.controlTypeID == vm.InputeFieldKeys.Email">
                          <th>
                            <p class="label-container">Default Value</p>
                          </th>
                          <td>
                            <md-input-container flex="100">
                              <input type="email" name="defaultValue" ng-model="vm.dataelement.defaultValue"
                                     placeholder="Default Value" ng-maxlength="{{vm.dataelement.maxLength ? vm.dataelement.maxLength : 100}}"
                                     ng-disabled="!vm.IsEdit">
                              <div ng-messages="vm.dataElementForm.defaultValue.$error" role="alert">
                                <div ng-message="maxlength">
                                  <span>{{vm.getMaxLengthValidation(vm.dataelement.maxLength ? vm.dataelement.maxLength : 100, vm.dataElementForm.defaultValue.$viewValue.length)}}</span>
                                </div>
                              </div>
                            </md-input-container>
                          </td>
                        </tr>
                        <tr ng-if="vm.dataelement.controlTypeID == vm.InputeFieldKeys.Currency">
                          <th>
                            <p class="label-container">Default Value</p>
                          </th>
                          <td>
                            <md-input-container class="md-icon-float input-with-usd-symbol padding-left-0-imp md-block" flex="100">
                              <md-icon md-font-icon="icon-currency-usd" class="usdicon"></md-icon>
                              <input type="number" name="defaultValue" ng-model="vm.dataelement.defaultValue"
                                     placeholder="Default Value"
                                     max="{{vm.dataelement.rangeTo ? vm.dataelement.rangeTo : vm.dataElement_Default_Values.Currency.Max}}"
                                     min="{{vm.dataelement.rangeFrom ? vm.dataelement.rangeFrom : vm.dataElement_Default_Values.Currency.Min}}"
                                     step="{{vm.dataelement.step}}"
                                     ng-disabled="!vm.IsEdit">
                              <div ng-messages="vm.dataElementForm.defaultValue.$error" role="alert">
                                <div ng-message="min">
                                  <span>Min value {{vm.dataelement.rangeFrom ? vm.dataelement.rangeFrom : vm.dataElement_Default_Values.Currency.Min}}</span>
                                </div>
                                <div ng-message="number">
                                  <span>{{vm.CORE_MESSAGE_CONSTANT.INVALID}}</span>
                                </div>
                                <div ng-message="max">
                                  <span>Max value {{vm.dataelement.rangeTo ? vm.dataelement.rangeTo : vm.dataElement_Default_Values.Currency.Max}}</span>
                                </div>
                              </div>
                            </md-input-container>
                          </td>
                        </tr>
                        <tr ng-if="vm.dataelement.controlTypeID == vm.InputeFieldKeys.URL">
                          <th>
                            <p class="label-container">Default Value</p>
                          </th>
                          <td>
                            <md-input-container flex="100">
                              <input type="url" name="defaultValue" ng-model="vm.dataelement.defaultValue"
                                     placeholder="Default Value" ng-maxlength="{{vm.dataelement.maxLength ? vm.dataelement.maxLength : 100}}"
                                     ng-disabled="!vm.IsEdit">
                              <div ng-messages="vm.dataElementForm.defaultValue.$error" md-auto-hide="false" role="alert">
                                <div ng-message="maxlength">
                                  <span>{{vm.getMaxLengthValidation(vm.dataelement.maxLength ? vm.dataelement.maxLength : 100, vm.dataElementForm.defaultValue.$viewValue.length)}}</span>
                                </div>
                              </div>
                            </md-input-container>
                          </td>
                        </tr>
                        <tr>
                          <th ng-if="!vm.systemGeneratedEntity && vm.dataelement.controlTypeID != 0 && vm.dataelement.controlTypeID != vm.InputeFieldKeys.SubForm
                                                             && (vm.dataelement.controlTypeID == vm.InputeFieldKeys.Textbox || vm.dataelement.controlTypeID == vm.InputeFieldKeys.Numberbox
                                                              || vm.dataelement.controlTypeID == vm.InputeFieldKeys.Multilinetextbox || vm.dataelement.controlTypeID == vm.InputeFieldKeys.Email
                                                            || vm.dataelement.controlTypeID == vm.InputeFieldKeys.Currency || vm.dataelement.controlTypeID == vm.InputeFieldKeys.URL)"
                              ng-class="{'switch-disable': !vm.IsEdit}">
                            <p class="label-container">Is Unique</p>
                          </th>
                          <td ng-if="!vm.systemGeneratedEntity && vm.dataelement.controlTypeID != 0 && vm.dataelement.controlTypeID != vm.InputeFieldKeys.SubForm
                                                             && (vm.dataelement.controlTypeID == vm.InputeFieldKeys.Textbox || vm.dataelement.controlTypeID == vm.InputeFieldKeys.Numberbox
                                                              || vm.dataelement.controlTypeID == vm.InputeFieldKeys.Multilinetextbox || vm.dataelement.controlTypeID == vm.InputeFieldKeys.Email
                                                            || vm.dataelement.controlTypeID == vm.InputeFieldKeys.Currency || vm.dataelement.controlTypeID == vm.InputeFieldKeys.URL)"
                              ng-class="{'switch-disable': !vm.IsEdit}">
                            <md-radio-group class="margin-0" layout="row" layout-align="start center"
                                            name="isUnique"
                                            ng-disabled="!vm.IsEdit"
                                            ng-model="vm.dataelement.isUnique"
                                            ng-change="IsRefreshValues = false;IsRefreshValues=true;">
                              <md-radio-button class="margin-top-0" ng-repeat="item in vm.radioButtonGroup.isUnique.array"
                                               name="{{item.Key}}" ng-value="{{item.Value}}">{{item.Key}}</md-radio-button>
                            </md-radio-group>
                          </td>
                        </tr>
                        <tr ng-if="vm.dataelement.controlTypeID != 0 && vm.dataelement.controlTypeID != vm.InputeFieldKeys.SubForm && vm.dataelement.controlTypeID != vm.InputeFieldKeys.Editor
                                      && vm.dataelement.controlTypeID != vm.InputeFieldKeys.Signature && vm.dataelement.controlTypeID != vm.InputeFieldKeys.DateRange">
                          <th>
                            <p class="label-container">
                              Width
                              <md-icon class="tooltip-icon help-icon m-0" md-font-icon="icon-help-circle"><md-tooltip><span>Enter width in Pixels.</span></md-tooltip></md-icon>
                            </p>
                          </th>
                          <td colspan="3">
                            <md-input-container flex="100" class="margin-top-20">
                              <input type="number" name="fieldWidth" ng-model="vm.dataelement.fieldWidth" ng-min="vm.dataElement_Default_Values.fieldWidthValidation.Min" ng-max="vm.dataElement_Default_Values.fieldWidthValidation.Max"
                                     placeholder="Width (px)"
                                     ng-disabled="!vm.IsEdit">
                              <div ng-messages="vm.dataElementForm.fieldWidth.$error" md-auto-hide="false" role="alert">
                                <div ng-message="min">
                                  <span>{{vm.minValueValidationMessage}}</span>
                                </div>
                                <div ng-message="max">
                                  <span>{{vm.maxValueValidationMessage}}</span>
                                </div>
                                <div ng-message="number">
                                  <span>{{vm.CORE_MESSAGE_CONSTANT.INVALID}}</span>
                                </div>
                              </div>
                            </md-input-container>
                          </td>
                        </tr>
                        <tr ng-if="vm.dataelement.controlTypeID != 0">
                          <th>
                            <p class="label-container">Tooltip</p>
                          </th>
                          <td colspan="3">
                            <md-input-container flex="100" class="margin-top-20" ng-if="vm.dataelement.controlTypeID != 0">
                              <input type="text" name="tooltip" ng-model="vm.dataelement.tooltip"
                                     placeholder="Tooltip"
                                     ng-disabled="!vm.IsEdit" ng-maxlength="250" last-element elementcondition="true">
                              <div ng-messages="vm.dataElementForm.tooltip.$error" md-auto-hide="false" role="alert">
                                <div ng-message="maxlength">
                                  <span>{{vm.getMaxLengthValidation(250, vm.dataElementForm.tooltip.$viewValue.length)}}</span>
                                </div>
                              </div>
                            </md-input-container>
                          </td>
                        </tr>
                      </tbody>
                    </table>
                    <div ng-if="vm.dataelement.controlTypeID == 0">
                      <div class="empty-state text-center full-height"
                           layout="row" layout-align="center center" layout-wrap
                           ng-if="vm.dataelement.controlTypeID == 0">
                        <div class="emty-icon" flex="100">
                          <img src="../../../../assets/images/emptystate/operation.png" />
                        </div>
                        <p flex="100" class="empty-state-title">Select any field from preview.</p>
                      </div>
                    </div>
                  </div>
                </div>
                <div layout="row" flex="100" layout-wrap class="workorderblog margin-top-15" ng-if="[vm.InputeFieldKeys.Textbox, vm.InputeFieldKeys.Numberbox, vm.InputeFieldKeys.DateTime].indexOf(vm.dataelement.controlTypeID) != -1">
                  <div class="md-list-item-text" flex="100" layout-wrap ng-style="!vm.IsEdit && {'opacity':'0.7'}">
                    <div class="cm-section-main">
                      <div class="cm-section-header">
                        <h2 class="margin-right-5">Validation Options</h2>
                        <md-icon class="md-primary md-raised small-icon cursor-pointer margin-0 filter-ico" md-font-icon="icon-pencil"
                                 ng-class="{'disable': !vm.IsEdit}"
                                 ng-click="vm.IsEdit ? vm.addValidation($event) : angular.noop">
                          <md-tooltip md-direction="bottom">Add Validation</md-tooltip>
                        </md-icon>
                        <md-icon class="md-primary md-raised small-icon cursor-pointer filter-ico margin-0" md-font-icon="icon-close"
                                 ng-class="{'disable': !vm.IsEdit}"
                                 ng-click="vm.IsEdit ? vm.clearValidation($event) : angular.noop">
                          <md-tooltip md-direction="bottom">Clear Validation</md-tooltip>
                        </md-icon>

                      </div>
                    </div>
                  </div>
                  <div flex="100" layout="row" layout-wrap>
                    <small class="margin-bottom-5"><b ng-bind-html="vm.expressionui"></b></small>
                    <div class="cm-section-main border-0" flex="100">
                      <div class="cm-section-inner" flex="100">
                        <table cellpadding="0" cellspacing="0" class="cm-table-input-main">
                          <tbody>
                            <tr>
                              <th>
                                <p class="label-container">Validation Successful Message</p>
                              </th>
                              <td>
                                <md-input-container flex="100">
                                  <input type="text" name="validationExprSuccessMsg" ng-model="vm.dataelement.validationExprSuccessMsg" ng-maxlength="255"
                                         placeholder="Validation Successful Message" ng-disabled="!vm.IsEdit">
                                  <div ng-messages="vm.dataElementForm.validationExprSuccessMsg.$error"
                                       role="alert">
                                    <div ng-message="maxlength">
                                      <span>{{vm.getMaxLengthValidation(255, vm.dataElementForm.validationExprSuccessMsg.$viewValue.length)}}</span>
                                    </div>
                                  </div>
                                </md-input-container>
                              </td>
                            </tr>
                            <tr>
                              <th>
                                <p class="label-container">Validation Failure Message</p>
                              </th>
                              <td>
                                <md-input-container flex="100">
                                  <input type="text" name="validationExprErrorMsg" ng-model="vm.dataelement.validationExprErrorMsg" ng-maxlength="255"
                                         placeholder="Validation Failure Message" ng-disabled="!vm.IsEdit">
                                  <div ng-messages="vm.dataElementForm.validationExprErrorMsg.$error"
                                       role="alert">
                                    <div ng-message="maxlength">
                                      <span>{{vm.getMaxLengthValidation(255, vm.dataElementForm.validationExprErrorMsg.$viewValue.length)}}</span>
                                    </div>
                                  </div>
                                </md-input-container>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              <div id="FieldSettings" flex="100" layout="row"
                   class="padding-10 scroll-section custom-scroll"
                   layout-wrap ng-if="vm.dataelement.rearrange">
                <div ui-sortable="vm.rearrangeSortableOptions" flex="100"
                     ng-model="vm.dataelement.subFormList" class="subform-items-container">
                  <div class="rearrange-item"
                       ng-repeat="item in vm.dataelement.subFormList"
                       ui-sortable-selectable
                       ng-model="item"
                       ng-class="{'cursor-not-allow': !vm.IsEdit}">
                    <md-icon role="img" md-font-icon="{{vm.getIconClass(item.controlTypeID)}}"></md-icon>
                    &nbsp; {{ item.dataElementName }}
                  </div>
                </div>
              </div>
            </div>
          </form>
        </div>
      </div>
    </div>

    <div flex="100" class="minfullheight padding-top-side manage-employee-fields-main" ng-if="!vm.isAuthorised">
      <div class="empty-state text-center full-height" layout-align="center-center" layout="row" layout-wrap flex="100">
        <div class="emty-icon" flex="100">
          <img ng-src="{{vm.EmptyMesssageForForm.UNAUTHORISED_IMAGEURL}}" />
        </div>
        <p class="empty-state-title font-size-2 useadded-emptytxt">
          {{vm.EmptyMesssageForForm.UNAUTHORISED}}
        </p>
        <p flex="100" ng-if="!applyTravelerFilter">
          {{vm.EmptyMesssageForForm.ADDNEWMESSAGE}}
        </p>
        <p flex="100">
          <md-button class="md-fab md-mini" aria-label="Add Elements"
                     ng-click="vm.addEntity()">
            <md-icon role="img" md-font-icon="icon-plus" class="material-icons mat-icon icon-plus">
              <md-tooltip>Add new</md-tooltip>
            </md-icon>
          </md-button>

        </p>
      </div>
    </div>
  </div>

  <style type="text/css">
    .md-dialog-container {
      z-index: 100;
    }

    md-backdrop.md-select-backdrop {
      z-index: 9;
    }

    .md-scroll-mask {
      z-index: 1;
    }

    #customdatetime > .dtp-clear {
      right: -15px !important;
    }

    .dropdown-menu {
      left: auto !important;
      right: 5%;
    }
  </style>
</div>

