<div class="empty-state text-center full-height" layout="row" layout-align="center center"
     flex="100" layout-wrap
     ng-if="!vm.isNotiFilterApplied && vm.notificationList.length == 0">
  <div class="emty-icon" flex="100">
    <img ng-src="{{vm.EmptyMesssage.IMAGEURL}}" />
  </div>
  <p flex="100" class="empty-state-title">{{vm.EmptyMesssage.MESSAGE}}</p>
</div>
<div class="empty-state text-center full-height" layout="row" flex="100" layout-align="center center"
     layout-wrap ng-if="vm.isNotiFilterApplied && vm.notificationList.length == 0">
  <div class="emty-icon" flex="100">
    <img ng-src="{{vm.CommonEmptyMesssage.IMAGEURL}}" />
  </div>
  <p flex="100" class="empty-state-title">{{vm.CommonEmptyMesssage.MESSAGE}}</p>
</div>
<div class="thread {{thread.status}}" 
     ng-if="!vm.loadingThreads"
     ng-repeat="thread in vm.notificationList" ng-class="{'cm-notification-read':thread.isRead}">
  <div md-ink-ripple layout="row" layout-align="start center" class="cm-notification-chip relative">
    <div layout="row" flex="100" ng-click="vm.markNotificationAsReadUnread(thread,true)">
      <div flex-gt-md="90" flex="80" class="info margin-left-6px" layout="column">
        <div class="name mb-10" layout="row" layout-align="start-start">
          <div flex="15" flex-sm="30" layout-align="start-center" layout="row" ng-if="vm.loginUserDetails.isUserSuperAdmin && vm.isDisplayForAllUser">
            <img class="avatar" alt="{{thread.fullNameForReceiver}}"
                 ng-src="{{thread.ProfilePicForReceiver}}" />
            <span class="text-truncate" ng-class="{'cm-viewed-notification-emp':thread.isRead}">
              {{thread.initialNameOfRecv}}
              <md-tooltip><span>Receiver: {{thread.fullNameForReceiver}}</span></md-tooltip>
            </span>
          </div>
          <div flex layout="column">
            <div flex="100" layout="row" layout-align="start-center">
              <div flex="15" flex-sm="30" layout-align="start-center" layout="row">
                <img class="avatar" alt="{{thread.name}}"
                     ng-src="{{thread.ProfilePic}}" />
                <span class="text-truncate" ng-class="{'cm-viewed-notification-emp':thread.isRead}">
                  {{thread.initialName}}
                  <md-tooltip><span>Sender: {{thread.name}}</span></md-tooltip>
                </span>
              </div>
              <div class="subject text-truncate" flex="{{vm.loginUserDetails.isUserSuperAdmin && vm.isDisplayForAllUser ? 70 : 85}}" flex-sm="70">
                <img class="wo-stop-image" ng-if="thread.isHaltWoOpNoti" src="assets/images/logos/stop.png" />
                <a class="cursor-pointer" ng-if="thread.redirectUrl" target="_blank" ng-class="{'cm-viewed-notification-msg':thread.isRead}"
                   ng-href="{{vm.urlPrefix + thread.redirectUrl}}">
                  {{thread.subject}}
                  <md-tooltip>{{thread.subject}}</md-tooltip>
                </a>
                <a class="cursor-pointer" href="javascript:void(0)" ng-class="{'cm-viewed-notification-msg':thread.isRead}"
                   ng-if="!thread.redirectUrl">
                  {{thread.subject}}
                  <md-tooltip>{{thread.subject}}</md-tooltip>
                </a>
              </div>
            </div>
            <div layout flex="100">
              <!--<div flex="15"></div>-->
              <div class="pt-10 message" ng-bind-html="vm.sanitizeHtml(thread.message)">
                <!--<md-tooltip md-direction="top" class="tt-multiline" ng-bind-html="vm.sanitizeHtml(thread.message)"></md-tooltip>-->
              </div>
            </div>
          </div>
        </div>
      </div>
      <div flex layout="column" layout-align="space-between end">
        <div class="time padding-top-5" ng-class="{'font-weight-700':!thread.isRead}">
          {{thread.notificationDateAsMail}}
          <md-tooltip><span>{{thread.convertedNotificationDate}}</span></md-tooltip>
        </div>
        <div class="actions" layout="row" layout-align="start center">
          <span ng-if="thread.requestStatus != vm.notificationRequestStatus.Pending">
            {{thread.requestStatus == vm.notificationRequestStatus.Accepted ? 'Acknowledged' : 'Rejected'}}
          </span>
          <span ng-if="thread.requestStatus == vm.notificationRequestStatus.Pending && thread.messageSubType == vm.notificationSubType.A">
            <a href="javascript:void(0)" ng-click="vm.acceptNotification(thread);">Acknowledge</a>
          </span>
        </div>
      </div>
    </div>
  </div>
</div>
<style>
  md-content.md-default-theme a.cursor-pointer.ng-binding.ng-scope.md-default-theme.cm-viewed-notification-msg {
    color: #757575 !important;
    text-decoration: underline !important;
  }

  .cm-viewed-notification-emp {
    color: rgb(0,0,0,0.5) !important;
  }
</style>
