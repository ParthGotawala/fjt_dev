<div id="forms" class="page-layout simple fullwidth doc-page breadcrumb-fixed cm-custom-label-common" layout="column" cg-busy="{promise:vm.cgBusyLoading}">
  <div class="content-card" layout="column" flex>
    <div flex="{{vm.isShowSideNav==false?100:80}}">
      <div layout="row" flex="100" class="work-order-bg-main cm-section-main border-0 flex-100 cm-postatus-wo-op-bg"
           layout-wrap ng-if="vm.poWiseAssyList.length > 0">
        <div class="cm-section-inner" layout="row" layout-wrap flex="100">
          <table width="100%" class="cm-table-input-main cm-wo-header-main opration-table">
            <tr>
              <th>
                <p class="label-container">
                  <a tabindex="-1" href="" class="cm-text-decoration margin-0"
                     ng-mousedown="vm.goToSalesOrderList();$event.preventDefault();">
                    {{vm.allLabelConstant.Workorder.PO}}:
                  </a>:
                </p>
              </th>
              <td>
                <span class="value">
                  <a tabindex="-1" class="cm-text-decoration" ng-click="vm.goToManageSalesOrder(vm.poWiseAssyList[0].salesOrderID);">
                    {{vm.poWiseAssyList[0].poNumber}}
                  </a>
                </span>
              </td>
              <th>
                <p class="label-container">
                  <a tabindex="-1" class="cm-text-decoration margin-0"
                     ng-mousedown="vm.goToSalesOrderList();$event.preventDefault();">{{vm.allLabelConstant.SalesOrder.SO}}</a>:
                </p>
              </th>
              <td>
                <span class="value">
                  <a tabindex="-1" class="cm-text-decoration" ng-click="vm.goToManageSalesOrder(vm.poWiseAssyList[0].salesOrderID);">
                    {{vm.poWiseAssyList[0].salesOrderNumber}}
                  </a>
                </span>
              </td>
              <th>
                <p class="label-container">
                  {{vm.allLabelConstant.SalesOrder.PODate}}:
                </p>
              </th>
              <td>
                <span class="value">
                  {{vm.poWiseAssyList[0].poDate | date: vm.defaultDateFormat}}
                </span>
              </td>
              <th>
                <p class="label-container">
                  {{vm.allLabelConstant.SalesOrder.SODate}}:

                </p>
              </th>
              <td>
                <span class="value">
                  {{vm.poWiseAssyList[0].salesOrderDate | date: vm.defaultDateFormat}}
                </span>
              </td>
            </tr>
          </table>
        </div>
      </div>
      <div ng-if="vm.poWiseAssyList.length">
        <div layout="row" layout-align="end end" class="margin-top-15 margin-bottom-15">
          <div layout="row" flex-xs="50">
            <md-input-container class="md-block search-header margin-0 error-none">
              <input type="text" ng-model="vm.query.search" ng-model-options="{debounce: vm.debounceConstant.mdDataTable }" placeholder="Search">
            </md-input-container>
            <md-button class="md-primary md-raised margin-0 margin-right-5-imp" ng-click="vm.query.search = ''" ng-disabled="!vm.query.search">
              Clear
            </md-button>
            <md-button class="md-primary md-raised margin-0" ng-click="vm.query.search = '';vm.refreshPODetails()">
              Refresh
            </md-button>
          </div>
        </div>
        <div class="content fullpage-datatable" layout="column" flex>
          <md-table-container flex="100" class="cm-po-status-details">
            <table md-table class="md-data-table table-row-select cm-scroll-table" md-row-select ng-model="vm.selectedItems">
              <thead md-head md-order="vm.query.order">
                <tr md-row>
                  <th md-column width="50">
                    #
                  </th>
                  <th md-column md-order-by="" width="390">
                    {{vm.allLabelConstant.Assembly.ID}}
                  </th>
                  <th md-column md-order-by="" width="185">
                    {{vm.allLabelConstant.Assembly.Rev}}
                  </th>
                  <th md-column md-numeric md-order-by="" width="160">
                    {{vm.allLabelConstant.Workorder.POQty}}
                  </th>
                  <th md-column md-numeric md-order-by="" width="170">
                    Price ($)
                  </th>
                  <th md-column md-numeric md-order-by="" width="180">
                    {{vm.allLabelConstant.Workorder.MRPQty}}
                  </th>
                  <th md-column md-numeric md-order-by="" width="175">
                    {{vm.allLabelConstant.Qty.WIPQty}}
                  </th>
                  <th md-column md-numeric md-order-by="" width="160">
                    {{vm.allLabelConstant.Shipped.ShippedQty}}
                  </th>
                </tr>
              </thead>
              <tbody md-body>
                <tr md-row ng-repeat="item in vm.poWiseAssyList
                                                                | filter: vm.query.search
                                                                | orderBy: vm.query.order">
                  <td md-cell width="50">{{$index+1}}</td>
                  <td md-cell width="390">
                    <common-pid-code-label-link component-id="item.PartID"
                                                label="vm.allLabelConstant.Assembly.ID" value="item.PIDCode"
                                                is-copy="true" rohs-icon="item.displayRohsIcon"
                                                rohs-status="item.RoHSName" is-formated="true"
                                                is-assembly="true"
                                                is-custom-part="item.isCustomPart">
                  </td>
                  <td md-cell width="185">{{item.assyRev}}</td>
                  <td md-cell width="160">{{item.poQty | numberWithoutDecimal}}</td>
                  <td md-cell width="170">{{item.price | number : 3}}</td>
                  <td md-cell width="180">{{item.mrpQty | numberWithoutDecimal}}</td>
                  <td md-cell width="175">{{item.balancedDueQty | numberWithoutDecimal}}</td>
                  <td md-cell width="160">{{item.shippedQty | numberWithoutDecimal}}</td>
                </tr>
              </tbody>
            </table>
          </md-table-container>
          <div class="empty-state full-height-90" layout="row" layout-wrap layout-align="center center"
               ng-if="(vm.poWiseAssyList | filter: vm.query.search).length == 0 && vm.query.search.length > 0">
            <div class="emty-icon" flex="100">
              <img ng-src="{{vm.emptySearch.IMAGEURL}}" />
            </div>
            <p class="empty-state-title" flex="100">{{vm.emptySearch.MESSAGE}}</p>
          </div>
        </div>
      </div>
      <div class="empty-state full-height margin-top-80" layout="row" layout-wrap layout-align="center center"
           ng-if="!vm.poWiseAssyList.length && !vm.query.search">
        <div class="emty-icon" flex="100">
          <img ng-src="{{vm.CommonEmptyMessage.IMAGEURL}}" />
        </div>
        <p class="empty-state-title" flex="100">{{vm.CommonEmptyMessage.MESSAGE}}</p>
      </div>
    </div>
  </div>
</div>
