<div id="user-list" class="page-layout carded fullwidth doc-page breadcrumb-fixed cm-custom-label-common" layout="column" cg-busy="{promise:vm.cgBusyLoading}">
    <div class="center margin-left-0 margin-right-0" layout="column" flex>
        <div class="header md-accent-bg cm-rs-header" layout="row" layout-align="space-between center">
            <div class="white-fg" layout="column" layout-align="start start" flex>
                <div class="h2 layout-wrap-rs" layout="row" layout-align="start center">
                    <pagetitle is-list="true" is-display-menu-name="true"></pagetitle>
                    <popup-header-label label-data="vm.headerdata"></popup-header-label>
                </div>
                <div layout="row" layout-align="start center">
                    <breadcrumbs></breadcrumbs>
                </div>
            </div>
            <div layout-align="end end">
                <md-button class="md-raised md-primary cm-feture-btn-color" 
                    ng-disabled="!vm.enableNarrativeDetails" aria-label="Add R&D Narrative History" ng-click="(!vm.enableNarrativeDetails) || vm.addEditRecord(null,$event)">
                    Add R&D Narrative History
                </md-button>
            </div>
        </div>
        <div class="padding-top-side cm-wo-narrative">
            <form name="vm.narrativeHistoryform" class="md-inline-form padding-10-imp pricing-histroy-form advanced-filters" novalidate>
                <div class="content" layout="column" layout-gt-xs="100">
                    <div layout="row" flex="100">
                        <div class="cm-section-main" flex="100">
                            <div class="cm-section-inner" layout="row" flex="100">
                                <div class="input-wrapper" layout="row">
                                    <p class="label-container">From Date<span>&nbsp;*</span></p>
                                    <md-input-container class="datepicker">
                                        <label class="datepickerlfetlable">From Date </label>
                                        <input type="text" class="float-left"
                                               name="fromDate"
                                               datetime-picker="{{$root.dateDisplayFormat}}"
                                               enable-date="true"
                                               enable-time="false"
                                               ng-model="vm.fromDate"
                                               ng-change="vm.fromDateChanged()"
                                               datepicker-options="vm.fromDateOptions"
                                               ui-options="{clearOnBlur  : true}"
                                               ui-mask="{{$root.uimaskFormat.date.mask}}"
                                               ui-mask-placeholder="{{$root.uimaskFormat.date.placeholder}}"
                                               model-view-value="true"
                                               is-open="vm.fromDateOptions.fromDateOpenFlag" />
                                        <md-icon md-font-icon="icon-calendar calender-icon" ng-click="vm.fromDateOptions.fromDateOpenFlag = true">
                                        </md-icon>
                                        <div ng-messages="vm.narrativeHistoryform.fromDate.$error" md-auto-hide="false" role="alert">
                                            <div ng-message="mindate">
                                                <span>{{vm.CORE_MESSAGE_CONSTANT.INVALID}}</span>
                                            </div>
                                            <div ng-message="valid">
                                                <span>{{vm.CORE_MESSAGE_CONSTANT.INVALID}}</span>
                                            </div>
                                            <div ng-message="required">
                                                <span>{{vm.CORE_MESSAGE_CONSTANT.REQUIRED}}</span>
                                            </div>
                                        </div>
                                    </md-input-container>
                                </div>
                                <div class="input-wrapper" layout="row">
                                    <p class="label-container">To Date<span>&nbsp;*</span></p>
                                    <md-input-container class="datepicker">
                                        <label class="datepickerlfetlable">To Date </label>
                                        <input type="text" class="float-left"
                                               name="toDate"
                                               datetime-picker="{{$root.dateDisplayFormat}}"
                                               enable-date="true"
                                               enable-time="false"
                                               ng-model="vm.toDate"
                                               ng-change="vm.toDateChanged()"
                                               datepicker-options="vm.toDateOptions"
                                               ui-options="{clearOnBlur  : true}"
                                               ui-mask="{{$root.uimaskFormat.date.mask}}"
                                               ui-mask-placeholder="{{$root.uimaskFormat.date.placeholder}}"
                                               model-view-value="true"
                                               is-open="vm.toDateOptions.toDateOpenFlag" />
                                        <md-icon md-font-icon="icon-calendar calender-icon" ng-click="vm.toDateOptions.toDateOpenFlag = true">
                                        </md-icon>
                                        <div ng-messages="vm.narrativeHistoryform.toDate.$error" md-auto-hide="false" role="alert">
                                            <div ng-message="mindate">
                                                <span>{{vm.CORE_MESSAGE_CONSTANT.INVALID}}</span>
                                            </div>
                                            <div ng-message="valid">
                                                <span>{{vm.CORE_MESSAGE_CONSTANT.INVALID}}</span>
                                            </div>
                                            <div ng-message="required">
                                                <span>{{vm.CORE_MESSAGE_CONSTANT.REQUIRED}}</span>
                                            </div>
                                        </div>
                                    </md-input-container>
                                </div>
                                <div class="margin-left-10">
                                    <md-button class="md-primary md-raised md-ink-ripple margin-0" ng-click="vm.narrativeHistoryDateSearch()"
                                               ng-disabled="!vm.narrativeHistoryform.$valid">
                                        Search
                                    </md-button>
                                    <md-button class="md-primary md-raised md-ink-ripple mv-0 mr-0" ng-click="vm.narrativeHistoryDateReset()">
                                        Reset
                                    </md-button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </form>
            <div class="content-card" layout="column" flex ng-show="!vm.isNoDataFound">
                <md-card layout="column" flex layout-align="space-between stretch">
                    <ui-grid-extention class="cm-narrative-history"
                                       load-data="vm.loadData"
                                       grid-id="vm.gridConfig.gridWONarrativeHistory"
                                       grid-option="vm.gridOptions"
                                       header="vm.sourceHeader"
                                       grid-data="vm.sourceData"
                                       total-data-count="vm.totalSourceDataCount"
                                       reset-grid="vm.resetSourceGrid"
                                       selectted-rows="vm.selectedRowsList"
                                       paging-info="vm.pagingInfo"
                                       current-item="vm.currentdata"
                                       get-data-down="vm.getDataDown"
                                       empty-state="vm.emptyState"
                                       delete-multiple-data="vm.deleteMultipleData">

                </md-card>
            </div>
            <!-- / CONTENT CARD -->
            <empty-state-view class="full-height" empty-state-detail="vm.EmptyMesssage" name="'R&D Narrative History'" ng-if="vm.isNoDataFound == true"></empty-state-view>
        </div>
    </div>
</div>
