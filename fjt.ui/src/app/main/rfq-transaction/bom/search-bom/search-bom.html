<div id="forms" class="page-layout simple fullwidth doc-page breadcrumb-fixed cm-custom-label-common cm-manage-component" layout="column" cg-busy="{promise:vm.cgBusyLoading}">
  <ms-form-wizard flex="100" layout="row">
    <div class="header part-header md-accent-bg z-index-11" layout="row" flex="100" layout-align="start center"
         ng-class="{'part-master-header-height-75px': !(vm.displayComponentDetail.category == vm.PartCategory.SubAssembly || vm.displayComponentDetail.isActivityStart),'part-master-header-height-100px': (vm.displayComponentDetail.category == vm.PartCategory.SubAssembly || vm.displayComponentDetail.isActivityStart)}">

      <div class="white-fg" layout="row" layout-align="start center" flex="100">
        <div flex="20" layout="column">
          <div flex="25" flex-lg="15" flex-gt-md="15" flex-md="15" layout-align="start-center" layout="row">
            <div layput="row">
              <div class="h2" layout="row" layout-align="start center">
                <pagetitle is-list="true" is-display-menu-name="true" prefix-page-title="vm.displayComponentDetail.mfgPN"></pagetitle>
              </div>
              <div layout="row" layout-align="start center">
                <breadcrumbs></breadcrumbs>
              </div>
            </div>
          </div>
          <div class="ph-10 cm-bom-img shortcuts-container" flex="100" layout="row" ng-if="vm.cid && vm.displayComponentDetail.category == vm.PartCategory.SubAssembly">
            <bom-part-to-watch part-id="vm.cid" show-lable="true"></bom-part-to-watch>
          </div>
        </div>
        <!--flex-lg="95" flex-gt-md="95" flex-md="95"-->
        <div layout="column" flex="100" layot-wrap>
          <div flex="100" class="ml-10">
            <div layout-align="start start" flex="100">
              <div class="separator">
                <div flex ng-if="vm.displayComponentDetail">
                  <table cellspacing="0" cellpadding="0" class="cm-bom-header-table cm-bom-header-table-auto">
                    <tbody>
                      <tr>
                        <th class="text-right white-text cm-bom-t-title pv-5">
                          <a tabindex="-1" class="cursor-pointer cm-bom-t-title text-underline" ng-click="vm.goToCustomer()">{{vm.LabelConstant.Customer.Customer}}</a>:
                        </th>
                        <td>
                          <span class="cm-bo-font-large text-underline cursor-pointer cm-bom-t-desc" ng-click="vm.goToCustomerDetails()">
                            <b>{{vm.displayComponentDetail.customerName}}</b>
                            <md-tooltip ng-if="vm.displayComponentDetail.customerName">{{vm.displayComponentDetail.customerName}}</md-tooltip>
                          </span>
                        </td>
                        <th class="text-right white-text cm-bom-t-title pv-5">
                          <a tabindex="-1" class="cursor-pointer cm-bom-t-title text-underline inline-block" ng-click="vm.goToAssyList()">{{vm.LabelConstant.Assembly.PIDCode}}</a>:
                        </th>
                        <td>
                          <common-pid-code-label-link component-id="vm.displayComponentDetail.id"
                                                      label="vm.LabelConstant.Assembly.PIDCode"
                                                      value="vm.displayComponentDetail.PIDCode"
                                                      rohs-icon="vm.displayComponentDetail.rohsIcon"
                                                      rohs-status="vm.displayComponentDetail.rohsName"
                                                      is-copy="true"
                                                      is-search-findchip="false"
                                                      is-search-digi-key="false"
                                                      redirection-disable="vm.displayComponentDetail.PIDCode ? false : true">
                          </common-pid-code-label-link>
                        </td>
                        <th class="text-right white-text cm-bom-t-title">
                          <a tabindex="-1" class="cursor-pointer cm-bom-t-title text-underline inline-block" ng-click="vm.goToAssyList()">{{vm.LabelConstant.Assembly.MFGPN}}</a>:
                        </th>
                        <td>
                          <common-pid-code-label-link component-id="vm.displayComponentDetail.id"
                                                      label="vm.LabelConstant.Assembly.MFGPN"
                                                      value="vm.displayComponentDetail.mfgPN"
                                                      rohs-icon="vm.displayComponentDetail.rohsIcon"
                                                      rohs-status="vm.displayComponentDetail.rohsName"
                                                      is-copy="true"
                                                      redirection-disable="vm.displayComponentDetail.mfgPN ? false : true"
                                                      is-search-findchip="false"
                                                      is-search-digi-key="false">
                          </common-pid-code-label-link>
                        </td>
                      </tr>
                      <tr>
                        <th class="cm-bom-t-title text-right pv-5">
                          <a tabindex="-1" class="cursor-pointer cm-bom-t-title text-underline" ng-click="vm.goToPartStandardTab()">{{vm.LabelConstant.BOM.Standards}}</a>:
                        </th>
                        <td colspan="5" class="cm-part-standard-label">
                          <span class="cm-part-standard-label">
                            <label ng-repeat="standard in vm.selectedStandard">
                              {{standard.standard + (standard.class?('  '+ standard.class):'')}}
                              <md-tooltip direction="top">{{standard.standard + (standard.class?('  '+ standard.class):'')}}</md-tooltip>
                            </label>
                          </span>
                        </td>
                      </tr>
                    </tbody>
                  </table>
                </div>
              </div>
            </div>
          </div>
          <div flex="100" layout="row" class="ml-10" layout-align="space-between center">
            <div layout="row" flex="50" layout-align="space-between center">
              <div layout="row">
                <span ng-if="vm.isExportControlled" class="width-30">
                  <img ng-src="{{vm.exportControlledIcon}}">
                  <md-tooltip>This part is Export Controlled</md-tooltip>
                </span>
                <span ng-if="vm.displayComponentDetail.isTemperatureSensitive" class="width-50 mr-5">
                  <img ng-src="{{vm.tmaxIcon}}">
                  <md-tooltip ng-if="vm.temperatureSensetiveTooltip">{{vm.temperatureSensetiveTooltip}}</md-tooltip>
                </span>
                <span ng-if="!vm.displayComponentDetail.isTemperatureSensitive && vm.displayComponentDetail.rfqPartType.isTemperatureSensitive" class="width-50 mr-5">
                  <img ng-src="{{vm.tmaxYellowIcon}}">
                  <md-tooltip ng-if="vm.temperatureSensetiveTooltip">{{vm.temperatureSensetiveTooltip}}</md-tooltip>
                </span>
                <span ng-repeat="item in vm.PartOperationalAttributeDetails track by $index" class="mr-5">
                  <img class="h-20 w-20" ng-src="{{item.icon}}">
                  <md-tooltip ng-if="item.description">{{item.description}}</md-tooltip>
                </span>
              </div>
              <div layout="row" class="separator" layout-align="start center" ng-if="vm.displayComponentDetail.bomLock">
                <label class="part-detail-info-header relative margin-right-5 mb-0" ng-class="{'underline':vm.selectedTabIndex!=0,'cursor-pointer':vm.selectedTabIndex!=0}" ng-click="vm.gotoPartNumber()">
                  {{vm.LabelConstant.BOM.BOM_LOCK_STATUS}}
                  <md-tooltip ng-if="vm.selectedTabIndex!=0">{{vm.LabelConstant.BOM.BOM_STATUS}}</md-tooltip>
                </label>
              </div>
              <div layout="row" class="cm-part-header-detail separator ml-10" layout-wrap>
                <label ng-if="vm.displayComponentDetail.partPackage">
                  {{vm.displayComponentDetail.partPackage}}
                  <md-tooltip>External Package/Case(Shape) Type: {{vm.displayComponentDetail.partPackage}}</md-tooltip>
                </label>
                <label ng-if="vm.displayComponentDetail.rfq_packagecasetypemst.name">
                  {{vm.displayComponentDetail.rfq_packagecasetypemst.name}}
                  <md-tooltip>Package/Case(Shape) Type: {{vm.displayComponentDetail.rfq_packagecasetypemst.name}}</md-tooltip>
                </label>
                <label ng-if="vm.displayComponentDetail.component_packagingmst.name">
                  {{vm.displayComponentDetail.component_packagingmst.name}}
                  <md-tooltip>Packaging: {{vm.displayComponentDetail.component_packagingmst.name}}</md-tooltip>
                </label>
                <label ng-if="vm.displayComponentDetail.deviceMarking">
                  {{vm.displayComponentDetail.deviceMarking}}
                  <md-tooltip>Device Marking: {{vm.displayComponentDetail.deviceMarking}}</md-tooltip>
                </label>
              </div>
            </div>
            <div layout="row" class="ml-5">
              <md-button class="md-primary md-raised md-ink-ripple margin-left-0" ng-if="vm.cid && vm.displayComponentDetail.category == vm.PartCategory.SubAssembly" ng-click="vm.manageSerialNumberConfiguration($event)">
                Configure SR#
              </md-button>
              <md-button class="md-primary md-raised md-ink-ripple margin-left-0" ng-if="vm.cid && vm.displayComponentDetail.category == vm.PartCategory.SubAssembly" ng-click="vm.AssyAtGlance()">
                Assy at Glance
              </md-button>
              <md-button class="md-primary md-raised md-ink-ripple margin-left-0"
                         ng-if="vm.cid"
                         ng-click="vm.createAssemblyRevision($event)">
                Create Duplicate Part
              </md-button>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="content-card" layout="column" flex="100"
         ng-class="{'part-master-padding-top-side-75px': !(vm.displayComponentDetail.category == vm.PartCategory.SubAssembly || vm.displayComponentDetail.isActivityStart),'part-master-padding-top-side-100px': (vm.displayComponentDetail.category == vm.PartCategory.SubAssembly || vm.displayComponentDetail.isActivityStart)}">
      <div layout="row" flex="100">
        <div flex>
          <table cellspacing="0" cellpadding="0" width="70%" class="cm-table-input-main margin-bottom-10">
            <tbody>
              <tr>
                <th ng-if="vm.autoCompleteSearchAssy" class="padding-left-25">
                  <p class="label-container padding-top-8">
                    <a class="cm-text-decoration underline" ng-click="vm.goToAssyList();"
                       tabindex="-1">{{vm.LabelConstant.Assembly.Assy}}/{{vm.LabelConstant.MFG.AssyID}}</a>
                    <span>&nbsp;*</span>
                  </p>
                </th>
                <td colspan="4" ng-if="vm.autoCompleteSearchAssy" width="100%">
                  <md-input-container class="autocompletecustom cm-custom-autocomplete width-100p" flex="100">
                    <custom-auto-complete-search on-search-fn="vm.autoCompleteSearchAssy.onSearchFn"
                                                 column-name="vm.autoCompleteSearchAssy.columnName"
                                                 controller-name="vm.autoCompleteSearchAssy.controllerName"
                                                 view-template-url="vm.autoCompleteSearchAssy.viewTemplateURL"
                                                 parent-column-name="vm.autoCompleteSearchAssy.parentColumnName"
                                                 key-column-name="vm.autoCompleteSearchAssy.keyColumnName"
                                                 input-name="vm.autoCompleteSearchAssy.inputName"
                                                 placeholder-name="vm.autoCompleteSearchAssy.placeholderName"
                                                 key-column-id="vm.autoCompleteSearchAssy.keyColumnId"
                                                 is-required="true"
                                                 is-addnew="vm.autoCompleteSearchAssy.isAddnew"
                                                 callback-fn="vm.autoCompleteSearchAssy.callbackFn"
                                                 search-text="vm.autoCompleteSearchAssy.searchText"
                                                 parent-id=""
                                                 custom-auto-focus="{{true}}"
                                                 add-data="vm.autoCompleteSearchAssy.addData"
                                                 on-select-callback-fn="vm.autoCompleteSearchAssy.onSelectCallbackFn">
                    </custom-auto-complete-search>
                  </md-input-container>
                </td>
              </tr>
              <tr>
                <th ng-if="vm.autoCompleteSearchAssy" class="padding-left-25">

                </th>
                <td colspan="4" ng-if="vm.autoCompleteSearchAssy" class="width-400">
                  <div flex="100">
                    <b>(({{vm.LabelConstant.MFG.MFGCode}}) {{vm.LabelConstant.Assembly.Assy}} | {{vm.LabelConstant.MFG.AssyID}} | {{vm.LabelConstant.MFG.ProductionPN}})</b>
                  </div>
                </td>
              </tr>
            </tbody>
          </table>
          <div class="cm-search-bom full-height">
            <div layout="column" class="cm-part-master-bom full-height fielddetail manage-customer-tabing padding-0 cm-part-tab" layout-gt-xs="100"
                 ng-if="vm.cid">
              <bom-assembly-tab partid="vm.cid" sub-partid="vm.subpartid" is-disabled="true" is-search-bom="true" class="full-height"></bom-assembly-tab>
            </div>
          </div>
          <div ng-cloak class="empty-state text-center full-height" layout="row" layout-align="center center" flex="100" layout-wrap
               ng-if="!vm.cid">
            <div class="emty-icon" flex="100">
              <img ng-src="{{vm.EmptyMesssage.IMAGEURL}}" />
            </div>
            <p flex="100" class="empty-state-title">{{vm.EmptyMesssage.MESSAGE}}</p>
          </div>
        </div>
      </div>
    </div>
  </ms-form-wizard>
</div>
