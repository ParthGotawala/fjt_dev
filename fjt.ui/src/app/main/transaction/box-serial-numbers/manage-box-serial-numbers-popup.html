<md-dialog aria-label="Add stockAdjustment" cg-busy="{promise:vm.cgBusyLoading}" flex="90" draggable>
  <md-toolbar>
    <div class="md-toolbar-tools" layout="row" layout-align="space-between center">
      <h2>{{vm.boxSerialModel.id ? 'Update' : 'Add'}} {{vm.LabelConstant.MFG.PackagingBoxSerial}}</h2>
      <span flex></span>
      <div layout="row" layout-align="center center">
        <popup-header-label label-data="vm.headerdata"></popup-header-label>
      </div>
      <md-button class="md-icon-button" ng-click="vm.cancel()">
        <md-icon role="img" md-font-icon="icon-close" class="material-icons mat-icon icon-close"></md-icon>
      </md-button>
    </div>
  </md-toolbar>
  <md-dialog-content class="customer-modal no-padding custom-scroll cm-custom-label-common md-inline-form">
    <md-content class="padding-10 mh-5">
      <div layout="row" layout-gt-xs="row" class="cm-section-main border-0 p-0-imp" flex="100">
        <div class="cm-section-inner flex-100 p-0-imp">
          <form name="vm.boxSerialNoForm">
            <table cellspacing="0" cellpadding="0" class="cm-table-input-main">
              <tbody>
                <tr>
                  <th>
                    <p class="label-container" ng-if="vm.boxSerialModel.id ? true : false">
                      <a class="cm-text-decoration underline" ng-click="vm.goToPackagingBoxSerialList();"
                         tabindex="-1">{{vm.LabelConstant.MFG.PackagingBoxSerial}}</a>
                    </p>
                  </th>
                  <td>
                    <md-input-container class="md-block" flex-gt-xs flex="100" ng-if="vm.boxSerialModel.id ? true : false">
                      <input type="text" name="uniqueID" ng-model="vm.boxSerialModel.uniqueID"
                             disabled>
                    </md-input-container>
                  </td>
                  <td colspan="6">
                    <div layout="row" layout-align="end center" layout-wrap>
                      <div class="padding-right-10">
                        <span class="label-container">
                          Packaged Material Status
                        </span>
                      </div>
                      <div>
                        <md-radio-group ng-model="vm.boxSerialModel.status" class="margin-0"
                                        ng-change="vm.changeselectedSerialFilterValue()" name="rbSerialNumber">
                          <md-radio-button ng-repeat="item in vm.boxSerialNoPackagingStatus" ng-value="item.id" class="md-primary">
                            <span>{{item.value}}</span>
                          </md-radio-button>
                        </md-radio-group>
                      </div>
                    </div>
                  </td>
                </tr>
                <tr>
                  <th>
                    <p class="label-container">
                      <a class="cm-text-decoration underline" ng-click="vm.goToPartList();"
                         tabindex="-1">{{vm.LabelConstant.Assembly.ID}}</a><span ng-if="!vm.boxSerialModel.id">&nbsp;*</span>
                    </p>
                  </th>
                  <td>
                    <md-input-container ng-if="vm.autoCompleteAssy" class="autocompletecustom margin-bottom-0" flex="100">
                      <custom-auto-complete-search on-search-fn="vm.autoCompleteAssy.onSearchFn"
                                                   column-name="vm.autoCompleteAssy.columnName"
                                                   controller-name="vm.autoCompleteAssy.controllerName"
                                                   view-template-url="vm.autoCompleteAssy.viewTemplateURL"
                                                   parent-column-name="vm.autoCompleteAssy.parentColumnName"
                                                   key-column-name="vm.autoCompleteAssy.keyColumnName"
                                                   input-name="vm.autoCompleteAssy.inputName"
                                                   placeholder-name="vm.autoCompleteAssy.placeholderName"
                                                   key-column-id="vm.autoCompleteAssy.keyColumnId"
                                                   is-required="true"
                                                   search-text="vm.autoCompleteAssy.searchText"
                                                   parent-id=""
                                                   is-addnew="vm.autoCompleteAssy.isAddnew"
                                                   add-data="vm.autoCompleteAssy.addData"
                                                   callback-fn="vm.autoCompleteAssy.callbackFn"
                                                   on-select-callback-fn="vm.autoCompleteAssy.onSelectCallbackFn"
                                                   is-disabled="(vm.boxSerialModel.id) || vm.boxSerialModel.isAssybleConfiugre  || vm.boxSerialModel.assyStockID ? true : false"
                                                   custom-auto-focus="{{(vm.boxSerialModel.id) || vm.boxSerialModel.isAssybleConfiugre || vm.boxSerialModel.assyStockID ? false : true}}">
                      </custom-auto-complete-search>
                    </md-input-container>
                  </td>
                  <th>
                    <p class="label-container">{{vm.LabelConstant.Assembly.Description}}</p>
                  </th>
                  <td>
                    <span class="cm-wo-section-description padding-top-5">
                      <md-input-container class="md-block" flex-gt-xs flex="100">
                        <textarea name="descrption"
                                  id="descrption"
                                  typeof="text"
                                  ng-model="vm.boxSerialModel.mfgPNDescription"
                                  disabled
                                  placeholder="Description"></textarea>
                      </md-input-container>
                    </span>
                  </td>
                  <th>
                    <p class="label-container" ng-if="vm.boxSerialModel.isAssybleConfiugre">
                      <a class="cm-text-decoration underline" ng-click="vm.goToWorkorderList();"
                         tabindex="-1">{{vm.LabelConstant.Workorder.WO}}</a><span ng-if="!vm.boxSerialModel.id">&nbsp;*</span>
                    </p>
                    <p class="label-container" ng-if="(!vm.boxSerialModel.isAssybleConfiugre)">
                      {{vm.LabelConstant.Workorder.WO}}<span ng-if="!vm.boxSerialModel.id && vm.autoCompleteAssy.keyColumnId ? true : false ">&nbsp;*</span>
                    </p>
                  </th>
                  <td>
                    <md-input-container ng-if="vm.autoCompleteWO" class="autocompletecustom margin-bottom-0" flex="100">
                      <custom-auto-complete-search on-search-fn="vm.autoCompleteWO.onSearchFn"
                                                   column-name="vm.autoCompleteWO.columnName"
                                                   parent-column-name="vm.autoCompleteWO.parentColumnName"
                                                   key-column-name="vm.autoCompleteWO.keyColumnName"
                                                   input-name="vm.autoCompleteWO.inputName"
                                                   placeholder-name="vm.autoCompleteWO.placeholderName"
                                                   key-column-id="vm.autoCompleteWO.keyColumnId"
                                                   is-required="vm.autoCompleteAssy.keyColumnId ? true : false"
                                                   search-text="vm.autoCompleteWO.searchText"
                                                   parent-id=""
                                                   on-select-callback-fn="vm.autoCompleteWO.onSelectCallbackFn"
                                                   is-disabled="(vm.boxSerialModel.id || vm.boxSerialModel.isAssybleConfiugre) || vm.boxSerialModel.assyStockID || !vm.autoCompleteAssy.keyColumnId ? true : false">
                      </custom-auto-complete-search>
                    </md-input-container>
                  </td>
                  <th ng-if="vm.autoCompletePONumber.isRequired">
                    <p class="label-container">
                      PO#<span>&nbsp;*</span>
                    </p>
                  </th>
                  <td ng-if="vm.autoCompletePONumber.isRequired">
                    <md-input-container ng-if="vm.autoCompletePONumber" class="autocompletecustom margin-bottom-0" flex="100">
                      <custom-auto-complete datalist="vm.poNumberList"
                                            column-name="vm.autoCompletePONumber.columnName"
                                            controller-name="vm.autoCompletePONumber.controllerName"
                                            view-template-url="vm.autoCompletePONumber.viewTemplateURL"
                                            key-column-name="vm.autoCompletePONumber.keyColumnName"
                                            input-name="vm.autoCompletePONumber.inputName"
                                            placeholder-name="vm.autoCompletePONumber.placeholderName"
                                            key-column-id="vm.autoCompletePONumber.keyColumnId"
                                            is-required="vm.autoCompletePONumber.isRequired"
                                            is-addnew="vm.autoCompletePONumber.isAddnew"
                                            custom-auto-focus="{{(!vm.boxSerialModel.id) && (vm.boxSerialModel.assyStockID  || vm.boxSerialModel.isAssybleConfiugre) ? true : false}}"
                                            is-disabled="(vm.boxSerialModel.id) ? true : false"
                                            on-select-callback-fn="vm.autoCompletePONumber.onSelectCallbackFn">
                      </custom-auto-complete>
                      <span flex="100" class="font-size-10">
                        <b>((Customer Code), SO#, PO#)</b>
                      </span>
                    </md-input-container>
                  </td>
                </tr>
                <tr>
                  <th>
                    <p class="label-container">
                      <a tabindex="-1" class="cm-text-decoration underline" ng-click="vm.goToBinList();">{{vm.LabelConstant.TransferStock.Bin}}</a>
                    </p>
                  </th>
                  <td class="width-250">
                    <md-input-container class="md-block" flex-gt-xs flex="100">
                      <input type="text" name="binName" ng-model="vm.binName"
                             disabled>
                    </md-input-container>
                  </td>
                  <th>
                    <p class="label-container">
                      <a tabindex="-1" class="cm-text-decoration underline" ng-click="vm.goToWHList();">{{vm.LabelConstant.TransferStock.WH}}</a>
                    </p>
                  </th>
                  <td class="width-250">
                    <md-input-container class="md-block" flex-gt-xs flex="100">
                      <input type="text" name="warehouse" ng-model="vm.warehouse"
                             disabled>
                    </md-input-container>
                  </td>
                  <th>
                    <p class="label-container">
                      <a class="cm-text-decoration underline" ng-click="vm.goToPartList();"
                         tabindex="-1">Packaging Material Part#</a><span ng-if="(vm.boxSerialModel.id) ? false : true">&nbsp;*</span>
                    </p>
                  </th>
                  <td>
                    <md-input-container ng-if="vm.autoCompletePackagingMateriaPart" class="autocompletecustom margin-bottom-0" flex="100">
                      <custom-auto-complete-search on-search-fn="vm.autoCompletePackagingMateriaPart.onSearchFn"
                                                   controller-name="vm.autoCompletePackagingMateriaPart.controllerName"
                                                   view-template-url="vm.autoCompletePackagingMateriaPart.viewTemplateURL"
                                                   column-name="vm.autoCompletePackagingMateriaPart.columnName"
                                                   parent-column-name="vm.autoCompletePackagingMateriaPart.parentColumnName"
                                                   key-column-name="vm.autoCompletePackagingMateriaPart.keyColumnName"
                                                   input-name="vm.autoCompletePackagingMateriaPart.inputName"
                                                   placeholder-name="vm.autoCompletePackagingMateriaPart.placeholderName"
                                                   key-column-id="vm.autoCompletePackagingMateriaPart.keyColumnId"
                                                   is-required="true"
                                                   is-addnew="vm.autoCompletePackagingMateriaPart.isAddnew"
                                                   add-data="vm.autoCompletePackagingMateriaPart.addData"
                                                   callback-fn="vm.autoCompletePackagingMateriaPart.callbackFn"
                                                   search-text="vm.autoCompletePackagingMateriaPart.searchText"
                                                   parent-id=""
                                                   is-disabled="(vm.boxSerialModel.id) ? true : false"
                                                   custom-auto-focus="{{(!vm.boxSerialModel.id) && (!vm.boxSerialModel.isTrackBySerialNo) && vm.boxSerialModel.assyStockID ? true : false}}"
                                                   on-select-callback-fn="vm.autoCompletePackagingMateriaPart.onSelectCallbackFn">
                      </custom-auto-complete-search>
                  </td>
                  <th>
                    <p class="label-container">
                      Qty Per Box<span ng-if="(!vm.boxSerialModel.isTrackBySerialNo)">&nbsp;*</span>
                    </p>
                  </th>
                  <td>
                    <md-input-container flex="100" class="margin-bottom-0">
                      <!--onkeypress="return OnlyNumeric(event)"-->
                      <input type="number" name="qtyPerBox" id="qtyPerBox" ng-model="vm.boxSerialModel.qtyPerBox"
                             placeholder="Qty Per Box" step="1"
                             custom-auto-focus="{{(vm.boxSerialModel.id) && (!vm.boxSerialModel.isTrackBySerialNo) ? true : false}}"
                             min="0"
                             ng-max="(vm.boxSerialModel.isTrackBySerialNo ? vm.boxSerialModel.qtyPerBox : (vm.boxSerialModel.alreadyAddedBoxQty + vm.availableQty))"
                             ng-required="(!vm.boxSerialModel.isTrackBySerialNo)"
                             ng-disabled="vm.boxSerialModel.isTrackBySerialNo"
                             ng-change="vm.changeQtyPerBox();">
                      <div ng-messages="vm.boxSerialNoForm.qtyPerBox.$error"
                           role="alert">
                        <div ng-message="required">
                          <span>{{vm.CORE_MESSAGE_CONSTANT.REQUIRED}}</span>
                        </div>
                        <div ng-message="step || number || min || max">
                          <span>{{vm.CORE_MESSAGE_CONSTANT.INVALID}}</span>
                        </div>
                      </div>
                    </md-input-container>
                  </td>
                </tr>
                <tr>
                  <th>
                    <p class="label-container">
                      Box Weight
                    </p>
                  </th>
                  <td>
                    <span class="cm-custom-td-span padding-left-5"><b>{{vm.boxSerialModel.partWeight}}</b></span>
                  </td>
                  <th>
                    <p class="label-container">
                      Assy Weight
                    </p>
                  </th>
                  <td class="width-250">
                    <span class="cm-custom-td-span padding-left-5"><b>{{vm.boxSerialModel.assyWeight}}</b></span>
                  </td>
                  <th class="float-right">
                    <p class="label-container">
                      Total Weight
                      <md-icon layout="row" layout-align="center center" class="icon-question-mark-circle help-icon font-size-inherit pb-5">
                        <md-tooltip md-direction="top">{{vm.LabelConstant.MFG.PackagingBoxWeightHelp}}</md-tooltip>
                      </md-icon>
                    </p>
                  </th>
                  <td class="width-250">
                    <span class="cm-custom-td-span padding-left-5"><b>{{vm.boxSerialModel.totalBoxWeight}}</b></span>
                  </td>
                  <th>
                    <p class="label-container">
                      Date Code
                    </p>
                  </th>
                  <td class="width-250">
                    <md-input-container class="md-block" flex-gt-xs flex="100">
                      <input type="text" name="datecode" ng-model="vm.boxSerialModel.datecode" maxlength="4"
                             disabled>
                    </md-input-container>
                  </td>
                </tr>
                <tr>
                  <th>
                    <p class="label-container">
                      Remark
                    </p>
                  </th>
                  <td colspan="7">
                    <md-input-container flex="100" class="margin-bottom-0">
                      <textarea name="remark"
                                id="remark"
                                typeof="text"
                                ng-model="vm.boxSerialModel.remark"
                                rows="2" ng-maxlength="255"
                                placeholder="Notes"></textarea>
                      <div ng-messages="vm.boxSerialNoForm.remark.$error" role="alert">
                        <div ng-message="maxlength">
                          <span>{{vm.getMaxLengthValidation(255, vm.boxSerialNoForm.remark.$viewValue.length)}}</span>
                        </div>
                      </div>
                    </md-input-container>
                  </td>
                </tr>
                <tr ng-if="vm.boxSerialModel.isTrackBySerialNo">
                  <td colspan="8">
                    <div layout="row" layout-align="end end" layout-wrap>
                      <md-button class="md-primary md-raised" ng-click="vm.addUpdateBoxSerialNumber(false)"
                                 ng-class="{'md-formdirty': vm.boxSerialNoForm.$dirty}" aria-label="Submit" ng-disabled="vm.isSubmit">{{vm.boxSerialModel.id ? 'Update' : 'Add'}}</md-button>
                      <!--<md-button class="md-primary md-raised"
                                 aria-label="Submit" ng-disabled="vm.isSubmit">Reset</md-button>-->
                    </div>
                  </td>
                </tr>
              </tbody>
            </table>
          </form>
          <form name="vm.scanBoxSerialNoForm">
            <div layout="row" layout-align="space-between center" ng-if="vm.boxSerialModel.id && vm.boxSerialModel.isTrackBySerialNo">
              <div layuot="row" layout-align="start center">
                <div layout="row" layout-align="start center">
                  <fieldset class="container-box margin-bottom-5">
                    <div class="margin-0" flex="100">
                      <md-radio-group ng-model="vm.selectedValue" class="margin-0"
                                      ng-change="vm.changeselectedSerialFilterValue()" name="rbSerialNumber">
                        <md-radio-button class="md-primary" value="{{vm.WOSerialNoFilterType.SerialNumber}}">
                          <span>Serial#</span>
                        </md-radio-button>
                        <md-radio-button class="md-primary" value="{{vm.WOSerialNoFilterType.Range}}">
                          <span>Range</span>
                        </md-radio-button>
                      </md-radio-group>
                    </div>
                  </fieldset>
                  <fieldset ng-if="vm.selectedValue ==vm.WOSerialNoFilterType.Range" class="container-box margin-bottom-5 margin-left-10">
                    <div class="margin-0" flex="100">
                      <md-radio-group ng-model="vm.selectedRangeValue" class="margin-0"
                                      ng-change="vm.changeselectedRangeSerialFilterValue()" name="rbRageSerialNumber">
                        <md-radio-button class="md-primary" value="{{vm.WorkorderSerialNumberSelectionType.RangeType.Range}}">
                          <span> Serial# Range</span>
                        </md-radio-button>
                        <md-radio-button class="md-primary" value="{{vm.WorkorderSerialNumberSelectionType.RangeType.QtyRange}}">
                          <span>Qty</span>
                        </md-radio-button>
                      </md-radio-group>
                    </div>
                  </fieldset>
                </div>
              </div>
              <div layuot="row" layout layout-align="end center">
                <div class="feeder-scan-message margin-left-10">
                  <p ng-if="vm.inValidFormSerialNo">Invalid <span ng-if="vm.selectedValue == vm.WOSerialNoFilterType.Range">From </span>Serial#</p>
                </div>
                <div class="feeder-scan-message margin-left-10">
                  <p ng-if="vm.inValidToSerialNo">Invalid To Serial#</p>
                </div>
              </div>
            </div>
            <div class="cm-section-main flex-100" flex="100" ng-if="vm.boxSerialModel.id && vm.boxSerialModel.isTrackBySerialNo">
              <div class="cm-section-inner layout-row flex-100" layout="row" flex="100">
                <table cellspacing="0" cellpadding="0" class="cm-table-input-main">
                  <tbody>
                    <tr ng-if="vm.selectedValue ==vm.WOSerialNoFilterType.SerialNumber">
                      <th>
                        <p class="label-container">Serial#<scan-or-enter></scan-or-enter></p>
                      </th>
                      <td>
                        <div layout="row" class="layout-row" flex="50">
                          <md-input-container flex>
                            <input type="text" name="scanSerialNumber" id="scanSerialNumber" required
                                   custom-auto-focus="{{vm.boxSerialModel.id && vm.boxSerialModel.isTrackBySerialNo ? true : false}}" ng-model="vm.serialNumber"
                                   placeholder="Scan Serial#" capitalize class="input-text-uppercase" 
                                   ng-keypress="vm.scanSerialNumberDetail(vm.serialNumber,'scanSerialNumber',$event)">
                            <span flex="100" class="font-size-10">
                              <b>{{vm.LabelConstant.ScanOREnter.ScanSerialNum}}</b>
                            </span>
                            <div ng-messages="vm.scanBoxSerialNoForm.scanSerialNumber.$touched && vm.scanBoxSerialNoForm.scanSerialNumber.$error" role="alert">
                              <div ng-message="required">
                                <span>{{vm.CORE_MESSAGE_CONSTANT.REQUIRED}}</span>
                              </div>
                              <div ng-message="maxlength">
                                <span>{{vm.getMaxLengthValidation(50, vm.scanBoxSerialNoForm.scanSerialNumber.$viewValue.length)}}</span>
                              </div>
                            </div>
                          </md-input-container>
                          <md-button class="md-icon-button toolbar-button margin-0" ng-if="vm.serialNumber" aria-label="Clear" ng-click="vm.serialNumber = '';">
                            <md-icon md-font-icon="icon-close" role="img" class="mb-10 ml-0"></md-icon>
                          </md-button>
                        </div>
                      </td>
                    </tr>
                    <tr ng-if="vm.selectedValue ==vm.WOSerialNoFilterType.Range && vm.selectedRangeValue == vm.WorkorderSerialNumberSelectionType.RangeType.Range">
                      <th>
                        <p class="label-container">From Serial#<span ng-if="vm.selectedValue ==vm.WOSerialNoFilterType.Range && vm.selectedRangeValue == vm.WorkorderSerialNumberSelectionType.RangeType.Range">&nbsp;*</span><scan-or-enter></scan-or-enter></p>
                      </th>
                      <td>
                        <div layout="row" class="layout-row">
                          <md-input-container flex>
                            <input type="text" name="scanSerialNumber" id="scanSerialNumber" custom-auto-focus="true" ng-model="vm.serialNumber"
                                   placeholder="Scan Serial#" ng-required="true" capitalize class="input-text-uppercase" 
                                   ng-disabled="vm.selectedValue ==vm.WOSerialNoFilterType.Range && vm.selectedRangeValue == vm.WorkorderSerialNumberSelectionType.RangeType.QtyRange"
                                   ng-keypress="vm.scanSerialNumberDetail(vm.serialNumber,'scanSerialNumber',$event)">
                            <span flex="100" class="font-size-10">
                              <b>{{vm.LabelConstant.ScanOREnter.ScanFromSerialNum}}</b>
                            </span>
                            <div ng-messages="vm.scanBoxSerialNoForm.scanSerialNumber.$touched && vm.scanBoxSerialNoForm.scanSerialNumber.$error" role="alert">
                              <div ng-message="required">
                                <span>{{vm.CORE_MESSAGE_CONSTANT.REQUIRED}}</span>
                              </div>
                              <div ng-message="maxlength">
                                <span>{{vm.getMaxLengthValidation(50, vm.scanBoxSerialNoForm.scanSerialNumber.$viewValue.length)}}</span>
                              </div>
                            </div>
                          </md-input-container>
                          <md-button class="md-icon-button toolbar-button margin-0" ng-if="vm.serialNumber" aria-label="Clear" ng-click="vm.serialNumber = '';">
                            <md-icon md-font-icon="icon-close" role="img" class="mb-10 ml-0"></md-icon>
                          </md-button>
                        </div>
                      </td>
                      <th>
                        <p class="label-container">To Serial#<span ng-if="vm.selectedValue ==vm.WOSerialNoFilterType.Range && vm.selectedRangeValue == vm.WorkorderSerialNumberSelectionType.RangeType.Range">&nbsp;*</span><scan-or-enter></scan-or-enter></p>
                      </th>
                      <td>
                        <div layout="row" class="layout-row">
                          <md-input-container flex>
                            <input type="text" name="scanToSerialNumber" id="scanSerialNumber" ng-model="vm.ToSerialNumber" 
                                   placeholder="Scan Serial#" ng-required="true" capitalize class="input-text-uppercase" 
                                   ng-disabled="vm.selectedValue ==vm.WOSerialNoFilterType.Range && vm.selectedRangeValue == vm.WorkorderSerialNumberSelectionType.RangeType.QtyRange"
                                   ng-keypress="vm.scanSerialNumberDetail(vm.ToSerialNumber,'scanToSerialNumber',$event)">
                            <span flex="100" class="font-size-10">
                              <b>{{vm.LabelConstant.ScanOREnter.ScanToSerialNum}}</b>
                            </span>
                            <div ng-messages="vm.scanBoxSerialNoForm.scanToSerialNumber.$touched &&  vm.scanBoxSerialNoForm.scanToSerialNumber.$error" role="alert">
                              <div ng-message="required">
                                <span>{{vm.CORE_MESSAGE_CONSTANT.REQUIRED}}</span>
                              </div>
                              <div ng-message="maxlength">
                                <span>{{vm.getMaxLengthValidation(50, vm.scanBoxSerialNoForm.scanToSerialNumber.$viewValue.length)}}</span>
                              </div>
                            </div>
                          </md-input-container>
                          <md-button class="md-icon-button toolbar-button margin-0" ng-if="vm.ToSerialNumber" aria-label="Clear" ng-click="vm.ToSerialNumber = '';">
                            <md-icon md-font-icon="icon-close" role="img" class="mb-10 ml-0"></md-icon>
                          </md-button>
                        </div>
                      </td>
                      <td>
                        <div layout="row" class="layout-row" layout-align="end end">
                          <md-button class="md-primary md-raised" ng-if="(vm.boxSerialModel.isTrackBySerialNo)" ng-click="vm.getPassedSerialNumber()"
                                     ng-class="{'md-formdirty': vm.scanBoxSerialNoForm.$dirty}" aria-label="Submit" ng-disabled="vm.isSubmit">Add</md-button>
                          <md-button class="md-primary md-raised" ng-click="vm.resetScanNumber()">Reset</md-button>
                        </div>
                      </td>
                    </tr>
                    <tr ng-if="vm.selectedValue ==vm.WOSerialNoFilterType.Range && vm.selectedRangeValue == vm.WorkorderSerialNumberSelectionType.RangeType.QtyRange">
                      <th>
                        <p class="label-container">From Serial#<span ng-if="vm.selectedValue == vm.WOSerialNoFilterType.Range">&nbsp;*</span><scan-or-enter></scan-or-enter></p>
                      </th>
                      <td>
                        <div layout="row" class="layout-row">
                          <md-input-container flex>
                            <input type="text" name="scanSerialNumberforQty" id="scanSerialNumberforQty" custom-auto-focus="true" ng-model="vm.serialNumberQty"
                                   placeholder="Scan Serial#" ng-required="true" capitalize class="input-text-uppercase"
                                   ng-disabled="vm.selectedValue == vm.WOSerialNoFilterType.Range && vm.selectedRangeValue == vm.WorkorderSerialNumberSelectionType.RangeType.Range"
                                   ng-keypress="vm.scanSerialNumberDetail(vm.serialNumberQty,'scanSerialNumberforQty',$event)">
                            <span flex="100" class="font-size-10">
                              <b>{{vm.LabelConstant.ScanOREnter.ScanFromSerialNum}}</b>
                            </span>
                            <div ng-messages="vm.scanBoxSerialNoForm.scanSerialNumberforQty.$touched && vm.scanBoxSerialNoForm.scanSerialNumberforQty.$error" role="alert">
                              <div ng-message="required">
                                <span>{{vm.CORE_MESSAGE_CONSTANT.REQUIRED}}</span>
                              </div>
                              <div ng-message="maxlength">
                                <span>{{vm.getMaxLengthValidation(50, vm.scanBoxSerialNoForm.scanSerialNumberforQty.$viewValue.length)}}</span>
                              </div>
                            </div>
                          </md-input-container>
                          <md-button class="md-icon-button toolbar-button margin-0" ng-if="vm.serialNumberQty" aria-label="Clear" ng-click="vm.serialNumberQty = '';">
                            <md-icon md-font-icon="icon-close" role="img" class="mb-10 ml-0"></md-icon>
                          </md-button>
                        </div>
                      </td>
                      <th>
                        <p class="label-container width-70">Qty<span ng-if="vm.selectedValue == vm.WOSerialNoFilterType.Range && vm.selectedRangeValue == vm.WorkorderSerialNumberSelectionType.RangeType.QtyRange">&nbsp;*</span></p>
                      </th>
                      <td>
                        <div layout="row" class="layout-row width-90">
                          <md-input-container flex>
                            <input flex="100" type="number" placeholder="Qty" ng-model="vm.Qty" min="1" max={{vm.workorderSerialsList.length}}
                                   name="Qty" ng-required="vm.isRequiredSerialQtyFilter" onkeypress="return OnlyNumeric(event)"
                                   ng-blur="vm.scanQtydetail()"
                                   ng-disabled="vm.selectedValue == vm.WOSerialNoFilterType.Range && vm.selectedRangeValue == vm.WorkorderSerialNumberSelectionType.RangeType.Range" />
                            <div ng-messages="vm.scanBoxSerialNoForm.Qty.$touched && vm.scanBoxSerialNoForm.Qty.$error" role="alert">
                              <div ng-message="required">
                                <span>{{vm.CORE_MESSAGE_CONSTANT.REQUIRED}}</span>
                              </div>
                              <div ng-message="min">
                                <span>{{vm.CORE_MESSAGE_CONSTANT.INVALID}}</span>
                              </div>
                              <div ng-message="max">
                                <span>{{vm.CORE_MESSAGE_CONSTANT.INVALID}}</span>
                              </div>
                              <div ng-message="number">
                                <span>{{vm.CORE_MESSAGE_CONSTANT.INVALID}}</span>
                              </div>
                            </div>
                          </md-input-container>
                        </div>
                      </td>
                      <td>
                        <div layout="row" class="layout-row" layout-align="end end">
                          <md-button class="md-primary md-raised" ng-if="(vm.boxSerialModel.isTrackBySerialNo)" ng-click="vm.getPassedSerialNumber()"
                                     ng-class="{'md-formdirty': vm.scanBoxSerialNoForm.$dirty}" aria-label="Submit" ng-disabled="vm.isSubmit">Add</md-button>
                          <md-button class="md-primary md-raised" ng-click="vm.resetScanNumber()">Reset</md-button>
                        </div>
                      </td>
                    </tr>
                    <tr class="scan-serial-number-detail" ng-if="vm.fromSerialNoDetail || vm.toSerialNoDetail">
                      <th>
                        <p class="label-container" ng-if="vm.fromSerialNoDetail">Scanned {{vm.selectedValue ==vm.WOSerialNoFilterType.Range?'From':''}} Serial#:</p>
                      </th>
                      <td>
                        <md-input-container flex ng-if="vm.fromSerialNoDetail">
                          <span flex="100">
                            <b>{{vm.fromSerialNoDetail.SerialNo}}</b>
                          </span>
                        </md-input-container>
                      </td>
                      <th>
                        <p class="label-container" ng-if="vm.toSerialNoDetail">Scanned {{vm.selectedValue ==vm.WOSerialNoFilterType.Range?'To':''}} Serial#:</p>
                      </th>
                      <td>
                        <md-input-container flex ng-if="vm.toSerialNoDetail">
                          <span flex="100">
                            <b>{{vm.toSerialNoDetail.SerialNo}}</b>
                          </span>
                        </md-input-container>
                      </td>
                    </tr>
                    <tr class="scan-serial-number-detail" ng-if="vm.fromSerialNoDetail.ProductSerialNo || vm.toSerialNoDetail.ProductSerialNo">
                      <th>
                        <p class="label-container" ng-if="vm.fromSerialNoDetail.ProductSerialNo">{{vm.SerialTypeLabel.FinalSerial.Label}}:</p>
                      </th>
                      <td>
                        <md-input-container flex ng-if="vm.fromSerialNoDetail.ProductSerialNo">
                          <span flex="100">
                            <b>{{vm.fromSerialNoDetail.ProductSerialNo}}</b>
                          </span>
                        </md-input-container>
                      </td>
                      <th>
                        <p class="label-container" ng-if="vm.toSerialNoDetail.ProductSerialNo">{{vm.SerialTypeLabel.FinalSerial.Label}}:</p>
                      </th>
                      <td>
                        <md-input-container flex ng-if="vm.toSerialNoDetail.ProductSerialNo">
                          <span flex="100">
                            <b>{{vm.toSerialNoDetail.ProductSerialNo}}</b>
                          </span>
                        </md-input-container>
                      </td>
                    </tr>
                    <tr class="scan-serial-number-detail" ng-if="vm.fromSerialNoDetail || vm.toSerialNoDetail">
                      <th>
                        <p class="label-container" ng-if="vm.fromSerialNoDetail">Status:</p>
                      </th>
                      <td>
                        <md-input-container flex ng-if="vm.fromSerialNoDetail">
                          <span flex="100">
                            <b>{{vm.fromSerialNoDetail.currentStautstext}}</b>
                          </span>
                        </md-input-container>
                      </td>
                      <th>
                        <p class="label-container" ng-if="vm.toSerialNoDetail">Status:</p>
                      </th>
                      <td>
                        <md-input-container flex ng-if="vm.toSerialNoDetail">
                          <span flex="100">
                            <b>{{vm.toSerialNoDetail.currentStautstext}}</b>
                          </span>
                        </md-input-container>
                      </td>
                    </tr>
                    <tr class="scan-serial-number-detail" ng-if="vm.fromSerialNoDetail.CurrentWoOperation || vm.toSerialNoDetail.CurrentWoOperation">
                      <th>
                        <p class="label-container" ng-if="vm.fromSerialNoDetail.CurrentWoOperation">Current Operation:</p>
                      </th>
                      <td>
                        <md-input-container flex ng-if="vm.fromSerialNoDetail.CurrentWoOperation">
                          <span flex="100">
                            <b>{{vm.fromSerialNoDetail.CurrentWoOperation}}</b>
                          </span>
                        </md-input-container>
                      </td>
                      <th>
                        <p class="label-container" ng-if="vm.toSerialNoDetail.CurrentWoOperation">Current Operation:</p>
                      </th>
                      <td>
                        <md-input-container flex ng-if="vm.toSerialNoDetail.CurrentWoOperation">
                          <span flex="100">
                            <b>{{vm.toSerialNoDetail.CurrentWoOperation}}</b>
                          </span>
                        </md-input-container>
                      </td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>
          </form>
          <md-card layout="column" class="margin-0" flex layout-align="space-between stretch" ng-show="vm.boxSerialModel.isTrackBySerialNo && !vm.isNoDataFound">
            <ui-grid-extention class="cm-add-serial-popup-grid"
                               load-data="vm.loadData"
                               grid-option="vm.gridOptions"
                               grid-id="vm.gridBoxScanSerialNumbers"
                               header="vm.sourceHeader"
                               grid-data="vm.sourceData"
                               total-data-count="vm.totalSourceDataCount"
                               reset-grid="vm.resetSourceGrid"
                               selectted-rows="vm.selectedRowsList"
                               paging-info="vm.pagingInfo"
                               current-item="vm.currentdata"
                               get-data-down="vm.getDataDown"
                               empty-state="vm.emptyState"
                               delete-multiple-data="vm.deleteMultipleData">
          </md-card>
          <div class="empty-state text-center" flex="100" layout="row" layout-align="center center" layout-wrap ng-if="vm.boxSerialModel.isTrackBySerialNo && (vm.isNoDataFound == true)">
            <div class="emty-icon" flex="100">
              <img ng-src="{{vm.EmptyMesssage.IMAGEURL}}" />
            </div>
            <p flex="100" class="empty-state-title">{{vm.EmptyMesssage.MESSAGE}}</p>
          </div>
        </div>
      </div>
    </md-content>
  </md-dialog-content>
  <md-dialog-actions layout="row">
    <md-button class="md-default md-raised" ng-click="vm.cancel()">Cancel</md-button>
    <md-button class="md-primary md-raised" ng-if="(!vm.boxSerialModel.isTrackBySerialNo)" ng-click="vm.addUpdateBoxSerialNumber(true)" ng-class="{'md-formdirty': vm.boxSerialNoForm.$dirty}" aria-label="Submit" ng-disabled="vm.isSubmit">Save</md-button>
  </md-dialog-actions>
</md-dialog>
