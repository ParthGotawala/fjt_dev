<md-dialog aria-label="Customer" flex="85" class="operation-pop-main  cm-custom-label-common" cg-busy="{promise:vm.cgBusyLoading}" draggable>
  <form name="vm.customerBillingAddressForm">
    <md-toolbar>
      <div class="md-toolbar-tools">
        <h2>          
          Shipping Address/Contact Person/Shipping Method/Carrier Mismatch Confirmation
        </h2>
        <span flex></span>
        <md-button class="md-icon-button" ng-click="vm.cancel()">
          <md-icon role="img" md-font-icon="icon-close" class="material-icons mat-icon icon-close"></md-icon>
        </md-button>
      </div>
    </md-toolbar>
    <md-dialog-content class="customer-modal no-padding custom-scroll">
      <md-content layout="row" layout-wrap class="md-padding m-10">
        <div layout="row" flex="100" class="work-order-bg-main margin-top-10" layout-wrap>
          <table width="100%" class="opration-table cm-equipment-feeder-header cm-table-data-baseline">
            <tr>
              <td>
                <h4>
                  <a class="nowrap underline" ng-click="vm.goToCustomerPackingSlipList();" tabindex="-1">
                    {{vm.LabelConstant.CustomerPackingSlip.PackingSlipNumber}}:
                  </a>
                </h4>
              </td>
              <td class="nowrap">
                <span class="value">
                  {{vm.popupParamData.packingSlipNumber}}
                  <copy-text label="vm.LabelConstant.CustomerPackingSlip.PackingSlipNumber" text="vm.popupParamData.packingSlipNumber"></copy-text>
                </span>
              </td>
              <td>
                <h4 class="underline" ng-click="vm.goToSalesOrderList();">
                  {{vm.LabelConstant.SalesOrder.SO}}:
                </h4>
              </td>
              <td>
                <span class="value cm-text-decoration" ng-click="vm.goToManageSalesOrder();">
                  {{vm.popupParamData.soNumber}}
                  <copy-text label="vm.LabelConstant.SalesOrder.SO" text="vm.popupParamData.soNumber"></copy-text>
                </span>
              </td>
              <td>
                <h4 class="underline" ng-click="vm.goToSalesOrderList();">
                  {{vm.LabelConstant.SalesOrder.PO}}:
                </h4>
              </td>
              <td>
                <span class="value cm-text-decoration" ng-click="vm.goToManageSalesOrder();">
                  {{vm.popupParamData.poNumber}}
                  <copy-text label="vm.LabelConstant.SalesOrder.PO" text="vm.popupParamData.poNumber"></copy-text>
                </span>
              </td>
            </tr>
            <tr>
              <td>
                <h4>
                  <a class="nowrap underline" ng-click="vm.goToMFGPartList();" tabindex="-1">
                    {{vm.LabelConstant.Assembly.PIDCode}}/{{vm.LabelConstant.MFG.PID}}:</a>
                </h4>
              </td>
              <td>
                <common-pid-code-label-link class="value cm-text-decoration ml-0"
                                            component-id="vm.popupParamData.partId"
                                            label="vm.LabelConstant.Assembly.PIDCode"
                                            value="vm.popupParamData.assyID"
                                            is-copy="true"
                                            is-custom-part="vm.popupParamData.iscustom"
                                            rohs-icon="vm.rohsImagePath+vm.popupParamData.rohsIcon"
                                            rohs-status="vm.popupParamData.rohsName"
                                            is-search-findchip="false"
                                            is-formated="true"
                                            is-search-digi-key="false"
                                            custom-part-number="vm.popupParamData.custAssyPN"></common-pid-code-label-link>
              </td>
              <td>
                <h4>
                  <a class="nowrap underline" ng-click="vm.goToMFGPartList();" tabindex="-1">
                    {{vm.LabelConstant.MFG.MFGPN}}:</a>
                </h4>
              </td>
              <td>
                <common-pid-code-label-link class="value ml-0"
                                            component-id="vm.popupParamData.partId"
                                            label="vm.LabelConstant.MFG.MFGPN"
                                            value="vm.popupParamData.assyNumber"
                                            rohs-icon="vm.rohsImagePath+vm.popupParamData.rohsIcon"
                                            rohs-status="vm.popupParamData.rohsName"
                                            is-copy="true"
                                            is-custom-part="vm.popupParamData.iscustom"
                                            is-search-findchip="false"
                                             is-formated="true"
                                            is-search-digi-key="false"
                                            custom-part-number="vm.popupParamData.custAssyPN">
                </common-pid-code-label-link>
              </td>
            </tr>
          </table>
        </div>
        <div layout="row" layout-wrap flex="100" class="margin-top-15 text-bold">
          <span ng-if="!vm.popupParamData.isAnyPackingSlipDetAvailable" ng-bind-html="vm.confirmationMsgOnShipAddrMismatch"></span>
          <span ng-if="vm.popupParamData.isAnyPackingSlipDetAvailable" ng-bind-html="vm.createNewPackingSlipOnShipAddrMismatch"></span>
        </div>
        <div layout="row" layout-wrap flex="100" class="margin-top-10">
          <table cellspacing="0" cellpadding="0" border="1" flex="100">
            <tbody>
              <tr>
                <th class="padding-5 width-5p">
                </th>
                <th class="padding-5 width-20p" ng-repeat="item in vm.radioGrpShippingSelection">
                  <md-radio-group layout="row" layout-align="start start" ng-change="vm.selectedDetailChanged()"
                                  name="materialType" id="materialType" ng-model="vm.selectedShippingDetails" class="margin-0" ng-disabled="vm.popupParamData.isAnyPackingSlipDetAvailable">
                    <md-radio-button class="margin-top-0 cm-white-space-nowrap" name="{{item.title}}" ng-value="{{item.id}}">
                      {{item.title}}
                    </md-radio-button>
                  </md-radio-group>
                </th>
              </tr>
              <!--Shipping Address-->
              <tr ng-if="vm.mismatchShipTo">
                <td class="color-black">
                  <p class="label-container padding-5-imp" layout-align="end">
                    <a tabindex="-1" class="cm-text-decoration underline" ng-click="vm.goToCustShippingAddressList();">Ship To</a>
                  </p>
                </td>
                <td class="color-black vertical-top-align">
                  <div class="padding-5">
                    <b>
                      <view-cust-address-contact-det layout flex
                                                     param-address-det="vm.soMst.shippingAddressObj"
                                                     param-other-det="vm.soMst.shipToOtherDet"
                                                     param-hide-contact-person-section="true">
                      </view-cust-address-contact-det>
                    </b>
                  </div>
                </td>
                <td class="color-black vertical-top-align">
                  <div class="padding-5">
                    <b>
                      <view-cust-address-contact-det layout flex class="highlight-address"
                                                     param-address-det="vm.cpsDetail.shippingAddressObj"
                                                     param-other-det="vm.cpsDetail.shipToOtherDet"
                                                     param-hide-contact-person-section="true">
                      </view-cust-address-contact-det>
                    </b>
                  </div>
                </td>
                <td class="color-black vertical-top-align">
                  <div class="padding-5">
                    <b>
                      <view-cust-address-contact-det layout flex class="highlight-address"
                                                     param-address-det="vm.soRelLine.shippingAddressObj"
                                                     param-other-det="vm.soRelLine.shipToOtherDet"
                                                     param-hide-contact-person-section="true">
                      </view-cust-address-contact-det>
                    </b>
                  </div>
                </td>
                <td class="color-black vertical-top-align">
                  <div class="padding-5">
                    <b>
                      <view-cust-address-contact-det layout flex
                                                     param-address-det="vm.selectedDetail.shippingAddressObj"
                                                     param-other-det="vm.selectedDetail.shipToOtherDet"
                                                     param-addr-action-btn-det="vm.selectedShipToActionBtn"
                                                     param-add-update-addr-callback-fn="vm.addEditSelectedAddressCallBack"
                                                     param-select-addr-callback-fn="vm.selectAddressCallBack"
                                                     param-hide-contact-person-section="true">
                      </view-cust-address-contact-det>
                    </b>
                  </div>
                </td>
              </tr>
              <!--Contact Person-->
              <tr ng-if="vm.mismatchContactPerson">
                <td class="color-black text-right w-100">
                  <p class="label-container padding-5-imp cm-white-space-normal" layout-align="end">
                    <a tabindex="-1" class="cm-text-decoration underline" ng-click="vm.goToCustShippingAddressList();">Contact Person (Ship To)</a>
                  </p>
                </td>
                <td class="color-black vertical-top-align">
                  <div class="padding-5">
                    <b>
                      <view-contact-person-det layout
                                               param-contact-person-det="vm.soMst.shippingContactPersonObj"
                                               param-other-det="vm.soMst.shippingContactPersonOtherDet"></view-contact-person-det>
                    </b>
                  </div>
                </td>
                <td class="color-black vertical-top-align">
                  <div class="padding-5">
                    <b>
                      <view-contact-person-det layout class="highlight"
                                               param-contact-person-det="vm.cpsDetail.shippingContactPersonObj"
                                               param-other-det="vm.cpsDetail.shippingContactPersonOtherDet"></view-contact-person-det>
                    </b>
                  </div>
                </td>
                <td class="color-black vertical-top-align">
                  <div class="padding-5">
                    <b>
                      <view-contact-person-det layout class="highlight"
                                               param-contact-person-det="vm.soRelLine.shippingContactPersonObj"
                                               param-other-det="vm.soRelLine.shippingContactPersonOtherDet"></view-contact-person-det>
                    </b>
                  </div>
                </td>
                <td class="color-black vertical-top-align">
                  <p class="padding-5">
                    <b>
                      <view-contact-person-det layout
                                               param-contact-person-det="vm.selectedDetail.shippingContactPersonObj"
                                               param-other-det="vm.selectedDetail.shippingContactPersonOtherDet"
                                               param-cont-person-action-btn-det="vm.selectedContactActionBtn"
                                               param-select-contact-callback-fn="vm.selectContactPersonCallBack"
                                               param-add-update-contact-callback-fn="vm.addEditPersonCallBack"></view-contact-person-det>
                    </b>
                  </p>
                </td>
              </tr>
              <!--Shipping Method-->
              <tr ng-if="vm.mismatchShippingMethod">
                <td>
                  <p class="label-container padding-5-imp" layout-align="end">
                    <a tabindex="-1" class="cm-text-decoration underline" ng-click="vm.goToShippingMethodList();">Shipping Method</a>
                  </p>
                </td>
                <td class="vertical-top-align">
                  <p class="padding-5"><b>{{vm.soMst.shippingMethodText}}</b></p>
                </td>
                <td class="vertical-top-align highlight">
                  <p class="padding-5"><b>{{vm.cpsDetail.shippingMethodText}}</b></p>
                </td>
                <td class="vertical-top-align highlight">
                  <p class="padding-5"><b>{{vm.soRelLine.shippingMethodText}}</b></p>
                </td>
                <td class="vertical-top-align">
                  <md-input-container ng-if="vm.autoCompleteShipping" class="autocompletecustom margin-bottom-0 width-100p padding-5" flex>
                    <custom-auto-complete datalist="vm.ShippingTypeList"
                                          column-name="vm.autoCompleteShipping.columnName"
                                          controller-name="vm.autoCompleteShipping.controllerName"
                                          view-template-url="vm.autoCompleteShipping.viewTemplateURL"
                                          key-column-name="vm.autoCompleteShipping.keyColumnName"
                                          input-name="vm.autoCompleteShipping.inputName"
                                          placeholder-name="vm.autoCompleteShipping.placeholderName"
                                          key-column-id="vm.autoCompleteShipping.keyColumnId"
                                          is-required="vm.autoCompleteShipping.isRequired"
                                          is-addnew="vm.autoCompleteShipping.isAddnew"
                                          is-disabled="vm.popupParamData.isAnyPackingSlipDetAvailable || vm.disableManualSelection"
                                          add-data="vm.autoCompleteShipping.addData"
                                          on-select-callback-fn="vm.autoCompleteShipping.onSelectCallbackFn"
                                          callback-fn="vm.autoCompleteShipping.callbackFn">
                    </custom-auto-complete>
                  </md-input-container>
                </td>
              </tr>
              <!--Carrier-->
              <tr ng-if="vm.mismatchCarrier">
                <td>
                  <p class="label-container padding-5-imp" layout-align="end">
                    <a tabindex="-1" class="cm-text-decoration underline" ng-click="vm.goTocarrierList();">Carrier</a>
                  </p>
                </td>
                <td class="vertical-top-align">
                  <p class="padding-5"><b>{{vm.soMst.carrierText}}</b></p>
                </td>
                <td class="vertical-top-align highlight">
                  <p class="padding-5"><b>{{vm.cpsDetail.carrierText}}</b></p>
                </td>
                <td class="vertical-top-align highlight">
                  <p class="padding-5"><b>{{vm.soRelLine.carrierText}}</b></p>
                </td>
                <td class="vertical-top-align">
                  <md-input-container ng-if="vm.autoCompleteCarrier" class="autocompletecustom margin-bottom-0 width-100p padding-5" flex>
                    <custom-auto-complete datalist="vm.CarrierList"
                                          column-name="vm.autoCompleteCarrier.columnName"
                                          controller-name="vm.autoCompleteCarrier.controllerName"
                                          view-template-url="vm.autoCompleteCarrier.viewTemplateURL"
                                          key-column-name="vm.autoCompleteCarrier.keyColumnName"
                                          input-name="vm.autoCompleteCarrier.inputName"
                                          placeholder-name="vm.autoCompleteCarrier.placeholderName"
                                          key-column-id="vm.autoCompleteCarrier.keyColumnId"
                                          is-required="vm.autoCompleteCarrier.isRequired"
                                          is-addnew="vm.autoCompleteCarrier.isAddnew"
                                          add-data="vm.autoCompleteCarrier.addData"
                                          is-disabled="vm.popupParamData.isAnyPackingSlipDetAvailable || vm.disableManualSelection"
                                          on-select-callback-fn="vm.autoCompleteCarrier.onSelectCallbackFn"
                                          callback-fn="vm.autoCompleteCarrier.callbackFn">
                    </custom-auto-complete>
                  </md-input-container>
                </td>
              </tr>
              <!--Carrier Account#-->
              <tr ng-if="vm.mismatchCarrierAccNumber">
                <td>
                  <p class="label-container padding-5-imp" layout-align="end">
                    Carrier Account#
                  </p>
                </td>
                <td class="vertical-top-align">
                  <p class="padding-5"><b>{{vm.soMst.carrierAccountNumber}}</b></p>
                </td>
                <td class="vertical-top-align highlight">
                  <p class="padding-5"><b>{{vm.cpsDetail.carrierAccountNumber}}</b></p>
                </td>
                <td class="vertical-top-align highlight">
                  <p class="padding-5"><b>{{vm.soRelLine.carrierAccountNumber}}</b></p>
                </td>
                <td class="vertical-top-align">
                  <md-input-container flex="100" class="margin-bottom-0 width-100p">
                    <input name="carrierAccountNumber" ng-model="vm.selectedDetail.carrierAccountNumber" placeholder="Carrier Account#"
                           ng-maxlength="50" md-maxlength="50" ng-disabled="vm.popupParamData.isAnyPackingSlipDetAvailable || vm.disableManualSelection" />
                    <div ng-messages="vm.customerBillingAddressForm.carrierAccountNumber.$error" role="alert">
                      <div ng-message="maxlength">
                        <span>{{vm.getMaxLengthValidation(50, vm.customerBillingAddressForm.carrierAccountNumber.$viewValue.length)}}</span>
                      </div>
                    </div>
                  </md-input-container>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </md-content>
    </md-dialog-content>
    <md-dialog-actions layout="row">
      <md-button class="md-default md-raised" ng-click="vm.cancel()">Cancel</md-button>
      <!--<md-button class="md-primary md-raised"
                 ng-click="vm.goWithPackingSlipAddr()" aria-label="Yes"
                 ng-if="!vm.popupParamData.isAnyPackingSlipDetAvailable">Keep Header Address</md-button>-->
      <md-button class="md-primary md-raised" id="apply" ng-class="{'md-formdirty': vm.customerBillingAddressForm.$dirty}"
                 ng-click="vm.applyAddress(1)" aria-label="Ok"
                 ng-if="!vm.popupParamData.isAnyPackingSlipDetAvailable">Apply</md-button>
      <md-button class="md-primary md-raised" id="apply"
                 ng-click="vm.applyAddress(2)" aria-label="Ok"
                 ng-if="vm.popupParamData.isAnyPackingSlipDetAvailable">Yes</md-button>
    </md-dialog-actions>
  </form>
</md-dialog>
