<md-dialog aria-label="FullKitAllocation" class="cm-custom-label-common" cg-busy="{promise:vm.cgBusyLoading}" draggable flex="50">
    <form name="vm.formKitAllocation" class="md-inline-form">
        <md-toolbar>
            <div class="md-toolbar-tools">
                <h2>Confirmation For Kit Allocation</h2>
                <span flex></span>
                <popup-header-label label-data="vm.headerdata"></popup-header-label>
                <md-button class="md-icon-button" ng-click="vm.cancel()">
                    <md-icon role="img" md-font-icon="icon-close" class="material-icons mat-icon icon-close"></md-icon>
                </md-button>
            </div>
        </md-toolbar>

        <md-dialog-content>
            <md-content>
                <div layout="row" class="cm-bom-error-message">
                    <p ng-bind-html="vm.allocationDetail.validationMsg"></p>
                </div>

                <div class="cm-section-main margin-bottom-5">
                    <div class="cm-section-inner">

                        <table cellspacing="0" cellpadding="0" class="cm-table-input-main">
                            <tbody>
                                <tr>
                                    <th><p class="label-container pt-2">{{vm.LabelConstant.KitAllocation.ShortagePerBuildUnits}}</p></th>
                                    <td>
                                        <md-input-container flex="100" class="margin-bottom-0">
                                            <input type="number" id="shortageQty" name="shortageQty" input-number-decimal-place ng-model="vm.allocationDetail.shortageQty" placeholder="Shortage Qty" ng-disabled="true" step="{{$root.unitInputStep}}">
                                        </md-input-container>
                                    </td>

                                    <th><p class="label-container pt-2">Allocate Units</p></th>
                                    <td>
                                        <md-input-container flex="100" class="margin-bottom-0">
                                            <input type="number" id="allocatedQty" name="allocatedQty" input-number-decimal-place ng-model="vm.allocationDetail.allocatedQty" placeholder="Allocated Qty" min="0" maxlength="18" step="{{$root.unitInputStep}}" onkeypress="return OnlyNumbersWithDot(event)" custom-auto-focus=true required custom-blur="vm.checkUnitValue();">
                                            <div ng-messages="vm.formKitAllocation.allocatedQty.$error" role="alert">
                                                <div ng-message="required">
                                                    <span>{{vm.CORE_MESSAGE_CONSTANT.REQUIRED}}</span>
                                                </div>
                                                <div ng-message="min">
                                                    <span>{{vm.CORE_MESSAGE_CONSTANT.INVALID}}</span>
                                                </div>
                                                <div ng-message="maxlength">
                                                    <span>{{vm.getMaxLengthValidation(18,vm.formKitAllocation.allocatedQty.$viewValue.length)}}</span>
                                                </div>
                                                <div ng-message="number || step">
                                                    <span>{{vm.CORE_MESSAGE_CONSTANT.INVALID}}</span>
                                                </div>
                                                <div ng-message="checkVal">
                                                    <span>{{vm.TRANSACTION.ALLOCATED_QTY_GREATER}}</span>
                                                </div>
                                            </div>
                                        </md-input-container>
                                    </td>

                                    <th><p class="label-container pt-2">UOM</p></th>
                                    <td>
                                        <md-input-container flex="100" class="margin-bottom-0">
                                            <input type="text" id="uom" name="uom" ng-model="vm.allocationDetail.uom" placeholder="UOM" ng-disabled="true">
                                        </md-input-container>
                                    </td>
                                </tr>

                            </tbody>
                        </table>
                    </div>
                </div>

            </md-content>
        </md-dialog-content>

        <md-dialog-actions layout="row">
            <md-button class="md-default md-raised" ng-click="vm.cancel()">Cancel</md-button>
            <md-button class="md-primary md-raised" aria-label="Submit" ng-disabled="!vm.formKitAllocation.$valid || vm.allocationDetail.allocatedQty == 0" ng-click="vm.allocatedQty(true)">Create UMID with Kit Allocation</md-button>
            <md-button class="md-primary md-raised" aria-label="Submit" ng-disabled="!vm.formKitAllocation.$valid" ng-click="vm.allocatedQty(false)">{{vm.TRANSACTION.RECEIVINGMATERIAL.CreateUMIDWithoutKitAllocation}}</md-button>
        </md-dialog-actions>
    </form>
</md-dialog>
