<div id="forms" class="page-layout simple fullwidth doc-page breadcrumb-fixed cm-custom-label-common" layout="column" cg-busy="{promise:vm.cgBusyLoading}">
  <ms-form-wizard flex>
    <div class="header md-accent-bg" layout="row" layout-align="start center">
      <md-button class="goto-products-button md-icon-button cm-back-btn-p-m" type="button" ng-click="vm.goBack()">
        <!--<md-icon md-font-icon="icon-arrow-left" class="material-icons icon-arrow-left">
        </md-icon>-->
        <md-icon md-font-icon="icons-backarrow" class="material-icons icons-backarrow cm-back-btn">
        </md-icon>
      </md-button>
      <div class="white-fg" layout="row" layout-align="space-between center" flex="100">
        <div>
          <div class="h2" layout="row" layout-align="start center">
            <div>
              <!--<span class="header-title" ng-if="vm.owID">Update Shipped</span>
              <span class="header-title" ng-if="!vm.owID">Add Shipped</span>-->
              <pagetitle is-list="false" is-display-menu-name="true" prefix-content="vm.owID ? 'Update' : 'Add'" suffix-content=""></pagetitle>
              <md-tooltip ng-if="vm.owID" md-direction="right">Update Shipping Records</md-tooltip>
            </div>
          </div>
          <div class="product-count">
            <span>
              <breadcrumbs></breadcrumbs>
            </span>
          </div>
        </div>
      </div>
      <div layout="row">
        <div flex="100" layout="row" layout-align="end center">
          <md-button class="md-raised md-primary" ng-click="vm.saveShippedAssembly(msWizard);" id="saveBtn">
            Save
          </md-button>
        </div>
      </div>
    </div>
    <div class="content-card padding-top-side cm-custom-label-common" layout="row" flex="100">
      <div layout="row" flex="100" layout-sm="column" layout-md="column">
        <form name="vm.frmShippedAssemblyDetails" layout="row" layout-sm="column" layout-md="column" layout-wrap class="md-inline-form padding-10-imp" ms-form-wizard-form novalidate>
          <md-button id="btnRequireColValidation" type="submit" ng-hide="true"></md-button>
          <div layout="row" layout-wrap class="margin-top-0" flex="45" flex-sm="100" flex-md="100">
            <div class="cm-section-main margin-right-5 margin-bottom-5 margin-pro-rs-right-0" layout="row" layout-wrap flex="100">
              <div class="cm-section-inner overflow-auto-rs" flex="100">
                <table cellspacing="0" cellpadding="0" class="cm-table-input-main">
                  <tbody>
                    <tr>
                      <th>
                        <p class="label-container">{{vm.autoCompleteShippingQty.placeholderName}}<span>&nbsp;*</span></p>
                      </th>
                      <td>
                        <md-input-container ng-if="vm.autoCompleteShippingQty" class="autocompletecustom margin-bottom-0" flex="100" flex-xs="100">
                          <custom-auto-complete datalist="vm.ShippingDetail"
                                                column-name="vm.autoCompleteShippingQty.columnName"
                                                key-column-name="vm.autoCompleteShippingQty.keyColumnName"
                                                input-name="vm.autoCompleteShippingQty.inputName"
                                                placeholder-name="vm.autoCompleteShippingQty.placeholderName"
                                                key-column-id="vm.autoCompleteShippingQty.keyColumnId"
                                                is-required="vm.autoCompleteShippingQty.isRequired"
                                                is-disabled="vm.IsEdit"
                                                is-addnew="vm.autoCompleteShippingQty.isAddnew"
                                                callback-fn="vm.autoCompleteShippingQty.callbackFn"
                                                on-select-callback-fn="vm.autoCompleteShippingQty.onSelectCallbackFn"
                                                custom-auto-focus="{{true}}">
                          </custom-auto-complete>
                          <span flex="100" class="font-size-10">
                            <b>Qty [NickName] [Assembly] [SO] [Est. Ship Date]</b>
                          </span>
                        </md-input-container>
                      </td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>
            <div flex="100" layout="row" class="margin-top-0">
              <div class="cm-section-main margin-right-5 margin-pro-rs-right-0" layout="row" layout-wrap flex="100">
                <div class="cm-section-inner overflow-auto-rs" flex="100">
                  <table cellspacing="0" cellpadding="0" class="cm-table-input-main">
                    <tbody>
                      <tr>
                        <th>
                          <p class="label-container">Invoice#<span> </span></p>
                        </th>
                        <td>
                          <md-input-container flex="100" class="margin-bottom-0">
                            <input type="text" name="outwinvoiceno" ng-model="vm.shipped.outwinvoiceno"
                                   placeholder="Invoice#" ng-maxlength="255">
                            <div ng-messages="vm.frmShippedAssemblyDetails.outwinvoiceno.$error"
                                 role="alert">
                              <div ng-message="maxlength">
                                <span>{{vm.getMaxLengthValidation(255,vm.frmShippedAssemblyDetails.outwinvoiceno.$viewValue.length)}}</span>
                              </div>
                            </div>
                          </md-input-container>
                        </td>
                        <th>
                          <p class="label-container">Invoice Date<span> </span></p>
                        </th>
                        <td>
                          <md-input-container class="md-block datepicker padding-right-0-imp" flex="100">
                            <!--<label class="datepickerlfetlable">Invoice Date </label>
                            <md-datepicker ng-model="vm.shipped.outwinvoicedate" date-picker-no-translate-class
                                           md-placeholder="{{vm.placeHolderFormat}}"
                                           md-hide-icons="calendar"
                                           md-date-locale="vm.locale"
                                           ng-change="vm.checkOWDate()"
                                           md-autofocus
                                           name="owInvoiceDate"
                                           md-is-open="vm.IsPickerOpen[vm.DATE_PICKER.owInvoiceDate]"
                                           ng-keydown="vm.openPicker(vm.DATE_PICKER.owInvoiceDate, $event)"></md-datepicker>-->
                            <input type="text" class="float-left"
                                   name="owInvoiceDate"
                                   max-value="vm.todayDate"
                                   max-value-is-today-date="true"
                                   allow-past-date="true"
                                   allow-future-date="false"
                                   datetime-picker="{{$root.dateDisplayFormat}}"
                                   ng-model="vm.shipped.outwinvoicedate"
                                   enable-time="false"
                                   ui-options="{clearOnBlur  : true}"
                                   ui-mask="{{$root.uimaskFormat.date.mask}}"
                                   ui-mask-placeholder="{{$root.uimaskFormat.date.placeholder}}"
                                   model-view-value="true"
                                   datepicker-options="vm.owInvoiceDateOptions"
                                   is-open="vm.IsPickerOpen[vm.DATE_PICKER.owInvoiceDate]" />
                            <md-icon md-font-icon="icon-calendar calender-icon" ng-click="vm.IsPickerOpen[vm.DATE_PICKER.owInvoiceDate] = true">
                            </md-icon>
                            <div ng-messages="vm.frmShippedAssemblyDetails.owInvoiceDate.$error" role="alert">
                              <div ng-message="maxvalue">
                                <span>{{vm.getMaxDateValidation('Invoice Date', 'Today Date')}}</span>
                              </div>
                              <div ng-message="valid">
                                <span>{{vm.CORE_MESSAGE_CONSTANT.INVALID}}</span>
                              </div>
                              <div ng-message="datetime">
                                <span>{{vm.CORE_MESSAGE_CONSTANT.INVALID}}</span>
                              </div>
                              <div ng-message="required">
                                <span>{{vm.CORE_MESSAGE_CONSTANT.REQUIRED}}</span>
                              </div>
                            </div>
                          </md-input-container>
                        </td>
                      </tr>
                    </tbody>
                  </table>
                </div>
              </div>
            </div>
          </div>
          <div layout="row" flex="55" flex-sm="100" flex-md="100">
            <div flex="100" class="customerbox input-width width-100p mt-rs-5" layout="row" layout-wrap>
              <div class="cm-section-main border-0" flex="100">
                <div class="cm-section-inner overflow-auto-rs">
                  <table cellpadding="0" cellspacing="0" class="cm-table-input-main cm-add-shipping-record">
                    <tbody>
                      <tr>
                        <th>
                          <a class="cm-text-decoration" ng-click="vm.goToCustomerList();">{{vm.LabelConstant.Customer.Customer}}</a>:
                        </th>
                        <td no-translate-class>
                          <a class="cm-text-decoration" ng-click="vm.goToManageCustomer(shipping.customerID);">
                            {{shipping.customerName}}
                          </a>
                        </td>
                        <th>
                          <a class="cm-text-decoration margin-0"
                             ng-mousedown="vm.goToAssemblyList();">
                            {{vm.LabelConstant.Assembly.ID}}:
                          </a>
                        </th>
                        <td no-translate-class>
                          <common-pid-code-label-link component-id="shipping.partID"
                                                      label="vm.LabelConstant.Assembly.ID" value="shipping.PIDCode"
                                                      is-copy="true"
                                                      rohs-icon="shipping.displayRohsIcon"
                                                      rohs-status="shipping.rohsName" is-formated="true"
                                                      is-assembly="true"
                                                      is-custom-part="shipping.isCustom">
                          </common-pid-code-label-link>
                          <img class="ml-5 mt-5" ng-if="vm.isExportControlledAssy" ng-src="{{vm.LabelConstant.Workorder.ExportControlImagePath}}" />
                          <md-tooltip ng-if="vm.isExportControlledAssy">Export Controlled</md-tooltip>
                        </td>
                        <th class="color-black">
                          {{vm.LabelConstant.Assembly.Rev}}:
                        </th>
                        <td no-translate-class class="color-black">
                          {{shipping.rev}}
                        </td>
                      </tr>
                      <tr>
                        <th class="color-black">
                          Price ($):
                        </th>
                        <td no-translate-class class="color-black width-150">
                          {{shipping.price}}
                        </td>
                        <th>
                          <a class="cm-text-decoration" ng-click="vm.goShippingMethodList();">{{vm.shippingMethodLabel}}</a>:
                        </th>
                        <td no-translate-class class="color-black">
                          {{shipping.type}}
                        </td>
                        <th class="color-black">
                          Estimated Ship Date:
                        </th>
                        <td no-translate-class class="color-black">
                          {{shipping.date}}
                        </td>
                      </tr>
                      <tr>
                        <th class="color-black">
                          Shipping Address:
                        </th>
                        <td colspan="5" no-translate-class class="color-black">
                          {{shipping.address}}
                        </td>
                      </tr>
                    </tbody>
                  </table>
                </div>
              </div>
            </div>
          </div>
          <div layout="row" class="margin-top-5" flex="100">
            <div class="cm-section-main" flex="100">
              <div class="cm-section-inner overflow-auto-rs">
                <table cellspacing="0" cellpadding="0" class="cm-table-input-main">
                  <tbody>
                    <tr>
                      <th>
                        <p class="label-container">
                          <a class="cm-text-decoration" ng-click="vm.goToWorkorderList();">
                            {{vm.autoCompleteWorkorder.placeholderName}}
                          </a>
                          <span ng-hide="vm.IsEdit || !vm.autoCompleteShippingQty.keyColumnId">&nbsp;*</span>
                        </p>
                      </th>
                      <td>
                        <md-input-container ng-if="vm.autoCompleteWorkorder" class="autocompletecustom margin-bottom-0" flex="100" flex-xs="100">
                          <custom-auto-complete datalist="vm.WorkorderList"
                                                column-name="vm.autoCompleteWorkorder.columnName"
                                                key-column-name="vm.autoCompleteWorkorder.keyColumnName"
                                                input-name="vm.autoCompleteWorkorder.inputName"
                                                placeholder-name="vm.autoCompleteWorkorder.placeholderName"
                                                key-column-id="vm.autoCompleteWorkorder.keyColumnId"
                                                is-required="vm.autoCompleteWorkorder.isRequired"
                                                is-addnew="vm.autoCompleteWorkorder.isAddnew"
                                                is-disabled="vm.IsEdit || !vm.autoCompleteShippingQty.keyColumnId"
                                                callback-fn="vm.autoCompleteWorkorder.callbackFn"
                                                on-select-callback-fn="vm.autoCompleteWorkorder.onSelectCallbackFn">
                          </custom-auto-complete>
                        </md-input-container>
                      </td>
                      <th><p class="label-container">{{vm.autoCompleteWorkorderOperation.placeholderName}}<span ng-hide="vm.IsEdit || !vm.autoCompleteWorkorder.keyColumnId">&nbsp;*</span></p></th>
                      <td>
                        <md-input-container ng-if="vm.autoCompleteWorkorderOperation" class="autocompletecustom margin-bottom-0" flex="100" flex-xs="100">
                          <custom-auto-complete datalist="vm.workOperationList"
                                                column-name="vm.autoCompleteWorkorderOperation.columnName"
                                                key-column-name="vm.autoCompleteWorkorderOperation.keyColumnName"
                                                input-name="vm.autoCompleteWorkorderOperation.inputName"
                                                placeholder-name="vm.autoCompleteWorkorderOperation.placeholderName"
                                                key-column-id="vm.autoCompleteWorkorderOperation.keyColumnId"
                                                is-required="vm.autoCompleteWorkorderOperation.isRequired"
                                                is-disabled="vm.IsEdit || !vm.autoCompleteWorkorder.keyColumnId"
                                                callback-fn="vm.autoCompleteWorkorderOperation.callbackFn"
                                                on-select-callback-fn="vm.autoCompleteWorkorderOperation.onSelectCallbackFn">
                          </custom-auto-complete>
                        </md-input-container>
                      </td>
                      <th><p class="label-container">Shipped Qty<span>&nbsp;*</span></p></th>
                      <td>
                        <md-input-container flex="100" class="margin-bottom-0">
                          <input type="number" name="shippedqty" ng-model="vm.shipped.shippedqty" ng-disabled="!vm.autoCompleteWorkorderOperation.keyColumnId"
                                 placeholder="Shipped Qty"
                                 onkeypress="return OnlyNumeric(event)"
                                 required min="1" max="{{vm.validShippedQty}}">
                          <div ng-messages="vm.frmShippedAssemblyDetails.shippedqty.$error"
                               role="alert">
                            <div ng-message="required">
                              <span>{{vm.CORE_MESSAGE_CONSTANT.REQUIRED}}</span>
                            </div>
                            <div ng-message="min">
                              <span>{{vm.CORE_MESSAGE_CONSTANT.INVALID}}</span>
                            </div>
                            <div ng-message="max">
                              <span>{{vm.CORE_MESSAGE_CONSTANT.INVALID}}</span>
                            </div>
                            <div ng-message="number">
                              <span>{{vm.CORE_MESSAGE_CONSTANT.INVALID}}</span>
                            </div>
                          </div>
                        </md-input-container>
                      </td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>
          </div>
          <div layout="row" class="margin-top-0" flex="100" flex-gt-xs="100">
            <div class="cm-section-main margin-top-5" flex="100">
              <div class="cm-section-inner overflow-auto-rs">
                <table cellspacing="0" cellpadding="0" class="cm-table-input-main">
                  <tbody>
                    <tr>
                      <th><p class="label-container">Shipping Notes<span>&nbsp;</span></p></th>
                      <td>
                        <md-input-container flex="100" flex-gt-xs="100">
                          <textarea name="shippedNotes" ng-model="vm.shipped.shippedNotes" rows="2"
                                    placeholder="Shipping Notes"
                                    ng-maxlength="1000"
                                    last-element elementcondition="true"></textarea>
                          <div ng-messages="vm.frmShippedAssemblyDetails.shippedNotes.$error" role="alert">
                            <div ng-message="maxlength">
                              <span>{{vm.getMaxLengthValidation(1000,vm.frmShippedAssemblyDetails.shippedNotes.$viewValue.length)}}</span>
                            </div>
                          </div>
                        </md-input-container>
                      </td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>
          </div>
        </form>
      </div>
    </div>
  </ms-form-wizard>
</div>
