<md-dialog aria-label="SelectLine" cg-busy="{promise:vm.cgBusyLoading}" draggable flex="70">

  <md-toolbar>
    <div class="md-toolbar-tools">
      <h2>Select Packing Slip Line</h2>
      <span flex></span>
      <popup-header-label label-data="vm.headerdata"></popup-header-label>
      <md-button class="md-icon-button" ng-click="vm.cancel()">
        <md-icon role="img" md-font-icon="icon-close" class="material-icons mat-icon icon-close"></md-icon>
      </md-button>
    </div>
  </md-toolbar>

  <md-dialog-content class="customer-modal no-padding custom-scroll" layout="column">
    <md-content class="md-padding">

      <div class="content fullpage-datatable" layout="column" flex>
        <md-table-container layout="row" flex="100">

          <table md-table class="md-data-table table-row-select">
            <thead md-head md-order="vm.query.order">
              <tr>
                <th></th>
                <th md-column width="50">
                  #
                </th>
                <th md-column md-order-by="lineNo">PS Line#</th>
                <th md-column md-order-by="PIDCode">
                  {{vm.LabelConstant.MFG.PID}}
                </th>
                <th md-column md-order-by="packagingName">
                  Packaging
                </th>
                <th md-column md-order-by="packingSlipQty">
                  Packing Slip Qty
                </th>
                <th md-column md-order-by="receivedQty">
                  Received Qty
                </th>
                <th md-column md-order-by="invoicePrice">
                  Invoice Price
                </th>
              </tr>
            </thead>
            <tbody md-body>
              <tr md-row ng-repeat="item in vm.psList | orderBy: vm.query.order">
                <td md-cell>
                  <md-checkbox ng-model="item.isSelect" ng-change="vm.selectPart(item);" custom-auto-focus="{{$first ? true : false}}"></md-checkbox>
                </td>
                <td md-cell>{{$index+1}}</td>
                <td md-cell class="serial-number w-130">{{item.lineNo}}</td>
                <td md-cell>
                  <common-pid-code-label-link component-id="item.partID"
                                              label="vm.LabelConstant.MFG.PID"
                                              value="item.PIDCode"
                                              is-copy="true"
                                              is-mfg="true"
                                              mfg-label="vm.LabelConstant.MFG.MFGPN"
                                              mfg-value="item.mfgPN"
                                              rohs-icon="item.rohsIcon"
                                              rohs-status="item.rohsName"
                                              is-copy-ahead-label="true"
                                              is-custom-part="item.isCustom"
                                              restrict-use-permanently="item.restrictUsePermanently"
                                              restrict-use-with-permission="item.restrictUSEwithpermission"
                                              restrict-packaging-use-permanently="item.restrictPackagingUsePermanently"
                                              restrict-packaging-use-with-permission="item.restrictPackagingUseWithpermission">
                  </common-pid-code-label-link>
                </td>
                <td md-cell>
                  {{item.packagingName}}
                </td>
                <td md-cell>{{item.packingSlipQty | unit}}</td>
                <td md-cell>{{item.receivedQty | unit}}</td>
                <td md-cell>{{item.invoicePrice | unitPrice}}</td>
              </tr>
            </tbody>
          </table>

        </md-table-container>
      </div>

    </md-content>
  </md-dialog-content>

  <md-dialog-actions layout="row">
    <md-button class="md-default md-raised" ng-click="vm.cancel()">Cancel</md-button>
    <md-button class="md-primary md-raised" ng-click="vm.confirmSelect();" ng-disabled="vm.isDisable" aria-label="Submit">Select</md-button>
  </md-dialog-actions>

</md-dialog>
