<md-dialog aria-label="Transfer Stock History" class="transfer-history-popup" draggable>
  <form name="vm.AlternatePartForm">
    <md-toolbar>
      <div class="md-toolbar-tools">
        <h2>UMID History</h2>
        <span flex></span>
        <h2 ng-if="vm.isTransit">{{vm.LabelConstant.TransferStock.InTransitBinToBin}}:&nbsp;Yes</h2>
        <md-button class="md-icon-button" ng-click="vm.cancel()">
          <md-icon role="img" md-font-icon="icon-close" class="material-icons mat-icon icon-close"></md-icon>
        </md-button>
      </div>
    </md-toolbar>
    <md-dialog-content class="no-padding custom-scroll" layout="column" cg-busy="{promise:vm.cgBusyLoading}">
      <md-content class="padding-10 mh-5">

        <table cellspacing="0" cellpadding="0" class="cm-bom-header-table cm-umid-history-table-pop-up">
          <tbody>

            <tr>
              <th class="text-align-right">
                <a tabindex="-1" class="cm-text-decoration underline" ng-click="vm.goToUMIDList();">{{vm.LabelConstant.TransferStock.UMID}}</a>:
              </th>
              <td>
                <a tabindex="-1" class="cm-text-decoration underline" ng-click="vm.goToUMIDDetail(vm.UIDDet.id);">{{vm.UIDDet.uid}}</a>
                <copy-text label="vm.LabelConstant.UMIDManagement.UMID" text="vm.UIDDet.uid"></copy-text>
              </td>

              <th class="text-align-right">
                <a tabindex="-1" class="cm-text-decoration underline" ng-click="vm.goToMFGList();">{{vm.LabelConstant.MFG.MFG}}</a>:
              </th>
              <td>
                <a tabindex="-1" class="cm-text-decoration underline" ng-click="vm.goToCustomer(vm.UIDDet.mfgcodeID);">({{vm.UIDDet.mfgCode}}) {{vm.UIDDet.mfgName}}</a>
              </td>

              <th class="text-align-right">
                <a ng-click="vm.goToBinList();" class="cm-text-decoration underline" tabindex="-1">Current&nbsp;{{vm.LabelConstant.TransferStock.Bin}}</a>:
              </th>
              <td>
                {{vm.UIDDet.binName}}
              </td>

              <th class="text-align-right">
                <a ng-click="vm.goToWHList();" class="cm-text-decoration underline" tabindex="-1">Current&nbsp;{{vm.LabelConstant.TransferStock.ParentWH}}</a>:
              </th>
              <td>
                {{vm.UIDDet.deptName}}
              </td>

              <th class="text-align-right">
                Current Count:
              </th>
              <td>
                {{vm.UIDDet.uomClassID === vm.MEASUREMENT_TYPES_COUNT.ID ? (vm.UIDDet.pkgQty) : (vm.UIDDet.pkgQty |unit)}}
              </td>
              <th class="text-align-right">
                Initial Count:
              </th>
              <td>
                {{vm.UIDDet.uomClassID === vm.MEASUREMENT_TYPES_COUNT.ID ? (vm.UIDDet.orgQty) : (vm.UIDDet.orgQty |unit)}}
              </td>
              <th class="text-align-right" ng-if="vm.UIDDet.fromUID">
                <a tabindex="-1" class="cm-text-decoration underline" ng-click="vm.goToUMIDList();">{{vm.LabelConstant.UMIDManagement.FromUMID}}</a>:
              </th>
              <td ng-if="vm.UIDDet.fromUID">
                <a tabindex="-1" class="cm-text-decoration underline" ng-click="vm.goToUMIDDetail(vm.UIDDet.fromUIDId);">{{vm.UIDDet.fromUID}}</a>
                <copy-text label="vm.LabelConstant.UMIDManagement.UMID" text="vm.UIDDet.fromUID"></copy-text>
              </td>
            </tr>

            <tr>
              <th class="text-align-right">
                <a tabindex="-1" class="cm-text-decoration underline" ng-click="vm.goToPartList();">{{vm.LabelConstant.MFG.PID}}</a>:
              </th>
              <td>
                <common-pid-code-label-link component-id="vm.UIDDet.refcompid"
                                            label="vm.LabelConstant.MFG.PID"
                                            value="vm.UIDDet.PIDCode"
                                            is-copy="true"
                                            is-mfg="true"
                                            mfg-label="vm.LabelConstant.MFG.MFGPN"
                                            mfg-value="vm.UIDDet.mfgPN"
                                            rohs-icon="vm.rohsImagePath+vm.UIDDet.rohsIcon"
                                            rohs-status="vm.UIDDet.rohsName"
                                            is-copy-ahead-label="true">
                </common-pid-code-label-link>
              </td>
              <th class="text-align-right">
                <a tabindex="-1" class="cm-text-decoration underline" ng-click="vm.goToPartList();">{{vm.LabelConstant.MFG.MFGPN}}</a>:
              </th>
              <td>
                <common-pid-code-label-link component-id="vm.UIDDet.refcompid"
                                            label="vm.LabelConstant.MFG.MFGPN"
                                            value="vm.UIDDet.mfgPN"
                                            is-copy="true"
                                            rohs-icon="vm.rohsImagePath+vm.UIDDet.rohsIcon"
                                            rohs-status="vm.UIDDet.rohsName"
                                            is-search-digi-key="true">
                </common-pid-code-label-link>
              </td>
              <th class="text-align-right">
                <a ng-click="vm.goToWHList();" class="cm-text-decoration underline" tabindex="-1">Current&nbsp;{{vm.LabelConstant.TransferStock.WH}}</a>:
              </th>
              <td>
                {{vm.UIDDet.warehouseName}}
              </td>
              <th class="text-align-right">
                <a tabindex="-1" class="cm-text-decoration underline" ng-click="vm.goToUOMList();">UOM</a>:
              </th>
              <td>
                {{vm.UIDDet.uomName}}
              </td>
              <th class="text-align-right">
                Current Units:
              </th>
              <td>
                {{vm.UIDDet.uomClassID === vm.MEASUREMENT_TYPES_COUNT.ID ? (vm.UIDDet.pkgUnit) : (vm.UIDDet.pkgUnit |unit)}}
              </td>
              <th class="text-align-right">
                Initial Units:
              </th>
              <td>
                {{vm.UIDDet.uomClassID === vm.MEASUREMENT_TYPES_COUNT.ID ? (vm.UIDDet.orgPkgUnit) : (vm.UIDDet.orgPkgUnit |unit)}}
              </td>
              <th class="text-align-right" ng-if="vm.UIDDet.parentUID">
                <a tabindex="-1" class="cm-text-decoration underline" ng-click="vm.goToUMIDList();">{{vm.LabelConstant.UMIDManagement.ParentUMID}}</a>:
              </th>
              <td ng-if="vm.UIDDet.parentUID">
                <a tabindex="-1" class="cm-text-decoration underline" ng-click="vm.goToUMIDDetail(vm.UIDDet.parentUIDId);">{{vm.UIDDet.parentUID}}</a>
                <copy-text label="vm.LabelConstant.UMIDManagement.UMID" text="vm.UIDDet.parentUID"></copy-text>
              </td>
            </tr>

          </tbody>
        </table>

        <div data-split-pane class="cm-umid-history-split-pane-height" data-split-pane-properties="splitPaneFirstProperties">

          <div data-split-pane-component layout="column" data-height="50%" class="min-height-100">

            <div class="content-card" layout="column" flex ng-show="!vm.isNoDataFound">
              <md-card layout="column" class="margin-0" flex layout-align="space-between stretch">
                <ui-grid-extention layout="column" flex load-data="vm.loadData"
                                   grid-id="vm.gridConfig.gridUMIDHistory"
                                   grid-option="vm.gridOptions"
                                   header="vm.sourceHeader"
                                   grid-data="vm.sourceData"
                                   total-data-count="vm.totalSourceDataCount"
                                   reset-grid="vm.resetSourceGrid"
                                   selectted-rows="vm.selectedRowsList"
                                   paging-info="vm.pagingInfo"
                                   current-item="vm.currentdata"
                                   get-data-down="vm.getDataDown"
                                   empty-state="vm.emptyState"
                                   scroll-class="vm.UmidHistoryGridUI">
                </ui-grid-extention>
              </md-card>
            </div>

            <div class="empty-state text-center full-height" flex="100" layout="row" layout-align="center center" layout-wrap ng-if="vm.isNoDataFound">
              <div class="emty-icon" flex="100">
                <img ng-src="{{vm.EmptyMesssage.IMAGEURL}}" />
              </div>
              <p flex="100" class="empty-state-title">{{vm.EmptyMesssage.MESSAGE}}</p>
              <p flex="100">
                <md-button class="md-fab md-mini" aria-label="Refresh Packing Slip" ng-click="vm.loadData()">
                  <md-icon role="img" md-font-icon="icon-refresh" class="material-icons mat-icon icon-plus"></md-icon>
                  <md-tooltip md-direction="top">Refresh UMID History</md-tooltip>
                </md-button>
              </p>
            </div>

          </div>
          <div data-split-pane-divider data-height="5px"></div>
          <div data-split-pane-component data-height="50%" class="min-height-100">
            <div data-split-pane data-split-pane-properties="splitPaneSecondProperties">
              <div data-split-pane-component layout="column" data-width="70%" class="cm-min-width-100">

                <div class="content-card" layout="column" flex ng-show="!vm.isNoDataFoundKitAllocation">
                  <div class="padding-10" layout="column" flex >
                    <div class="cm-section-main" layout="column" flex >
                      <div class="cm-section-header">
                        <div flex="85" layout-align="start center" layout="row">
                          <h2>Kit History</h2>
                        </div>
                      </div>
                      <div class="cm-section-inner" layout="column" flex >
                        <md-card layout="column" class="margin-0" flex layout-align="space-between stretch">
                          <ui-grid-extention layout="column" flex load-data="vm.kitAllocationLoadData"
                                             grid-id="vm.gridConfig.gridKitAllocationHistory"
                                             grid-option="vm.kitAllocationGridOptions"
                                             header="vm.kitAllocationSourceHeader"
                                             grid-data="vm.kitAllocationSourceData"
                                             total-data-count="vm.totalKitAllocationSourceDataCount"
                                             reset-grid="vm.resetKitAllocationSourceGrid"
                                             selectted-rows="vm.kitAllocationSelectedRowsList"
                                             paging-info="vm.kitAllocationPagingInfo"
                                             current-item="vm.kitAllocationCurrentdata"
                                             get-data-down="vm.kitAllocationGetDataDown"
                                             empty-state="vm.emptyStateKitAllocation"
                                             scroll-class="vm.KITWOHistoryGridUI">
                          </ui-grid-extention>
                        </md-card>
                      </div>

                    </div>
                  </div>
                </div>

                <div class="empty-state text-center full-height" flex="100" layout="row" layout-align="center center" layout-wrap ng-if="vm.isNoDataFoundKitAllocation">
                  <div class="emty-icon" flex="100">
                    <img ng-src="{{vm.KitAllocationEmptyMesssage.IMAGEURL}}" />
                  </div>
                  <p flex="100" class="empty-state-title">{{vm.KitAllocationEmptyMesssage.MESSAGE}}</p>
                  <p flex="100">
                    <md-button class="md-fab md-mini" aria-label="Refresh Packing Slip" ng-click="vm.kitAllocationLoadData()">
                      <md-icon role="img" md-font-icon="icon-refresh" class="material-icons mat-icon icon-plus"></md-icon>
                      <md-tooltip md-direction="top">Refresh Kit History</md-tooltip>
                    </md-button>
                  </p>
                </div>

              </div>
              <div data-split-pane-divider data-width="5px"></div>
              <div data-split-pane-component layout="column" data-width="30%" class="cm-min-width-100">

                <div class="content-card" layout="column" flex ng-show="!vm.isNoDataFoundWO">
                  <div class="padding-10" layout="column" flex>
                    <div class="cm-section-main" layout="column" flex>
                      <div class="cm-section-header">
                        <div flex="85" layout-align="start center" layout="row">
                          <h2>Work Order History </h2>
                        </div>
                      </div>
                      <div class="cm-section-inner" layout="column" flex>
                        <md-card layout="column" class="margin-0" flex layout-align="space-between stretch">
                          <ui-grid-extention layout="column" flex load-data="vm.wOLoadData"
                                             grid-id="vm.gridConfig.gridWOHistory"
                                             grid-option="vm.wOGridOptions"
                                             header="vm.wOSourceHeader"
                                             grid-data="vm.wOSourceData"
                                             total-data-count="vm.totalWOSourceDataCount"
                                             reset-grid="vm.resetWOSourceGrid"
                                             selectted-rows="vm.wOSelectedRowsList"
                                             paging-info="vm.wOPagingInfo"
                                             current-item="vm.wOCurrentdata"
                                             get-data-down="vm.wOGetDataDown"
                                             empty-state="vm.emptyStateWO"
                                             scroll-class="vm.KITWOHistoryGridUI">
                          </ui-grid-extention>
                        </md-card>
                      </div>
                    </div>
                  </div>
                </div>

                <div class="empty-state text-center full-height" flex="100" layout="row" layout-align="center center" layout-wrap ng-if="vm.isNoDataFoundWO">
                  <div class="emty-icon" flex="100">
                    <img ng-src="{{vm.WOEmptyMesssage.IMAGEURL}}" />
                  </div>
                  <p flex="100" class="empty-state-title">{{vm.WOEmptyMesssage.MESSAGE}}</p>
                  <p flex="100">
                    <md-button class="md-fab md-mini" aria-label="Refresh Packing Slip" ng-click="vm.wOLoadData()">
                      <md-icon role="img" md-font-icon="icon-refresh" class="material-icons mat-icon icon-plus"></md-icon>
                      <md-tooltip md-direction="top">Refresh WO History</md-tooltip>
                    </md-button>
                  </p>
                </div>

              </div>
            </div>
          </div>

        </div>

      </md-content>
    </md-dialog-content>
    <md-dialog-actions layout="row">
      <md-button class="md-default md-raised" ng-click="vm.cancel()">Close</md-button>
    </md-dialog-actions>
  </form>
</md-dialog>
