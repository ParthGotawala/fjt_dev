<style>
  .main-split-pane-height {
    height: calc(100vh - 270px);
  }
</style>
<div id="maps" class="page-layout simple fullwidth tabbed doc-page breadcrumb-fixed cm-custom-label-common transfer-stock md-inline-form layout-column" cg-busy="{promise:vm.cgBusyLoading}">
  <form autocomplete="off" id="transferMaterialForm" name="vm.transferMaterialForm">
    <div class="header md-accent-bg layout-row layout-align-space-between-center flex-100 cm-transfer-stock-header">
      <div layout="row" flex="100">
        <div flex="20">
          <div class="white-fg layout-column layout-align-start-start">
            <div class="h2 layout-row layout-align-start-center">
              <pagetitle is-list="true" is-display-menu-name="true"></pagetitle>
            </div>
            <div class="layout-row layout-align-start-center">
              <breadcrumbs></breadcrumbs>
            </div>
          </div>
        </div>
        <div layout="column" flex="80">
          <div>
            <div class="layout-row layout-align-end-center transfer-material-type cm-desktop-transfer mr-10">
              <div class="transfer-material-legend" layout-align="center-center">
                <div layout="row" layout-align="start center">
                  <div class="legend-section movable-wh-bin"></div>
                  <label>Movable Warehouse/Bin</label>
                </div>
                <div layout="row" layout-align="start center">
                  <div class="legend-section permanent-wh-bin"></div>
                  <label>Permanent Warehouse/Bin</label>
                </div>
                <div layout="row" layout-align="start center">
                  <div class="legend-section mismatch-umid"></div>
                  <label>Mismatched UMID</label>
                </div>
              </div>
              <div>
                <md-radio-group name="status" ng-model="vm.filter.transferOption" class="margin-0 layout-row flex layout-align-start-start" ng-change="vm.changeTransferOption()">
                  <fieldset class="container-box margin-bottom-5">
                    <legend class="margin-0">Xfer Stock</legend>
                    <div class="margin-right-10 layout-row flex-100 layout-align-start-center">
                      <md-radio-button name="{{vm.TrasferStockType.StockTransfer}}" class="margin-left-10" value="{{vm.TrasferStockType.StockTransfer}}">&nbsp;Within Department</md-radio-button>
                      <md-radio-button name="{{vm.TrasferStockType.StockTransferToOtherDept}}" class="margin-left-10" value="{{vm.TrasferStockType.StockTransferToOtherDept}}">&nbsp;Department to Department</md-radio-button>
                    </div>
                  </fieldset>
                  <fieldset class="container-box margin-bottom-5 margin-left-5">
                    <legend class="margin-0">Xfer Kit</legend>
                    <div class="margin-right-10 layout-row flex-100 layout-align-start-center">
                      <md-radio-button name="{{vm.TrasferStockType.KitTransfer}}" class="margin-left-10" value="{{vm.TrasferStockType.KitTransfer}}">&nbsp;Within Department</md-radio-button>
                      <md-radio-button name="{{vm.TrasferStockType.DeptTransfer}}" class="margin-left-10" value="{{vm.TrasferStockType.DeptTransfer}}">&nbsp;Department to Department (Kit Release)</md-radio-button>
                    </div>
                  </fieldset>
                </md-radio-group>
              </div>
            </div>

            <div class="cm-rs-transfer">
              <md-menu>
                <md-button class="margin-0 width-25 md-primary smt-drag-drop-action-btn" ng-click="$mdOpenMenu()" md-menu-origin
                           md-menu-align-target aria-label="Options">
                  <md-icon md-font-icon="icon-dots-vertical" class="icon color-white"></md-icon>
                </md-button>
                <md-menu-content class="padding-0" width="3">
                  <md-menu-item layout="row" flex="100" class="cursor-pointer">
                    <div class="transfer-material-legend" layout-align="center-center">
                      <div layout="row" layout-align="start center">
                        <div class="legend-section movable-wh-bin"></div>
                        <label>Movable Warehouse/Bin</label>
                      </div>
                      <div layout="row" layout-align="start center">
                        <div class="legend-section permanent-wh-bin"></div>
                        <label>Permanent Warehouse/Bin</label>
                      </div>
                      <div layout="row" layout-align="start center">
                        <div class="legend-section mismatch-umid"></div>
                        <label>Mismatched UMID</label>
                      </div>
                    </div>
                    <div>
                      <md-radio-group name="status" ng-model="vm.filter.transferOption" class="margin-0 layout-row flex layout-align-start-start" ng-change="vm.changeTransferOption()">
                        <fieldset class="container-box margin-bottom-5">
                          <legend class="margin-0">Xfer Stock</legend>
                          <div class="margin-right-10 layout-row flex-100 layout-align-start-center">
                            <md-radio-button name="{{vm.TrasferStockType.StockTransfer}}" class="margin-left-10 cm-font-10-rs margin-pro-rs-left-0" value="{{vm.TrasferStockType.StockTransfer}}">&nbsp;Within Department</md-radio-button>
                            <md-radio-button name="{{vm.TrasferStockType.StockTransferToOtherDept}}" class="margin-left-10 cm-font-10-rs margin-pro-rs-left-0" value="{{vm.TrasferStockType.StockTransferToOtherDept}}">&nbsp;Department to Department</md-radio-button>
                          </div>
                        </fieldset>
                        <fieldset class="container-box margin-bottom-5 margin-left-5">
                          <legend class="margin-0">Xfer Kit</legend>
                          <div class="margin-right-10 layout-row flex-100 layout-align-start-center">
                            <md-radio-button name="{{vm.TrasferStockType.KitTransfer}}" class="margin-left-10 cm-font-10-rs margin-pro-rs-left-0" value="{{vm.TrasferStockType.KitTransfer}}">&nbsp;Within Department</md-radio-button>
                            <md-radio-button name="{{vm.TrasferStockType.DeptTransfer}}" class="margin-left-10 cm-font-10-rs margin-pro-rs-left-0" value="{{vm.TrasferStockType.DeptTransfer}}">&nbsp;Department to Department (Kit Release)</md-radio-button>
                          </div>
                        </fieldset>
                      </md-radio-group>
                    </div>
                  </md-menu-item>
                </md-menu-content>
              </md-menu>
            </div>
          </div>
          <div class="layout-row layout-align-end-center mr-10">
            <md-button class="md-primary md-raised md-ink-ripple mv-0" ng-click="vm.uidTranfer($event, null,false)">{{vm.LabelConstant.UMIDManagement.TransferMaterial}}</md-button>
            <md-button class="md-primary md-raised md-ink-ripple mv-0" ng-click="vm.binTransfer()">Xfer Bin</md-button>
            <md-button class="md-primary md-raised md-ink-ripple mv-0 mr-0" ng-click="vm.uidTranfer($event, null, true)">Count Material</md-button>
          </div>
        </div>
      </div>

    </div>

    <div class="content-card padding-top-side cm-transfer-stock-top-padding layout-row flex-100 layout-wrap layout-align-start-start">
      <div class="padding-10 flex-100">

        <div class="layout-row flex-100">

          <md-card class="layout-row flex ml-0 cm-section-main layout-wrap">
            <div class="cm-section-header flex-100 layout-row layout-align-space-between-center">
              <h2>From</h2>
            </div>
            <div class="transfer-stock-content cm-section-inner flex-100 layout-row layout-wrap">

              <!--Transfer From Filter Section-->
              <div class="margin-5 stock-filter cm-section-main flex-100 layout-row layout-wrap">
                <div class="flex-100 layout-row">
                  <div class="cm-section-inner flex-100">
                    <table cellspacing="0" cellpadding="0" class="cm-table-input-main cm-rs-table">
                      <tbody>
                        <tr>
                          <th ng-if="vm.filter.transferOption === vm.TrasferStockType.StockTransfer || vm.filter.transferOption === vm.TrasferStockType.StockTransferToOtherDept">
                            <p class="label-container">
                              <a tabindex="-1" class="cm-text-decoration underline" ng-click="vm.goToWHList();">{{vm.LabelConstant.TransferStock.WH}}</a><scan-or-enter></scan-or-enter><span>&nbsp;</span>
                            </p>
                          </th>
                          <td ng-if="vm.filter.transferOption === vm.TrasferStockType.StockTransfer || vm.filter.transferOption === vm.TrasferStockType.StockTransferToOtherDept">
                            <md-input-container flex="100" class="margin-bottom-0" md-no-float>
                              <input type="text" name="SearchWarehouse" id="SearchWarehouse" capitalize placeholder="{{vm.LabelConstant.ScanOREnter.ScanWarehouse}}" ng-model="vm.scanAndSearch.SearchWarehouse" ng-keypress="vm.scanGlobalSearchWarehouse($event)">
                            </md-input-container>
                          </td>
                          <th ng-if="vm.filter.transferOption === vm.TrasferStockType.KitTransfer || vm.filter.transferOption === vm.TrasferStockType.DeptTransfer">
                            <p class="label-container">
                              <a tabindex="-1" class="cm-text-decoration underline" ng-click="vm.goToKitDataList();">{{vm.LabelConstant.TransferStock.Kit}}</a><span>&nbsp;</span>
                            </p>
                          </th>
                          <td ng-if="vm.filter.transferOption === vm.TrasferStockType.KitTransfer || vm.filter.transferOption === vm.TrasferStockType.DeptTransfer">
                            <md-input-container ng-if="vm.autoCompleteSearchKit" class="autocompletecustom margin-bottom-0 flex-100">
                              <custom-auto-complete-search class="min-width-initial"
                                                           column-name="vm.autoCompleteSearchKit.columnName"
                                                           key-column-name="vm.autoCompleteSearchKit.keyColumnName"
                                                           input-name="vm.autoCompleteSearchKit.inputName"
                                                           placeholder-name="vm.autoCompleteSearchKit.placeholderName"
                                                           key-column-id="vm.autoCompleteSearchKit.keyColumnId"
                                                           is-required="vm.autoCompleteSearchKit.isRequired"
                                                           is-disabled="false"
                                                           is-addnew="vm.autoCompleteSearchKit.isAddnew"
                                                           callback-fn="vm.autoCompleteSearchKit.callbackFn"
                                                           on-select-callback-fn="vm.autoCompleteSearchKit.onSelectCallbackFn"
                                                           on-search-fn="vm.autoCompleteSearchKit.onSearchFn">
                              </custom-auto-complete-search>
                            </md-input-container>
                          </td>
                          <th><p class="label-container"><a tabindex="-1" class="cm-text-decoration underline" ng-click="vm.goToBinList();">{{vm.LabelConstant.TransferStock.Bin}}</a><span>&nbsp;</span><scan-or-enter></scan-or-enter></p></th>
                          <td>
                            <md-input-container flex="100" class="margin-bottom-0" md-no-float>
                              <input type="text" name="SearchBin" id="SearchBin" capitalize placeholder="{{vm.LabelConstant.ScanOREnter.ScanBin}}" ng-model="vm.scanAndSearch.SearchBin" ng-keypress="vm.scanGlobalSearchBin($event)">
                            </md-input-container>
                          </td>
                          <th><p class="label-container"><a tabindex="-1" class="cm-text-decoration underline" ng-click="vm.goToUMIDList();">{{vm.LabelConstant.TransferStock.UMID}}</a><span>&nbsp;</span><scan-or-enter></scan-or-enter></p></th>
                          <td>
                            <md-input-container flex="100" class="margin-bottom-0" md-no-float>
                              <input type="text" name="SearchUMID" id="SearchUMID" capitalize placeholder="{{vm.LabelConstant.ScanOREnter.ScanUMID}}" ng-model="vm.scanAndSearch.SearchUMID" ng-keypress="vm.scanGlobalSearchUMID($event)">
                            </md-input-container>
                          </td>
                        </tr>
                      </tbody>
                    </table>
                  </div>
                </div>

                <div class="layout-row flex-100">
                  <div class="cm-section-inner flex-100">
                    <table cellspacing="0" cellpadding="0" class="cm-table-input-main cm-rs-table">
                      <tbody>
                        <tr>
                          <th><p class="label-container"><a tabindex="-1" class="cm-text-decoration underline" ng-click="vm.goToWHList();">{{vm.LabelConstant.TransferStock.ParentWH}}</a><span>&nbsp;*</span></p></th>
                          <td colspan="5">
                            <md-input-container ng-if="vm.autoCompleteFromDept" class="autocompletecustom margin-bottom-0 flex-100" custom-auto-focus="true">
                              <custom-auto-complete datalist="vm.fromDeptList"
                                                    column-name="vm.autoCompleteFromDept.columnName"
                                                    key-column-name="vm.autoCompleteFromDept.keyColumnName"
                                                    input-name="vm.autoCompleteFromDept.inputName"
                                                    placeholder-name="vm.autoCompleteFromDept.placeholderName"
                                                    key-column-id="vm.autoCompleteFromDept.keyColumnId"
                                                    is-required="vm.autoCompleteFromDept.isRequired"
                                                    is-disabled="vm.isDisable"
                                                    is-addnew="vm.autoCompleteFromDept.isAddnew"
                                                    callback-fn="vm.autoCompleteFromDept.callbackFn"
                                                    on-select-callback-fn="vm.autoCompleteFromDept.onSelectCallbackFn">
                              </custom-auto-complete>
                            </md-input-container>
                          </td>
                          <td class="text-right">
                            <md-button class="md-primary md-raised md-mini margin-0 mt-rs-10" ng-click="vm.resetGlobalSearch()">
                              Clear Filter
                            </md-button>
                          </td>
                        </tr>
                        <tr ng-if="(vm.filter.transferOption === vm.TrasferStockType.KitTransfer || vm.filter.transferOption === vm.TrasferStockType.DeptTransfer) && (vm.selectedDetail && vm.selectedDetail.Dept && vm.selectedDetail.Dept.transferFrom)">
                          <th></th>
                          <td>
                            <table cellspacing="0" cellpadding="0" class="cm-table-input-main cm-rs-table">
                              <tbody>
                                <tr ng-if="vm.selectedDetail && vm.selectedDetail.Dept && vm.selectedDetail.Dept.transferFrom && vm.selectedDetail.Dept.transferFrom.parentWHType === vm.parentWarehouseType.MaterialDepartment">
                                  <td><md-checkbox ng-model="vm.kitFilter.transferFrom.isCheckMRP" ng-change="vm.changeKitCheckBoxFilter('TransferFrom')" class="margin-bottom-5imp margin-top-5imp mv-0">{{vm.kitReleaseStatus[2].value}}</md-checkbox></td>
                                  <td><md-checkbox ng-model="vm.kitFilter.transferFrom.isCheckMWS" ng-change="vm.changeKitCheckBoxFilter('TransferFrom')" class="margin-bottom-5imp margin-top-5imp mv-0">With Shortage</md-checkbox></td>
                                  <td><md-checkbox ng-model="vm.kitFilter.transferFrom.isCheckMRR" ng-change="vm.changeKitCheckBoxFilter('TransferFrom')" class="margin-bottom-5imp margin-top-5imp mv-0">{{vm.kitReleaseStatus[1].value}}</md-checkbox></td>
                                  <td><md-checkbox ng-model="vm.kitFilter.transferFrom.isCheckMRE" ng-change="vm.changeKitCheckBoxFilter('TransferFrom')" class="margin-bottom-5imp margin-top-5imp mv-0">{{vm.kitReleaseStatus[4].value}}</md-checkbox></td>
                                </tr>
                                <tr ng-if="vm.selectedDetail && vm.selectedDetail.Dept && vm.selectedDetail.Dept.transferFrom && vm.selectedDetail.Dept.transferFrom.parentWHType === vm.parentWarehouseType.ProductionDepartment">
                                  <td><md-checkbox ng-model="vm.kitFilter.transferFrom.isCheckPRE" ng-change="vm.changeKitCheckBoxFilter('TransferFrom')" class="margin-bottom-5imp margin-top-5imp mv-0">{{vm.kitReleaseStatus[4].value}}</md-checkbox></td>
                                  <td><md-checkbox ng-model="vm.kitFilter.transferFrom.isCheckPPR" ng-change="vm.changeKitCheckBoxFilter('TransferFrom')" class="margin-bottom-5imp margin-top-5imp mv-0">{{vm.kitReleaseStatus[3].value}}</md-checkbox></td>
                                  <td><md-checkbox ng-model="vm.kitFilter.transferFrom.isCheckPNR" ng-change="vm.changeKitCheckBoxFilter('TransferFrom')" class="margin-bottom-5imp margin-top-5imp mv-0">{{vm.kitReleaseStatus[2].value}}</md-checkbox></td>
                                </tr>
                              </tbody>
                            </table>
                          </td>
                        </tr>
                      </tbody>
                    </table>
                  </div>
                </div>

              </div>
              <!--End Transfer From Filter Section-->
              <!--Transfer From Kit Section-->
              <div class="cm-section-main margin-5 warehouse-section-main flex-100 layout-row layout-wrap" ng-if="vm.filter.transferOption === vm.TrasferStockType.KitTransfer || vm.filter.transferOption === vm.TrasferStockType.DeptTransfer">
                <div class="cm-section-header flex-100 layout-row">
                  <h2><a tabindex="-1" class="cm-text-decoration underline" ng-click="vm.goToKitDataList();">{{vm.LabelConstant.TransferStock.Kit}}</a>&nbsp;<span ng-if="vm.selectedDetail.Dept.transferFrom && !vm.showFromKitFilterEmptyState">&nbsp;<b ng-if="vm.selectedDetail.Kit.transferFrom.name">[{{vm.selectedDetail.Kit.transferFrom.name}}]</b>&nbsp;({{vm.selectedDetail.Dept.transferFrom.Name}})</span></h2>
                  <div flex="35" layout="row" layout-align="end center" class="cm-ml-auto">
                    <md-input-container ng-if="vm.autoCompleteInternalFromKitSearch" class="autocompletecustom margin-bottom-0 flex-100">
                      <custom-auto-complete-search class="min-width-initial"
                                                   column-name="vm.autoCompleteInternalFromKitSearch.columnName"
                                                   key-column-name="vm.autoCompleteInternalFromKitSearch.keyColumnName"
                                                   input-name="vm.autoCompleteInternalFromKitSearch.inputName"
                                                   placeholder-name="vm.autoCompleteInternalFromKitSearch.placeholderName"
                                                   key-column-id="vm.autoCompleteInternalFromKitSearch.keyColumnId"
                                                   is-required="vm.autoCompleteInternalFromKitSearch.isRequired"
                                                   is-disabled="!vm.autoCompleteFromDept.keyColumnId"
                                                   is-addnew="vm.autoCompleteInternalFromKitSearch.isAddnew"
                                                   on-select-callback-fn="vm.autoCompleteInternalFromKitSearch.onSelectCallbackFn"
                                                   on-search-fn="vm.autoCompleteInternalFromKitSearch.onSearchFn">
                      </custom-auto-complete-search>
                    </md-input-container>
                  </div>
                  <md-button class="md-icon-button md-primary md-mini margin-0" ng-click="vm.resetKitSearch('transferFrom')" ng-disabled="!vm.autoCompleteFromDept.keyColumnId">
                    <md-icon md-font-icon="icon-refresh" class="material-icons mat-icon"></md-icon>
                    <md-tooltip>Refresh</md-tooltip>
                  </md-button>
                </div>
                <div id="containerInfiniteScrollKitTransferFrom" class="cm-section-inner warehouse-section flex-100 layout-row layout-wrap">
                  <div class="layout-wrap layout flex"
                       infinite-scroll="vm.scrollKit('transferFrom')"
                       infinite-scroll-distance="1"
                       infinite-scroll-container='"#containerInfiniteScrollKitTransferFrom"'>
                    <div class="flex-100 layout-column flex-sm-100 flex-md-100 flex-lg-100 flex-gt-lg-100 mb-5" ng-repeat="kitItem in vm.kitList.transferFrom track by $index" ng-hide="vm.showFromKitFilterEmptyState">
                      <div ui-sortable="vm.sortableOptions" class="apps-container transfer-stock-item  cm-kit-section" ng-class="{'drag-permanent':kitItem.isPermanent, 'drag-not-allow': vm.filter.transferOption !== vm.TrasferStockType.DeptTransfer}" ng-model="kitItem.countDetail" data-attr="{{kitItem.id}}">
                        <div ng-repeat="item in kitItem.countDetail track by $index" class="drag-content" ng-class="{'active': kitItem.isSelected,'permanent':item.isPermanent}" ng-click="vm.selectDropableKit(kitItem,'transferFrom')">
                          <div ng-class="{'myHandle': vm.filter.transferOption === vm.TrasferStockType.DeptTransfer }">
                            <div class="content-header layout-row layout-align-space-between-center">
                              <span class="flex-100" layout="row" layout-align="space-between center">
                                <span>
                                  <copy-text ng-if="kitItem.name" label="" text="kitItem.name"></copy-text>
                                  <a tabindex="-1" class="cm-text-decoration underline" ng-click="vm.goToKitList($event, item.refSalesOrderDetID,item.assyID);">{{kitItem.name}}</a>
                                </span>
                                <span>Kit#: {{kitItem.kitNumber}}</span>
                              </span>
                              <div class="layout-row layout-align-end-center mr-10">
                                <md-menu class="section-context-menu" ng-if="vm.filter.transferOption !== vm.TrasferStockType.KitTransfer">
                                  <md-button class="md-icon-button" ng-click="vm.OpenMenu($event,$mdOpenMenu)"
                                             aria-label="more">
                                    <md-icon md-font-icon="icon-dots-vertical"></md-icon>
                                  </md-button>
                                  <md-menu-content class="section-context-menu-content">
                                    <md-menu-item ng-if="vm.selectedDetail && vm.selectedDetail.Dept && vm.selectedDetail.Dept.transferFrom && vm.selectedDetail.Dept.transferFrom.parentWHType === vm.parentWarehouseType.ProductionDepartment">
                                      <md-button ng-click="vm.transferKitToDept(item)" aria-label="Transfer" ng-disabled="!item.binCount">Transfer</md-button>
                                    </md-menu-item>
                                    <md-menu-item ng-if="vm.selectedDetail && vm.selectedDetail.Dept && vm.selectedDetail.Dept.transferFrom && vm.selectedDetail.Dept.transferFrom.parentWHType === vm.parentWarehouseType.MaterialDepartment">
                                      <md-button aria-label="Transfer" ng-click="vm.kitRelease(kitItem)" ng-disabled="!item.binCount">Release Kit</md-button>
                                    </md-menu-item>
                                  </md-menu-content>
                                </md-menu>
                              </div>
                            </div>
                            <div class="content-body" layout="row" flex="100" layout-align="space-between start" layout-wrap>
                              <table cellspacing="0" cellpadding="0">

                                <tr>
                                  <th class="text-right">Assy ID:</th>
                                  <td colspan="2">{{item.assyMainPIDCode}}</td>
                                  <th class="text-right">PO Date:</th>
                                  <td>{{item.poDate | date: vm.DefaultDateFormat}}</td>
                                  <th class="text-right">Total Planned Release:</th>
                                  <td><a ng-click="vm.kitRelease(kitItem)">{{item.totalKitPlan}}</a></td>
                                  <td rowspan="6">
                                    <div layout="column" flex="100" layout-wrap layout-align="start end">
                                      <div flex="100" layout="row" layout-align="end center">
                                        <img ng-src="{{item.hotJobIcon}}" class="hot-job-icon ml-5" ng-if="item.isHotJob" />
                                        <md-button class="line-height-normal md-raised md-mini float-right md-mini grid-button md-icon-button bdrbtn kit-status text-left" ng-click="vm.goToKitList($event, item.refSalesOrderDetID,item.assyID);">
                                          <div class="cm-quote-progress" style="width:{{item.kitPercentage + '%'}}"></div>
                                          <span class="relative" style="margin-left:5px !important;">
                                            <span class="underline cursor-pointer">A-{{item.kitPercentage}}%</span>
                                          </span>
                                          <md-tooltip md-direction="top">Kit Allocation % (Component)</md-tooltip>
                                        </md-button>
                                      </div>
                                      <div flex="100" layout="row" layout-align="end center" class="mt-5">
                                        <span>
                                          <img ng-src="{{item.alertIcon}}" class="hot-job-icon ml-5" ng-if="item.nextReleasePlan.kitReleaseIndicator" />
                                          <md-tooltip md-direction="top" class="tooltip-multiline" ng-if="item.nextReleasePlan.kitReleaseIndicator">{{item.nextReleasePlan.kitReleaseIndicator}}</md-tooltip>
                                        </span>
                                        <md-button class="line-height-normal md-raised md-mini float-right md-mini grid-button md-icon-button bdrbtn kit-status text-left" ng-click="vm.goToKitList($event, item.refSalesOrderDetID,item.assyID);">
                                          <div class="cm-quote-progress" style="width:{{(item.nextReleasePlan.kitPlanPercentage || 0) + '%'}}"></div>
                                          <span class="relative" style="margin-left:5px !important;">
                                            <span class="underline cursor-pointer">A-{{item.nextReleasePlan.kitPlanPercentage || 0}}%</span>
                                          </span>
                                          <md-tooltip md-direction="top" ng-if="item.deptType === vm.parentWarehouseType.MaterialDepartment">Kit Allocation % ({{vm.LabelConstant.TransferStock.NextPlannedRelease}})</md-tooltip>
                                          <md-tooltip md-direction="top" ng-if="item.deptType === vm.parentWarehouseType.ProductionDepartment">Kit Allocation % (Up To {{vm.LabelConstant.TransferStock.LastPlannedRelease}})</md-tooltip>
                                        </md-button>
                                      </div>
                                      <div flex="100" class="text-right mt-5">
                                        <label class="label-box cursor-pointer" ng-class="{'light-green-bg': item.kitReleaseStatus === vm.Kit_Release_Status.ReadyToRelease, 'label-warning': item.kitReleaseStatus === vm.Kit_Release_Status.NotReleased, 'label-info': item.kitReleaseStatus === vm.Kit_Release_Status.PartiallyReleased, 'label-success': item.kitReleaseStatus === vm.Kit_Release_Status.FullReleased, 'label-primary': item.kitReleaseStatus === vm.Kit_Release_Status.Returned}" title="Release Status">
                                          {{item.kitReleaseStatus}}
                                        </label>
                                      </div>
                                      <div flex="100" class="text-right mt-5">
                                        <label class="label-box cursor-pointer" ng-class="{'label-warning':item.salesOrderDetailCompleteStatus ===  vm.SOWorkingStatus.InProgress,'label-success':item.salesOrderDetailCompleteStatus  ===  vm.SOWorkingStatus.Completed ,'label-danger' :item.salesOrderDetailCompleteStatus ===  vm.SOWorkingStatus.Canceled }" title="SO Working Status">
                                          {{item.salesOrderDetailCompleteStatus}}
                                        </label>
                                      </div>
                                      <div flex="100" class="text-right mt-5">
                                        <span>
                                          <img class="wo-stop-image wo-stop-image-margin" src="assets/images/logos/stopped.png" ng-if="item.kitHalt">
                                          <md-tooltip md-direction="top" class="tooltip-multiline" ng-if="item.kitHalt">
                                            <ng-bind-html ng-bind-html="item.kitHalt"></ng-bind-html>
                                          </md-tooltip>
                                        </span>
                                      </div>
                                    </div>
                                  </td>
                                </tr>

                                <tr>
                                  <th class="text-right">PO#:</th>
                                  <td>{{item.poNumber}}</td>
                                  <td rowspan="2">
                                    <span>
                                      <img class="wo-stop-image wo-stop-image-margin" src="assets/images/logos/stopped.png" ng-if="item.poHalt">
                                      <md-tooltip md-direction="top" class="tooltip-multiline" ng-if="item.poHalt">{{item.poHalt}}</md-tooltip>
                                    </span>
                                  </td>
                                  <th class="text-right">PO Qty:</th>
                                  <td>{{item.poQty}}</td>
                                  <th class="text-right">Released Count:</th>
                                  <td>{{item.totalKitReleasePlan}}</td>
                                </tr>

                                <tr>
                                  <th class="text-right">SO#:</th>
                                  <td>{{item.salesOrderNumber}}</td>
                                  <th class="text-right">Shortage Lines</th>
                                  <td><a ng-click="vm.checkFeasibility(kitItem)">{{item.shortageLines}}/{{item.totalLines}}</a> (per assy.)</td>
                                  <th class="text-right" ng-if="item.deptType === vm.parentWarehouseType.MaterialDepartment">{{vm.LabelConstant.TransferStock.NextPlannedRelease}}#:</th>
                                  <th class="text-right" ng-if="item.deptType === vm.parentWarehouseType.ProductionDepartment">{{vm.LabelConstant.TransferStock.LastPlannedRelease}}#:</th>
                                  <td>{{item.nextReleasePlan.plannKitNumber || '-'}}</td>
                                </tr>

                                <tr>
                                  <th class="text-right">Sub Assy ID:</th>
                                  <td colspan="2">{{item.assySubPIDCode || '-'}}</td>
                                  <th class="text-right">Feasibility:</th>
                                  <td>{{item.kitBuildFeasibility}}</td>
                                  <th class="text-right">Promised Ship Qty From PO:</th>
                                  <td>{{item.nextReleasePlan.poQty}}</td>
                                </tr>

                                <tr>
                                  <th class="text-right">Total Bin:</th>
                                  <td colspan="2">{{item.binCount || 0}}</td>
                                  <th class="text-right">Mismatched Items:</th>
                                  <td><span ng-if="item.nextReleasePlan.mismatchItem"><a ng-click="vm.kitReleaseMismatchDetail(kitItem, null, null, null)">{{item.nextReleasePlan.mismatchItem || '-'}}</a></span><span ng-if="!item.nextReleasePlan.mismatchItem">-</span></td>
                                  <th class="text-right">Planned Kit & Planned Build Qty:</th>
                                  <td>{{item.nextReleasePlan.kitReleaseQty}}</td>
                                </tr>

                                <tr>
                                  <th class="text-right">Allocated UMID:</th>
                                  <td colspan="2">{{item.uidCount || 0}}</td>
                                  <th class="text-right">Mismatched Bins:</th>
                                  <td>{{item.mismatchUMIDBin || 0}}</td>
                                  <th class="text-right">Promised Ship Date:</th>
                                  <td>{{item.nextReleasePlan.poDueDate | date: vm.DefaultDateFormat }}</td>
                                </tr>

                                <tr>
                                  <th class="text-right">Work Order:</th>
                                  <td colspan="2">{{item.workorderNumber || '-'}}</td>
                                  <th class="text-right"></th>
                                  <td></td>
                                  <th class="text-right" ng-if="item.deptType === vm.parentWarehouseType.MaterialDepartment">{{vm.LabelConstant.SalesOrder.KitReleaseDate}}:</th>
                                  <td ng-class="{'red': item.nextReleasePlan.kitReleasedPassedDays}" colspan="2" ng-if="item.deptType === vm.parentWarehouseType.MaterialDepartment">{{item.nextReleasePlan.kitReleaseDate | date: vm.DefaultDateFormat}} <span ng-if="item.nextReleasePlan.kitReleasedPassedDays">({{item.nextReleasePlan.kitReleasedPassedDays}} Days Passed Due)</span></td>
                                  <th class="text-right" ng-if="item.deptType === vm.parentWarehouseType.ProductionDepartment">{{vm.LabelConstant.TransferStock.ActualPlannedKitReleaseDate}}:</th>
                                  <td colspan="2" ng-if="item.deptType === vm.parentWarehouseType.ProductionDepartment">{{item.nextReleasePlan.actualKitReleaseDate | date: vm.DefaultDateFormat}}</td>
                                </tr>

                              </table>
                              <div class="cm-do-not-drag" ng-if="vm.filter.transferOption !== vm.TrasferStockType.DeptTransfer">
                                <span>{{vm.LabelConstant.TransferStock.CanNotDrag}}</span>
                              </div>
                            </div>
                          </div>
                        </div>
                        <div class="transfer-on-tooltip" ng-if="vm.filter.transferOption === vm.TrasferStockType.KitTransfer">
                          <span>{{vm.transferStockMessages.KIT_TRANSFER_NOT_ALLOW}}</span>
                        </div>
                      </div>
                    </div>
                    <div ng-if="vm.kitList.transferFrom.length === 0" class="stock-empty-state layout-row flex-100 layout-align-center-center">

                      <div ng-if="vm.autoCompleteFromDept.keyColumnId && !vm.uidFilter['transferFrom'].searchUIDId && !vm.uidFilter['transferFrom'].globalSearchUIDString && !vm.binFilter['transferFrom'].searchBinId && !vm.binFilter['transferFrom'].globalSearchBinString && !vm.warehouseFilter['transferFrom'].searchWHId && !vm.warehouseFilter['transferFrom'].globalSearchWHString">
                        {{vm.transferStockMessages.EMPTY_DEPARTMENT}}
                      </div>
                      <div ng-if="vm.autoCompleteFromDept.keyColumnId && (vm.uidFilter['transferFrom'].globalSearchUIDString || vm.binFilter['transferFrom'].globalSearchBinString || vm.warehouseFilter['transferFrom'].globalSearchWHString)">
                        <div class="emty-icon">
                          <img ng-src="{{vm.emptySearch.IMAGEURL}}" />
                        </div>
                        <div>{{vm.emptySearch.MESSAGE}}</div>
                      </div>
                      <div ng-if="!vm.autoCompleteFromDept.keyColumnId">{{vm.transferStockMessages.SELECT_DEPARTMENT}}</div>

                    </div>
                    <div ng-if="vm.kitList.transferFrom.length > 0" class="stock-empty-state flex-100 layout-row layout-align-center-center">
                      <div ng-if="vm.autoCompleteFromDept.keyColumnId && vm.showFromKitFilterEmptyState">
                        <div class="emty-icon">
                          <img ng-src="{{vm.emptySearch.IMAGEURL}}" />
                        </div>
                        <div>{{vm.emptySearch.MESSAGE}}</div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              <!--End Transfer From Kit Section-->
              <!--Transfer From Warehouse Section-->
              <div class="cm-section-main margin-5 warehouse-section-main flex-100 layout-row layout-wrap">
                <div class="cm-section-header flex-100 layout-row">
                  <h2><a tabindex="-1" class="cm-text-decoration underline" ng-click="vm.goToWHList();">{{vm.LabelConstant.TransferStock.WH}}</a>&nbsp;<span ng-if="vm.selectedDetail.Dept.transferFrom && (vm.filter.transferOption === vm.TrasferStockType.StockTransfer || vm.filter.transferOption === vm.TrasferStockType.StockTransferToOtherDept)">({{vm.selectedDetail.Dept.transferFrom.Name}})</span></h2>
                  <div flex="35" layout="row" layout-align="end center" class="cm-ml-auto">
                    <md-input-container class="margin-bottom-0 flex-90 pos-rel cm-location-bin-text" md-no-float>
                      <input type="text" name="InternalFromWHSearch" id="InternalFromWHSearch" ng-model="vm.scanAndSearch.InternalFromWHSearch" ng-keypress="vm.scanInternalFromSearchWarehouse($event)"
                             ng-disabled="!vm.autoCompleteFromDept.keyColumnId || ((vm.filter.transferOption === vm.TrasferStockType.KitTransfer || vm.filter.transferOption === vm.TrasferStockType.DeptTransfer) && vm.kitList.transferFrom.length === 0)" capitalize placeholder="{{vm.LabelConstant.ScanOREnter.ScanWarehouse}}" class="white-bg">
                    </md-input-container>
                    <md-button class="md-icon-button md-primary md-mini cm-btn-clear margin-0" ng-click="vm.resetWHSearch('transferFrom','InternalFromWHSearch')" ng-disabled="!vm.autoCompleteFromDept.keyColumnId">
                      <md-icon md-font-icon="icon-close" class="material-icons mat-icon"></md-icon>
                      <md-tooltip>Clear Filter</md-tooltip>
                    </md-button>
                  </div>
                  <md-button class="md-icon-button md-primary md-mini margin-0" ng-click="vm.resetWHSearch('transferFrom','InternalFromWHSearch')" ng-disabled="!vm.autoCompleteFromDept.keyColumnId">
                    <md-icon md-font-icon="icon-refresh" class="material-icons mat-icon"></md-icon>
                    <md-tooltip>Refresh</md-tooltip>
                  </md-button>
                </div>
                <div id="containerInfiniteScrollWarehouseTransferFrom" class="cm-section-inner warehouse-section flex-100 layout-row layout-wrap">
                  <div class="layout-wrap layout flex"
                       infinite-scroll="vm.scrollWarehouse('transferFrom')"
                       infinite-scroll-distance="1"
                       infinite-scroll-container='"#containerInfiniteScrollWarehouseTransferFrom"'>
                    <div ng-repeat="whItem in vm.warehouseList.transferFrom track by $index" class="layout-column flex-sm-100 flex-md-100 flex-lg-100 flex-gt-lg-50" ng-hide="vm.showFromKitFilterEmptyState">
                      <div ui-sortable="vm.sortableOptions" class="apps-container transfer-stock-item" ng-model="whItem.countDetail" data-attr="{{whItem.id}}">
                        <!--ng-class="{'drag-permanent':whItem.isPermanent}"-->
                        <div ng-repeat="item in whItem.countDetail track by $index" class="drag-content" ng-class="{'active': whItem.isSelected,'permanent':item.isPermanent}" ng-click="vm.selectDropableWarehouse(whItem,'transferFrom')">
                          <div ng-class="{ 'myHandle': !(((vm.filter.transferOption === vm.TrasferStockType.StockTransfer || vm.filter.transferOption === vm.TrasferStockType.KitTransfer) && !item.allMovableBin) || ((vm.filter.transferOption === vm.TrasferStockType.StockTransferToOtherDept || vm.filter.transferOption === vm.TrasferStockType.DeptTransfer) && item.isPermanent && !item.allMovableBin)) }">
                            <!--ng-class="{'myHandle': !item.isPermanent }"-->
                            <div class="content-header layout-row layout-align-space-between-center">
                              <span flex-lg="75" flex-gt-lg="65" flex-sm="75" flex-md="75" class="cm-warehouse-bin cm-wh-title"><a style="-webkit-box-orient: vertical;" tabindex="-1" class="cm-text-decoration underline cm-text-indent" ng-click="vm.goToUMIDList($event, item.id);">{{item.isPermanent?'FWH':'MWH'}}: {{whItem.name}}<md-tooltip>{{item.isPermanent?'FWH':'MWH'}}: {{whItem.name}}</md-tooltip></a><copy-text ng-if="whItem.name" label="" text="whItem.name"></copy-text></span>
                              <div class="cm-cart-section" flex-lg="20" flex-gt-lg="30" flex-sm="20" flex-md="20">
                                <label class="margin-2 label-box" ng-class="{'label-box-shelving': whItem.warehouseType === vm.warehouseType.ShelvingCart.key, 'label-box-smart': whItem.warehouseType === vm.warehouseType.SmartCart.key, 'label-box-eqp': whItem.warehouseType === vm.warehouseType.Equipment.key}">
                                  {{whItem.warehouseTypeValue}}
                                </label>
                              </div>

                              <div class="layout-row layout-align-center-center" flex-lg="5" flex-gt-lg="5" flex-sm="5" flex-md="5">
                                <md-menu class="section-context-menu">
                                  <md-button class="md-icon-button" ng-click="vm.OpenMenu($event,$mdOpenMenu)"
                                             aria-label="more">
                                    <md-icon md-font-icon="icon-dots-vertical"></md-icon>
                                  </md-button>
                                  <md-menu-content class="section-context-menu-content">
                                    <md-menu-item ng-if="vm.filter.transferOption === vm.TrasferStockType.StockTransfer || vm.filter.transferOption === vm.TrasferStockType.StockTransferToOtherDept">
                                      <md-button ng-click="vm.inactiveWH(item)" aria-label="Inactive" ng-disabled="item.binCount > 0">Deactive WH</md-button>
                                    </md-menu-item>
                                    <md-menu-item ng-if="vm.filter.transferOption === vm.TrasferStockType.StockTransferToOtherDept || vm.filter.transferOption === vm.TrasferStockType.DeptTransfer">
                                      <md-button ng-click="vm.transferWHToDept(item)" aria-label="Transfer" ng-disabled="item.isPermanent">WH to Department Transfer</md-button>
                                    </md-menu-item>
                                    <md-menu-item>
                                      <md-button ng-click="vm.transferWHToWH(item)" aria-label="Transfer" ng-disabled="item.binCount === 0 || item.allMovableBin === 0 || ((vm.filter.transferOption === vm.TrasferStockType.StockTransferToOtherDept || vm.filter.transferOption === vm.TrasferStockType.DeptTransfer) && !vm.enableWHToWHTransfer)">WH to WH Transfer</md-button>
                                    </md-menu-item>
                                    <md-menu-item>
                                      <md-button ng-click="vm.warehouseHistory(item)" aria-label="History">History</md-button>
                                    </md-menu-item>
                                  </md-menu-content>
                                </md-menu>
                              </div>
                            </div>
                            <div class="content-body">
                              <table cellspacing="0" cellpadding="0" class="cm-table-transfer">
                                <tr>
                                  <th>Total Bin:</th>
                                  <td>{{item.binCount || 'None'}}</td>
                                  <th>Total UMID:</th>
                                  <td>{{item.uidCount || 'None'}}</td>
                                </tr>
                                <tr>
                                  <th class="width-33p">{{vm.LabelConstant.UMIDManagement.UMIDPendingParts}}:</th>
                                  <td><a tabindex="-1" class="underline" ng-if="item.umidPendingParts > 0" ng-click="vm.goToNonUMIDStockList($event,item.id);">{{item.umidPendingParts}}</a><label ng-if="!item.umidPendingParts">-</label></td>
                                  <th>Empty Bin:</th>
                                  <td>{{item.totalEmptyBin || '0'}}</td>
                                </tr>
                                <tr>
                                  <th ng-if="vm.filter.transferOption === vm.TrasferStockType.KitTransfer || vm.filter.transferOption === vm.TrasferStockType.DeptTransfer" class="width-37p">Partially Allocated Bin:</th>
                                  <td ng-if="vm.filter.transferOption === vm.TrasferStockType.KitTransfer || vm.filter.transferOption === vm.TrasferStockType.DeptTransfer">{{item.anotherKitStock || '0'}}</td>
                                  <th ng-if="vm.filter.transferOption === vm.TrasferStockType.KitTransfer || vm.filter.transferOption === vm.TrasferStockType.DeptTransfer">Unallocated Bin:</th>
                                  <td ng-if="vm.filter.transferOption === vm.TrasferStockType.KitTransfer || vm.filter.transferOption === vm.TrasferStockType.DeptTransfer">{{item.unallocatekitStock || '0'}}</td>
                                </tr>
                                <tr>
                                  <th>Total Kit:</th>
                                  <td>{{item.numberTotalKit || '0'}}</td>
                                </tr>
                              </table>
                              <div class="cm-do-not-drag" ng-if="(((vm.filter.transferOption === vm.TrasferStockType.StockTransfer || vm.filter.transferOption === vm.TrasferStockType.KitTransfer) && !item.allMovableBin) || ((vm.filter.transferOption === vm.TrasferStockType.StockTransferToOtherDept || vm.filter.transferOption === vm.TrasferStockType.DeptTransfer) && item.isPermanent && !item.allMovableBin))">
                                <span>{{vm.LabelConstant.TransferStock.CanNotDrag}}</span>
                              </div>
                            </div>
                          </div>
                        </div>
                        <div class="transfer-on-tooltip" ng-if="whItem.isPermanent">
                          <span>
                            {{vm.transferStockMessages.NOT_TRANSFER_PARMANENT_WH}}
                          </span>
                        </div>
                      </div>
                    </div>
                    <div ng-if="vm.warehouseList.transferFrom.length === 0" class="stock-empty-state flex-100 layout-row layout-align-center-center">
                      <div ng-if="vm.autoCompleteFromDept.keyColumnId && !vm.uidFilter['transferFrom'].searchUIDId && !vm.uidFilter['transferFrom'].globalSearchUIDString && !vm.binFilter['transferFrom'].searchBinId && !vm.binFilter['transferFrom'].globalSearchBinString && !vm.warehouseFilter['transferFrom'].searchWHId && !vm.warehouseFilter['transferFrom'].globalSearchWHString">
                        {{vm.filter.transferOption === vm.TrasferStockType.KitTransfer || vm.filter.transferOption === vm.TrasferStockType.DeptTransfer ?	vm.kitList.transferFrom.length === 0 ? vm.transferStockMessages.EMPTY_DEPARTMENT : vm.transferStockMessages.EMPTY_KIT : vm.transferStockMessages.EMPTY_WAREHOUSE}}
                      </div>
                      <div ng-if="vm.autoCompleteFromDept.keyColumnId && (vm.uidFilter['transferFrom'].globalSearchUIDString || vm.binFilter['transferFrom'].globalSearchBinString || vm.warehouseFilter['transferFrom'].globalSearchWHString || vm.warehouseFilter['transferFrom'].searchWHId)">
                        <div class="emty-icon">
                          <img ng-src="{{vm.emptySearch.IMAGEURL}}" />
                        </div>
                        <div>{{vm.emptySearch.MESSAGE}}</div>
                      </div>
                      <div ng-if="!vm.autoCompleteFromDept.keyColumnId">{{vm.transferStockMessages.SELECT_DEPARTMENT}}</div>
                    </div>
                    <div ng-if="vm.warehouseList.transferFrom.length > 0 && vm.autoCompleteFromDept.keyColumnId && vm.showFromKitFilterEmptyState" class="stock-empty-state flex-100 layout-row layout-align-center-center">
                      <div>
                        <div class="emty-icon">
                          <img ng-src="{{vm.emptySearch.IMAGEURL}}" />
                        </div>
                        <div>{{vm.emptySearch.MESSAGE}}</div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              <!--End Transfer From Warehouse Section-->
              <!--Transfer From Bin Section-->
              <div class="cm-section-main margin-5 bin-section-main flex-100 layout-row layout-wrap">
                <div class="cm-section-header  flex-100 layout-row">
                  <h2><a tabindex="-1" class="cm-text-decoration underline" ng-click="vm.goToBinList();">{{vm.LabelConstant.TransferStock.Bin}}</a></h2>

                  <div flex="35" layout="row" layout-align="end center" class="cm-ml-auto">
                    <md-input-container class="margin-bottom-0 flex-90 pos-rel cm-location-bin-text" md-no-float>
                      <input type="text" name="InternalFromSearchBin" id="InternalFromSearchBin" ng-model="vm.scanAndSearch.InternalFromSearchBin" ng-keypress="vm.scanInternalFromSearchBin($event)"
                             ng-disabled="!vm.autoCompleteFromDept.keyColumnId || vm.warehouseList.transferFrom.length === 0" capitalize placeholder="{{vm.LabelConstant.ScanOREnter.ScanBin}}" class="white-bg">
                    </md-input-container>
                    <md-button class="md-icon-button md-primary md-mini cm-btn-clear margin-0" ng-click="vm.resetBinSearch('transferFrom','InternalFromSearchBin')" ng-disabled="!vm.autoCompleteFromDept.keyColumnId">
                      <md-icon md-font-icon="icon-close" class="material-icons mat-icon"></md-icon>
                      <md-tooltip>Clear Filter</md-tooltip>
                    </md-button>
                  </div>
                  <md-button class="md-icon-button md-primary md-mini margin-0" ng-click="vm.resetBinSearch('transferFrom','InternalFromSearchBin')" ng-disabled="!vm.autoCompleteFromDept.keyColumnId">
                    <md-icon md-font-icon="icon-refresh" class="material-icons mat-icon"></md-icon>
                    <md-tooltip>Refresh</md-tooltip>
                  </md-button>
                </div>
                <div id="containerInfiniteScrollBinTransferFrom" class="cm-section-inner bin-section flex-100 layout-row layout-wrap">
                  <div class="layout-wrap layout flex"
                       infinite-scroll="vm.scrollBin('transferFrom')"
                       infinite-scroll-distance="1"
                       infinite-scroll-container='"#containerInfiniteScrollBinTransferFrom"'>
                    <div class="layout-column flex-sm-100 flex-md-100 flex-lg-100 flex-gt-lg-50" ng-repeat="binItem in vm.binList.transferFrom track by $index" ng-class="{'kit-bin-section': (vm.filter.transferOption === vm.TrasferStockType.KitTransfer || vm.filter.transferOption === vm.TrasferStockType.DeptTransfer)}" ng-hide="vm.showFromKitFilterEmptyState">
                      <div ui-sortable="vm.sortableOptions" class="apps-container transfer-stock-item" ng-class="{'drag-permanent':binItem.isPermanent}" ng-model="binItem.countDetail" data-attr="{{binItem.id}}">
                        <div ng-repeat="item in binItem.countDetail track by $index" class="drag-content" ng-class="{'active': binItem.isSelected,'permanent':item.isPermanent}" ng-click="vm.selectDropableBin(binItem,'transferFrom')">
                          <div ng-class="{'myHandle': !item.isPermanent }">
                            <div class="content-header layout-row layout-align-space-between-center">
                              <span flex="80" layout="row" class="cm-overflow-hidden">
                                <span ng-if="!item.isCluster" class="flex-100 cm-warehouse-bin"><a tabindex="-1" class="cm-text-indent cm-text-decoration underline" style="-webkit-box-orient: vertical;" ng-click="vm.goToUMIDList($event, item.warehouseID, item.id, vm.selectedDetail.Kit.transferFrom.refSalesOrderDetID, vm.selectedDetail.Kit.transferFrom.assyID);">{{item.isPermanent?'FBin':'MBin'}}: {{binItem.name}}<md-tooltip>{{item.isPermanent?'FBin':'MBin'}}: {{binItem.name}}</md-tooltip></a><copy-text ng-if="binItem.name" label="" text="binItem.name"></copy-text></span>&nbsp;
                                <span ng-if="item.isCluster" class="flex-100 cm-warehouse-bin"><a tabindex="-1" class="cm-text-decoration underline" style="-webkit-box-orient: vertical;" ng-click="vm.goToUMIDList($event, item.warehouseID, 0, vm.selectedDetail.Kit.transferFrom.refSalesOrderDetID, vm.selectedDetail.Kit.transferFrom.assyID);">WH: {{item.warehouseName}}<md-tooltip>WH: {{item.warehouseName}}</md-tooltip></a>&nbsp;[Bin Cluster]<md-tooltip style="margin-top: 30px;">[Bin Cluster]</md-tooltip></span>
                              </span>
                              <div class="layout-row layout-align-center-end" flex="20">
                                <md-menu class="section-context-menu">
                                  <md-button class="md-icon-button" ng-click="vm.OpenMenu($event,$mdOpenMenu)"
                                             aria-label="more">
                                    <md-icon md-font-icon="icon-dots-vertical"></md-icon>
                                  </md-button>
                                  <md-menu-content class="section-context-menu-content">
                                    <md-menu-item>
                                      <md-button ng-click="vm.inactiveBin(item)" aria-label="Inactive" ng-disabled="item.uidCount > 0 || item.umidPendingParts > 0">Deactive Bin</md-button>
                                    </md-menu-item>
                                    <md-menu-item>
                                      <md-button ng-click="vm.transferBinToWH(item)" aria-label="Bin to Warehouse Transfer" ng-disabled="item.isPermanent">Bin to Warehouse Transfer</md-button>
                                    </md-menu-item>
                                    <md-menu-item ng-if="vm.filter.transferOption === vm.TrasferStockType.StockTransfer || vm.filter.transferOption === vm.TrasferStockType.KitTransfer">
                                      <md-button ng-click="vm.transferBinToBin(item)" aria-label="Bin to Bin Transfer" ng-disabled="!item.uidCount || item.isPermanent">Bin to Bin Transfer</md-button>
                                    </md-menu-item>
                                    <md-menu-item>
                                      <md-button ng-click="vm.binHistory(item)" aria-label="History">History</md-button>
                                    </md-menu-item>
                                  </md-menu-content>
                                </md-menu>
                              </div>
                            </div>
                            <div class="content-body">
                              <table cellspacing="0" cellpadding="0" class="cm-table-transfer">
                                <tr>
                                  <th>Warehouse:</th>
                                  <td>{{item.warehouseName}}</td>
                                  <th class="width-35p">{{vm.LabelConstant.UMIDManagement.UMIDPendingParts}}:</th>
                                  <td><a tabindex="-1" class="underline" ng-if="item.umidPendingParts > 0" ng-click="vm.goToNonUMIDStockList($event,item.warehouseID, item.id);">{{item.umidPendingParts}}</a><label ng-if="!item.umidPendingParts">-</label></td>
                                </tr>
                                <tr>
                                  <th class="width-25p" ng-if="vm.filter.transferOption === vm.TrasferStockType.StockTransfer || vm.filter.transferOption === vm.TrasferStockType.StockTransferToOtherDept">Total UMID:</th>
                                  <th class="width-25p" ng-if="vm.filter.transferOption === vm.TrasferStockType.KitTransfer || vm.filter.transferOption === vm.TrasferStockType.DeptTransfer">Allocated UMID:</th>
                                  <td>{{item.uidCount || 'None'}}</td>
                                  <th>PID Count:</th>
                                  <td>{{item.PIDCount || 'None'}}</td>
                                </tr>
                                <tr>
                                  <th ng-if="vm.filter.transferOption === vm.TrasferStockType.KitTransfer || vm.filter.transferOption === vm.TrasferStockType.DeptTransfer">Mismatched UMID:</th>
                                  <td ng-if="vm.filter.transferOption === vm.TrasferStockType.KitTransfer || vm.filter.transferOption === vm.TrasferStockType.DeptTransfer">{{item.mismatchUMID || 0}}</td>
                                  <th ng-if="vm.filter.transferOption === vm.TrasferStockType.KitTransfer || vm.filter.transferOption === vm.TrasferStockType.DeptTransfer">Mismatched PID:</th>
                                  <td ng-if="vm.filter.transferOption === vm.TrasferStockType.KitTransfer || vm.filter.transferOption === vm.TrasferStockType.DeptTransfer">{{item.mismatchPID || 0}}</td>
                                </tr>
                              </table>
                              <div class="cm-do-not-drag" ng-if="item.isPermanent">
                                <span>{{vm.LabelConstant.TransferStock.CanNotDrag}}</span>
                              </div>
                            </div>
                          </div>
                        </div>
                        <div class="transfer-on-tooltip" ng-if="binItem.isPermanent && vm.filter.transferOption !== vm.TrasferStockType.DeptTransfer">
                          <span>{{vm.transferStockMessages.NOT_TRANSFER_PARMANENT_BIN}}</span>
                        </div>
                      </div>
                    </div>
                    <div ng-if="vm.binList.transferFrom.length === 0" class="stock-empty-state flex-100 layout-row layout-align-center-center">

                      <div ng-if="vm.autoCompleteFromDept.keyColumnId && !vm.uidFilter['transferFrom'].searchUIDId && !vm.uidFilter['transferFrom'].globalSearchUIDString && !vm.binFilter['transferFrom'].searchBinId && !vm.binFilter['transferFrom'].globalSearchBinString && !vm.warehouseFilter['transferFrom'].searchWHId && !vm.warehouseFilter['transferFrom'].globalSearchWHString ">
                        {{vm.filter.transferOption === vm.TrasferStockType.KitTransfer || vm.filter.transferOption === vm.TrasferStockType.DeptTransfer ?	vm.kitList.transferFrom.length === 0 ? vm.transferStockMessages.EMPTY_DEPARTMENT : vm.transferStockMessages.EMPTY_KIT : vm.transferStockMessages.EMPTY_WAREHOUSE}}
                      </div>
                      <div ng-if="vm.autoCompleteFromDept.keyColumnId && (vm.uidFilter['transferFrom'].globalSearchUIDString || vm.binFilter['transferFrom'].globalSearchBinString || vm.warehouseFilter['transferFrom'].globalSearchWHString || vm.warehouseFilter['transferFrom'].searchWHId || vm.binFilter['transferFrom'].searchBinId)">
                        <div class="emty-icon">
                          <img ng-src="{{vm.emptySearch.IMAGEURL}}" />
                        </div>
                        <div>{{vm.emptySearch.MESSAGE}}</div>
                      </div>
                      <div ng-if="!vm.autoCompleteFromDept.keyColumnId">{{vm.transferStockMessages.SELECT_DEPARTMENT}}</div>

                    </div>
                    <div ng-if="vm.binList.transferFrom.length > 0 && vm.autoCompleteFromDept.keyColumnId && vm.showFromKitFilterEmptyState" class="stock-empty-state flex-100 layout-row layout-align-center-center">
                      <div>
                        <div class="emty-icon">
                          <img ng-src="{{vm.emptySearch.IMAGEURL}}" />
                        </div>
                        <div>{{vm.emptySearch.MESSAGE}}</div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              <!--End Transfer From Bin Section-->
              <!--Transfer From UMID Section-->
              <div flex="100">
                <div class="cm-section-main margin-5 uid-section-main flex-100 layout-row layout-wrap">
                  <div class="cm-section-header flex-100 layout-row layout-wrap-rs-1600 cm-transfer-stock-rs cm-height-auto pv-3 align-items-top">
                    <div layout flex>
                      <h2 class="mt-8"><a tabindex="-1" class="cm-text-decoration underline" ng-click="vm.goToUMIDList();">{{vm.LabelConstant.TransferStock.UMID}}</a></h2>
                      <fieldset class="container-box ml-5 mt-8">
                        <div class="input-wrapper" layout="row" layout-align="start center">
                          <md-checkbox ng-model="vm.isComapnyLevel" name="vm.isComapnyLevel" class="margin-0 margin-left-10 margin-right-5-imp">
                            Search Company Level
                            <md-icon class="icon-question-mark-circle help-icon h-16">
                              <md-tooltip md-direction="top">
                                {{vm.CORE_MESSAGE_CONSTANT.SEARCH_COMPANY_LEVEL}}
                              </md-tooltip>
                            </md-icon>
                          </md-checkbox>
                          <div class="cm-switch-light cm-switch-new height-32">
                            <md-input-container flex="100" class="md-input-has-value mid">
                              <md-radio-group class="rocker" ng-class="{'cm-show-btn':vm.clickButton,'cm-cancel-btn':(!vm.clickButton && !(vm.checkPartForSearch())),'cm-button-disable':vm.checkPartForSearch() }" ng-change="vm.changeEvent(vm.clickButton,$event)" ng-model="vm.clickButton">
                                <md-radio-button ng-value="true" class="cm-show md-button switch-left" ng-disabled="vm.checkPartForSearch() || vm.showStatus">Show Light</md-radio-button>
                                <md-radio-button ng-value="false" class="cm-cancel md-button switch-right" ng-disabled="vm.checkPartForSearch() || !vm.showStatus">Cancel</md-radio-button>
                              </md-radio-group>
                            </md-input-container>
                          </div>
                          <smart-cart-user></smart-cart-user>
                        </div>
                        <span class="font-weight-600 font-size-10 ml-8">
                          {{vm.LabelConstant.Show_Light_Instruction_Select}}
                        </span>
                        <p class="font-weight-600 font-size-10 ml-8">Search request timeout {{vm.TimeOut}} seconds, You can increase timeout limit from <a tabindex="-1" class="underline cursor-pointer" ng-click="vm.goDatakeysPage()">Settings/System/Data Keys</a></p>
                        <span ng-if="vm.showStatus" class="margin-left-10"><b>{{vm.CORE_MESSAGE_CONSTANT.INOAUTO_SEARCH_COMMENT}}</b></span>
                      </fieldset>
                      <div layout="column" layout-align="space-between" flex>
                        <fieldset class="container-box ml-5">
                          <legend class="margin-0">&nbsp;Allow to transfer only if&nbsp;</legend>
                          <div layout-align="space-between start" layout>
                            <div class="input-wrapper" layout="column" layout-align="start start">
                              <md-checkbox ng-model="vm.isBelongToKit" name="isBelongToKit" ng-if="vm.filter.transferOption === vm.TrasferStockType.KitTransfer || vm.filter.transferOption === vm.TrasferStockType.DeptTransfer" ng-disabled="vm.componentList.transferFrom && vm.componentList.transferFrom.length === 0" ng-change="vm.selectKitUMID(1);" class="margin-2">
                                {{vm.LabelConstant.TransferStock.BelongToKit}}
                              </md-checkbox>
                              <md-checkbox ng-model="vm.isBelongToAnyKit" name="isBelongToAnyKit" ng-disabled="vm.componentList.transferFrom && vm.componentList.transferFrom.length === 0" ng-change="vm.selectKitUMID(2);" class="margin-2">
                                {{vm.LabelConstant.TransferStock.BelongToAnyKit}}
                              </md-checkbox>
                              <md-checkbox ng-model="vm.isNotBelongToKit" name="isNotBelongToKit" ng-disabled="vm.componentList.transferFrom && vm.componentList.transferFrom.length === 0" ng-change="vm.selectKitUMID(3);" class="margin-2">
                                {{vm.LabelConstant.TransferStock.NotBelongToKit}}
                              </md-checkbox>
                            </div>
                            <md-button class="md-primary md-raised md-icon-button margin-0" ng-click="vm.uidTranfer($event,null,false)" ng-disabled="!(vm.isBelongToKit || vm.isNotBelongToKit || vm.isBelongToAnyKit)">
                              <md-icon role="img" md-font-icon="t-icons-transfer-material"></md-icon>
                              <md-tooltip md-direction="top">{{vm.LabelConstant.UMIDManagement.TransferMaterial}}</md-tooltip>
                            </md-button>
                          </div>
                        </fieldset>
                        <div layout layout-align="end center" class="ml-5 mt-5">
                          <div layout="row" layout-align="end center" class="cm-ml-auto" flex>
                            <md-input-container flex="100" class="margin-bottom-0 pos-rel cm-location-bin-text p-0" md-no-float>
                              <input type="text" name="InternalFromSearchUID" id="InternalFromSearchUID" capitalize placeholder="{{vm.LabelConstant.ScanOREnter.ScanUMID}}" ng-model="vm.scanAndSearch.InternalFromSearchUID" ng-keypress="vm.scanInternalFromSearchUID($event)"
                                     ng-disabled="!vm.autoCompleteFromDept.keyColumnId || vm.binList.transferFrom.length === 0" class="white-bg">
                            </md-input-container>
                            <md-button class="md-icon-button md-primary md-mini cm-btn-clear margin-0" ng-click="vm.resetUMIDSearch('transferFrom','InternalFromSearchUID')" ng-disabled="!vm.autoCompleteFromDept.keyColumnId">
                              <md-icon md-font-icon="icon-close" class="material-icons mat-icon"></md-icon>
                              <md-tooltip>Clear Filter</md-tooltip>
                            </md-button>
                          </div>
                          <md-button class="md-icon-button md-primary md-mini margin-0" ng-click="vm.resetUMIDSearch('transferFrom','InternalFromSearchUID')" ng-disabled="!vm.autoCompleteFromDept.keyColumnId">
                            <md-icon md-font-icon="icon-refresh" class="material-icons mat-icon"></md-icon>
                            <md-tooltip>Refresh</md-tooltip>
                          </md-button>
                        </div>
                      </div>
                    </div>
                  </div>
                  <div id="containerInfiniteScrollUMIDTransferFrom" class="cm-section-inner padding-0 uid-section flex-100 layout-row layout-wrap layout-align-start-start cm-overflow-auto height-290">
                    <div class="layout-wrap layout flex"
                         infinite-scroll="vm.scrollUMID('transferFrom')"
                         infinite-scroll-distance="1"
                         infinite-scroll-disabled="true"
                         infinite-scroll-container='"#containerInfiniteScrollUMIDTransferFrom"'>
                      <!--infinite-scroll-disabled="true"-->
                      <div class="cm-transaction-tab" ng-hide="vm.showFromKitFilterEmptyState">
                        <md-table-container layout="row" flex="100">
                          <table md-table class="cm-transfer-stock-umid-table">
                            <thead fix-head md-head>
                              <tr md-row ng-if="vm.componentList.transferFrom.length > 0">
                                <th class="text-center w-50">
                                  <md-checkbox ng-model="vm.isAllSelect" ng-change="vm.selectAllUMID()" ng-disabled="vm.showStatus || vm.UMIDListWarehouseType !==vm.warehouseType.SmartCart.key" class="cm-mv-9"></md-checkbox>
                                </th>
                                <th class="cm-action">Action</th>
                                <th class="w-50">#</th>
                                <th class="w-160">{{vm.LabelConstant.UMIDManagement.UMID}}</th>
                                <th class="w-250">Bin</th>
                                <th class="w-100">{{vm.LabelConstant.MFG.MFG}}</th>
                                <th class="w-300">{{vm.LabelConstant.MFG.MFGPN}}</th>
                                <th class="w-300">{{vm.LabelConstant.MFG.MFGPNDescription}}</th>
                                <th class="w-100 text-center">Count</th>
                                <th class="w-100">UOM</th>
                                <th class="w-160">Mounting Type</th>
                                <th class="w-200">Allocated To Kit</th>
                              </tr>
                            </thead>
                            <tbody md-body>
                              <tr md-row md-auto-select ng-repeat="component in vm.componentList.transferFrom track by $index" ng-class="{'mismatchUMID': ((vm.filter.transferOption === vm.TrasferStockType.KitTransfer || vm.filter.transferOption === vm.TrasferStockType.DeptTransfer) && !component.isAllocatedToKit)}">
                                <td class="text-center w-50">
                                  <md-checkbox ng-model="component.isSelect" ng-change="vm.selectUMID(component)"
                                               ng-disabled="component.warehouseType !== vm.warehouseType.SmartCart.key"
                                               class="cm-mv-9">
                                  </md-checkbox>
                                </td>
                                <td class="cm-action">
                                  <md-button class="md-primary grid-button md-icon-button bdrbtn ml-0 cm-sq-btn" ng-click="vm.uidTranfer($event,component,false)">
                                    <md-icon role="img" md-font-icon="icons-transfer-material-2"></md-icon>
                                    <md-tooltip md-direction="top">{{vm.LabelConstant.UMIDManagement.TransferMaterial}}</md-tooltip>
                                  </md-button>
                                  <md-button class="md-primary grid-button md-icon-button bdrbtn bdrrcvbtn cm-grid-action-view-icon"
                                             ng-disabled="component.warehouseType !==vm.warehouseType.SmartCart.key"
                                             ng-class="component.ledColorCssClass">
                                    <md-icon role="img" md-font-icon="icon-lightbulb-outline"></md-icon>
                                    <md-tooltip md-direction="top" ng-if="component.ledColorName">{{component.ledColorName}}</md-tooltip>
                                  </md-button>
                                  <md-button class="md-primary grid-button md-icon-button bdrbtn cm-sq-btn" ng-click="vm.transferStockHistory($event, component)">
                                    <md-icon role="img" md-font-icon="t-icons-history-text"></md-icon>
                                    <md-tooltip md-direction="top">History</md-tooltip>
                                  </md-button>
                                </td>
                                <td class="w-50">{{($index+1)}}</td>
                                <td class="w-160">
                                  <a ng-click="vm.goToUMIDDetail(component)" tabindex="-1" class="cm-text-decoration underline cursor-pointer">
                                    {{component.uid}}
                                  </a>
                                  <copy-text label="vm.LabelConstant.UMIDManagement.UMID" text="component.uid"></copy-text>
                                </td>
                                <td class="w-250">{{component.binName}}</td>
                                <td class="w-100">{{component.mfgCode}}</td>
                                <td class="w-300">
                                  <common-pid-code-label-link component-id="component.refcompid"
                                                              label="vm.LabelConstant.MFG.MFGPN"
                                                              value="component.mfgPN"
                                                              is-copy="true"
                                                              is-custom-part="component.isCustom"
                                                              rohs-icon="vm.rohsImagePath+component.rohsIcon"
                                                              rohs-status="component.rohsName"
                                                              is-search-digi-key="true"></common-pid-code-label-link>

                                </td>
                                <td class="w-300">{{component.mfgPNDescription}}</td>
                                <td class="w-100 text-center">{{component.pkgQty}}</td>
                                <td class="w-100">{{component.uomName}}</td>
                                <td class="w-160">{{component.mountingTypeName}}</td>
                                <td class="w-200 md-truncate">
                                  <a ng-click="vm.allocatedKit(component)" tabindex="-1" class="cursor-pointer">
                                    <md-tooltip md-direction="top">{{component.allocatedToKits}}</md-tooltip>
                                    {{component.allocatedToKits}}
                                  </a>
                                </td>
                              </tr>
                            </tbody>
                          </table>
                        </md-table-container>
                      </div>
                      <div ng-if="vm.componentList.transferFrom.length === 0" class="stock-empty-state flex-100 layout-row layout-align-center-center">

                        <div ng-if="vm.autoCompleteFromDept.keyColumnId && !vm.uidFilter['transferFrom'].searchUIDId && !vm.uidFilter['transferFrom'].globalSearchUIDString && !vm.binFilter['transferFrom'].searchBinId && !vm.binFilter['transferFrom'].globalSearchBinString && !vm.warehouseFilter['transferFrom'].searchWHId && !vm.warehouseFilter['transferFrom'].globalSearchWHString">
                          {{vm.filter.transferOption === vm.TrasferStockType.KitTransfer || vm.filter.transferOption === vm.TrasferStockType.DeptTransfer ?	vm.kitList.transferFrom.length === 0 ? vm.transferStockMessages.EMPTY_DEPARTMENT : vm.transferStockMessages.EMPTY_KIT : vm.binList.transferFrom.length === 0 ? vm.transferStockMessages.EMPTY_WAREHOUSE : vm.transferStockMessages.EMPTY_BIN}}
                        </div>
                        <div ng-if="vm.autoCompleteFromDept.keyColumnId && (vm.uidFilter['transferFrom'].globalSearchUIDString || vm.binFilter['transferFrom'].globalSearchBinString || vm.warehouseFilter['transferFrom'].globalSearchWHString || vm.warehouseFilter['transferFrom'].searchWHId || vm.binFilter['transferFrom'].searchBinId || vm.uidFilter['transferFrom'].searchUIDId)">
                          <div class="emty-icon">
                            <img ng-src="{{vm.emptySearch.IMAGEURL}}" />
                          </div>
                          <div>{{vm.emptySearch.MESSAGE}}</div>
                        </div>
                        <div ng-if="!vm.autoCompleteFromDept.keyColumnId">{{vm.transferStockMessages.SELECT_DEPARTMENT}}</div>

                      </div>
                      <div ng-if="vm.componentList.transferFrom.length > 0 && vm.autoCompleteFromDept.keyColumnId && vm.showFromKitFilterEmptyState" class="stock-empty-state flex-100 layout-row layout-align-center-center">
                        <div>
                          <div class="emty-icon">
                            <img ng-src="{{vm.emptySearch.IMAGEURL}}" />
                          </div>
                          <div>{{vm.emptySearch.MESSAGE}}</div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              <!--End Transfer From UMID Section-->

            </div>

          </md-card>

          <div class="padding-top-20 layout-row flex-2 layout-align-center-start">
            <img src="assets/images/etc/transfer-stock-arrow.png" />
          </div>

          <md-card class="cm-section-main layout-column flex margin-right-0">
            <div class="cm-section-header layout-row layout-align-space-between-center">
              <h2>To</h2>
            </div>
            <div class="cm-section-inner flex layout-column">
              <div class="transfer-stock-content flex layout-column">
                <div class="margin-5 stock-filter cm-section-main layout-row layout-wrap layout-align-start-end">
                  <div class="layout-row flex-100">
                    <div class="cm-section-inner margin-top-55 flex-100 margin-top-rs-231">
                      <table cellspacing="0" cellpadding="0" class="cm-table-input-main cm-rs-table">
                        <tbody>
                          <tr>
                            <th><p class="label-container"><a tabindex="-1" class="cm-text-decoration underline" ng-click="vm.goToWHList();">{{vm.LabelConstant.TransferStock.ParentWH}}</a><span>&nbsp;*</span></p></th>
                            <td colspan="5">
                              <md-input-container ng-if="vm.autoCompleteToDept" class="autocompletecustom margin-bottom-0 flex-100">
                                <custom-auto-complete datalist="vm.toDeptList"
                                                      column-name="vm.autoCompleteToDept.columnName"
                                                      key-column-name="vm.autoCompleteToDept.keyColumnName"
                                                      input-name="vm.autoCompleteToDept.inputName"
                                                      placeholder-name="vm.autoCompleteToDept.placeholderName"
                                                      key-column-id="vm.autoCompleteToDept.keyColumnId"
                                                      is-required="vm.autoCompleteToDept.isRequired"
                                                      is-disabled="vm.isDisable"
                                                      is-addnew="vm.autoCompleteToDept.isAddnew"
                                                      callback-fn="vm.autoCompleteToDept.callbackFn"
                                                      on-select-callback-fn="vm.autoCompleteToDept.onSelectCallbackFn">
                                </custom-auto-complete>
                              </md-input-container>
                            </td>
                          </tr>
                          <tr ng-if="(vm.filter.transferOption === vm.TrasferStockType.KitTransfer || vm.filter.transferOption === vm.TrasferStockType.DeptTransfer) && (vm.selectedDetail && vm.selectedDetail.Dept && vm.selectedDetail.Dept.transferTo)">
                            <th></th>
                            <td>
                              <table cellspacing="0" cellpadding="0" class="cm-table-input-main cm-rs-table">
                                <tbody>
                                  <tr ng-if="vm.selectedDetail && vm.selectedDetail.Dept && vm.selectedDetail.Dept.transferTo && vm.selectedDetail.Dept.transferTo.parentWHType === vm.parentWarehouseType.MaterialDepartment">
                                    <td><md-checkbox ng-model="vm.kitFilter.transferTo.isCheckMRP" ng-change="vm.changeKitCheckBoxFilter('TransferTo')" class="margin-bottom-5imp margin-top-5imp mv-0">{{vm.kitReleaseStatus[2].value}}</md-checkbox></td>
                                    <td><md-checkbox ng-model="vm.kitFilter.transferTo.isCheckMWS" ng-change="vm.changeKitCheckBoxFilter('TransferTo')" class="margin-bottom-5imp margin-top-5imp mv-0">With Shortage</md-checkbox></td>
                                    <td><md-checkbox ng-model="vm.kitFilter.transferTo.isCheckMRR" ng-change="vm.changeKitCheckBoxFilter('TransferTo')" class="margin-bottom-5imp margin-top-5imp mv-0">{{vm.kitReleaseStatus[1].value}}</md-checkbox></td>
                                    <td><md-checkbox ng-model="vm.kitFilter.transferTo.isCheckMRE" ng-change="vm.changeKitCheckBoxFilter('TransferTo')" class="margin-bottom-5imp margin-top-5imp mv-0">{{vm.kitReleaseStatus[4].value}}</md-checkbox></td>
                                  </tr>
                                  <tr ng-if="vm.selectedDetail && vm.selectedDetail.Dept && vm.selectedDetail.Dept.transferTo && vm.selectedDetail.Dept.transferTo.parentWHType === vm.parentWarehouseType.ProductionDepartment">
                                    <td><md-checkbox ng-model="vm.kitFilter.transferTo.isCheckPRE" ng-change="vm.changeKitCheckBoxFilter('TransferTo')" class="margin-bottom-5imp margin-top-5imp mv-0">{{vm.kitReleaseStatus[4].value}}</md-checkbox></td>
                                    <td><md-checkbox ng-model="vm.kitFilter.transferTo.isCheckPPR" ng-change="vm.changeKitCheckBoxFilter('TransferTo')" class="margin-bottom-5imp margin-top-5imp mv-0">{{vm.kitReleaseStatus[3].value}}</md-checkbox></td>
                                    <td><md-checkbox ng-model="vm.kitFilter.transferTo.isCheckPNR" ng-change="vm.changeKitCheckBoxFilter('TransferTo')" class="margin-bottom-5imp margin-top-5imp mv-0">{{vm.kitReleaseStatus[2].value}}</md-checkbox></td>
                                  </tr>
                                </tbody>
                              </table>
                            </td>
                          </tr>
                        </tbody>
                      </table>
                    </div>
                  </div>
                </div>

                <!--Transfer To Kit Section-->
                <div class="cm-section-main margin-5 warehouse-section-main layout-row layout-wrap" ng-if="vm.filter.transferOption === vm.TrasferStockType.KitTransfer || vm.filter.transferOption === vm.TrasferStockType.DeptTransfer">
                  <div class="cm-section-header flex-100 layout-row">
                    <h2><a tabindex="-1" class="cm-text-decoration underline" ng-click="vm.goToKitDataList();">{{vm.LabelConstant.TransferStock.Kit}}</a>&nbsp;<span ng-if="vm.selectedDetail.Dept.transferTo && !vm.showFromKitFilterEmptyState">&nbsp;<b ng-if="vm.selectedDetail.Kit.transferTo.name">[{{vm.selectedDetail.Kit.transferTo.name}}]</b>&nbsp;({{vm.selectedDetail.Dept.transferTo.Name}})</span></h2>
                    <div flex="35" layout="row" layout-align="end center" class="cm-ml-auto">
                      <md-input-container ng-if="vm.autoCompleteInternalToKitSearch" class="autocompletecustom margin-bottom-0 flex-100">
                        <custom-auto-complete-search class="min-width-initial"
                                                     column-name="vm.autoCompleteInternalToKitSearch.columnName"
                                                     key-column-name="vm.autoCompleteInternalToKitSearch.keyColumnName"
                                                     input-name="vm.autoCompleteInternalToKitSearch.inputName"
                                                     placeholder-name="vm.autoCompleteInternalToKitSearch.placeholderName"
                                                     key-column-id="vm.autoCompleteInternalToKitSearch.keyColumnId"
                                                     is-required="vm.autoCompleteInternalToKitSearch.isRequired"
                                                     is-disabled="!vm.autoCompleteToDept.keyColumnId"
                                                     is-addnew="vm.autoCompleteInternalToKitSearch.isAddnew"
                                                     on-select-callback-fn="vm.autoCompleteInternalToKitSearch.onSelectCallbackFn"
                                                     on-search-fn="vm.autoCompleteInternalToKitSearch.onSearchFn">
                        </custom-auto-complete-search>
                      </md-input-container>
                    </div>
                    <md-button class="md-icon-button md-primary md-mini margin-0" ng-click="vm.resetKitSearch('transferFrom')" ng-disabled="!vm.autoCompleteToDept.keyColumnId">
                      <md-icon md-font-icon="icon-refresh" class="material-icons mat-icon"></md-icon>
                      <md-tooltip>Refresh</md-tooltip>
                    </md-button>
                  </div>
                  <div id="containerInfiniteScrollKitTransferTo" class="cm-section-inner warehouse-section flex-100 layout-row layout-wrap">
                    <div class="layout-wrap layout flex"
                         infinite-scroll="vm.scrollKit('transferTo')"
                         infinite-scroll-distance="1"
                         infinite-scroll-container='"#containerInfiniteScrollKitTransferTo"'>
                      <div class="flex-100 layout-column flex-sm-100 flex-md-100 flex-gt-lg-100 flex-lg-100 mb-40" ng-if="vm.filter.transferOption === vm.TrasferStockType.DeptTransfer && vm.autoCompleteToDept.keyColumnId" ng-hide="vm.showToKitFilterEmptyState">
                        <div ui-sortable="vm.sortableOptions" class="apps-container drop-section transfer-stock-item" ng-model="vm.emptyDropContent.kit" ng-class="{'department-transfer':(vm.dragItem.transferSection === vm.transferSection.Bin || vm.dragItem.transferSection === vm.transferSection.UID)}">
                          <div class="drag-content drop-section-content dept-kit-drop-section cm-drag-content-here">
                            <p class="cm-kit-drop-section">Drop content here to transfer kit</p>
                          </div>
                          <div class="drop-not-allow" ng-if="(vm.dragItem.transferSection === vm.transferSection.Bin || vm.dragItem.transferSection === vm.transferSection.UID)">
                            <img src="../../../../assets/images/etc/not-allow.png" />
                          </div>
                        </div>
                      </div>

                      <div class="flex-100 layout-column flex-sm-100 flex-md-100 flex-lg-100 flex-gt-lg-100 mb-5" ng-repeat="kitItem in vm.kitList.transferTo track by $index" ng-hide="vm.showToKitFilterEmptyState">
                        <div ui-sortable="vm.sortableOptions" class="transfer-stock-item drop-section apps-container cm-kit-section" ng-model="kitItem.countDetail" data-attr="{{kitItem.id}}">
                          <div ng-repeat="item in kitItem.countDetail track by $index" class="drag-content" ng-class="{'active': kitItem.isSelected,'permanent':item.isPermanent}" ng-click="vm.selectDropableKit(kitItem,'transferTo')">
                            <div ng-class="{'myHandle': vm.filter.transferOption === vm.TrasferStockType.DeptTransfer }">
                              <div class="content-header layout-row layout-align-space-between-center">
                                <span class="flex-100" layout="row" layout-align="space-between center">
                                  <span>
                                    <copy-text ng-if="kitItem.name" label="" text="kitItem.name"></copy-text>
                                    <a tabindex="-1" class="cm-text-decoration underline" ng-click="vm.goToKitList($event, item.refSalesOrderDetID,item.assyID);">{{kitItem.name}}</a>
                                  </span>
                                  <span>Kit#: {{kitItem.kitNumber}}</span>
                                </span>
                              </div>
                              <div class="content-body" layout="row" flex="100" layout-align="space-between start" layout-wrap>
                                <table cellspacing="0" cellpadding="0">

                                  <tr>
                                    <th class="text-right">Assy ID:</th>
                                    <td colspan="2">{{item.assyMainPIDCode}}</td>
                                    <th class="text-right">PO Date:</th>
                                    <td>{{item.poDate | date: vm.DefaultDateFormat}}</td>
                                    <th class="text-right">Total Planned Release:</th>
                                    <td><a ng-click="vm.kitRelease(kitItem)">{{item.totalKitPlan}}</a></td>
                                    <td rowspan="6">
                                      <div layout="column" flex="100" layout-wrap layout-align="start end">
                                        <div flex="100" layout="row" layout-align="end center">
                                          <img ng-src="{{item.hotJobIcon}}" class="hot-job-icon ml-5" ng-if="item.isHotJob" />
                                          <md-button class="line-height-normal md-raised md-mini float-right md-mini grid-button md-icon-button bdrbtn kit-status text-left" ng-click="vm.goToKitList($event, item.refSalesOrderDetID,item.assyID);">
                                            <div class="cm-quote-progress" style="width:{{item.kitPercentage + '%'}}"></div>
                                            <span class="relative" style="margin-left:5px !important;">
                                              <span class="underline cursor-pointer">A-{{item.kitPercentage}}%</span>
                                            </span>
                                            <md-tooltip md-direction="top">Kit Allocation % (Component)</md-tooltip>
                                          </md-button>
                                        </div>
                                        <div flex="100" layout="row" layout-align="end center" class="mt-5">
                                          <span>
                                            <img ng-src="{{item.alertIcon}}" class="hot-job-icon ml-5" ng-if="item.nextReleasePlan.kitReleaseIndicator" />
                                            <md-tooltip md-direction="top" class="tooltip-multiline" ng-if="item.nextReleasePlan.kitReleaseIndicator">{{item.nextReleasePlan.kitReleaseIndicator}}</md-tooltip>
                                          </span>
                                          <md-button class="line-height-normal md-raised md-mini float-right md-mini grid-button md-icon-button bdrbtn kit-status text-left" ng-click="vm.goToKitList($event, item.refSalesOrderDetID,item.assyID);">
                                            <div class="cm-quote-progress" style="width:{{(item.nextReleasePlan.kitPlanPercentage || 0) + '%'}}"></div>
                                            <span class="relative" style="margin-left:5px !important;">
                                              <span class="underline cursor-pointer">A-{{item.nextReleasePlan.kitPlanPercentage || 0}}%</span>
                                            </span>
                                            <md-tooltip md-direction="top" ng-if="item.deptType === vm.parentWarehouseType.MaterialDepartment">Kit Allocation % ({{vm.LabelConstant.TransferStock.NextPlannedRelease}})</md-tooltip>
                                            <md-tooltip md-direction="top" ng-if="item.deptType === vm.parentWarehouseType.ProductionDepartment">Kit Allocation % (Up To {{vm.LabelConstant.TransferStock.LastPlannedRelease}})</md-tooltip>
                                          </md-button>
                                        </div>
                                        <div flex="100" class="text-right mt-5">
                                          <label class="label-box cursor-pointer" ng-class="{'light-green-bg': item.kitReleaseStatus === vm.Kit_Release_Status.ReadyToRelease, 'label-warning': item.kitReleaseStatus === vm.Kit_Release_Status.NotReleased, 'label-info': item.kitReleaseStatus === vm.Kit_Release_Status.PartiallyReleased, 'label-success': item.kitReleaseStatus === vm.Kit_Release_Status.FullReleased, 'label-primary': item.kitReleaseStatus === vm.Kit_Release_Status.Returned}" title="Release Status">
                                            {{item.kitReleaseStatus}}
                                          </label>
                                        </div>
                                        <div flex="100" class="text-right mt-5">
                                          <label class="label-box cursor-pointer" ng-class="{'label-warning':item.salesOrderDetailCompleteStatus ===  vm.SOWorkingStatus.InProgress,'label-success':item.salesOrderDetailCompleteStatus  ===  vm.SOWorkingStatus.Completed ,'label-danger' :item.salesOrderDetailCompleteStatus ===  vm.SOWorkingStatus.Canceled }" title="SO Working Status">
                                            {{item.salesOrderDetailCompleteStatus}}
                                          </label>
                                        </div>
                                        <div flex="100" class="text-right mt-5">
                                          <span>
                                            <img class="wo-stop-image wo-stop-image-margin" src="assets/images/logos/stopped.png" ng-if="item.kitHalt">
                                            <md-tooltip md-direction="top" class="tooltip-multiline" ng-if="item.kitHalt">
                                              <ng-bind-html ng-bind-html="item.kitHalt"></ng-bind-html>
                                            </md-tooltip>
                                          </span>
                                        </div>
                                      </div>
                                    </td>
                                  </tr>

                                  <tr>
                                    <th class="text-right">PO#:</th>
                                    <td>{{item.poNumber}}</td>
                                    <td rowspan="2">
                                      <span>
                                        <img class="wo-stop-image wo-stop-image-margin" src="assets/images/logos/stopped.png" ng-if="item.poHalt">
                                        <md-tooltip md-direction="top" class="tooltip-multiline" ng-if="item.poHalt">{{item.poHalt}}</md-tooltip>
                                      </span>
                                    </td>
                                    <th class="text-right">PO Qty:</th>
                                    <td>{{item.poQty}}</td>
                                    <th class="text-right">Released Count:</th>
                                    <td>{{item.totalKitReleasePlan}}</td>
                                  </tr>

                                  <tr>
                                    <th class="text-right">SO#:</th>
                                    <td>{{item.salesOrderNumber}}</td>
                                    <th class="text-right">Shortage Lines</th>
                                    <td><a ng-click="vm.checkFeasibility(kitItem)">{{item.shortageLines}}/{{item.totalLines}}</a> (per assy.)</td>
                                    <th class="text-right" ng-if="item.deptType === vm.parentWarehouseType.MaterialDepartment">{{vm.LabelConstant.TransferStock.NextPlannedRelease}}#:</th>
                                    <th class="text-right" ng-if="item.deptType === vm.parentWarehouseType.ProductionDepartment">{{vm.LabelConstant.TransferStock.LastPlannedRelease}}#:</th>
                                    <td>{{item.nextReleasePlan.plannKitNumber || '-'}}</td>
                                  </tr>

                                  <tr>
                                    <th class="text-right">Sub Assy ID:</th>
                                    <td colspan="2">{{item.assySubPIDCode || '-'}}</td>
                                    <th class="text-right">Feasibility:</th>
                                    <td>0</td>
                                    <th class="text-right">Promised Ship Qty From PO:</th>
                                    <td>{{item.nextReleasePlan.poQty}}</td>
                                  </tr>

                                  <tr>
                                    <th class="text-right">Total Bin:</th>
                                    <td colspan="2">{{item.binCount || 0}}</td>
                                    <th class="text-right">Mismatched Items:</th>
                                    <td><span ng-if="item.nextReleasePlan.mismatchItem"><a ng-click="vm.kitReleaseMismatchDetail(kitItem, null, null, null)">{{item.nextReleasePlan.mismatchItem || '-'}}</a></span><span ng-if="!item.nextReleasePlan.mismatchItem">-</span></td>
                                    <th class="text-right">Planned Kit & Planned Build Qty:</th>
                                    <td>{{item.nextReleasePlan.kitReleaseQty}}</td>
                                  </tr>

                                  <tr>
                                    <th class="text-right">Allocated UMID:</th>
                                    <td colspan="2">{{item.uidCount || 0}}</td>
                                    <th class="text-right">Mismatched Bins:</th>
                                    <td>{{item.mismatchUMIDBin || 0}}</td>
                                    <th class="text-right">Promised Ship Date:</th>
                                    <td>{{item.nextReleasePlan.poDueDate | date: vm.DefaultDateFormat }}</td>
                                  </tr>

                                  <tr>
                                    <th class="text-right">Work Order:</th>
                                    <td colspan="2">{{item.workorderNumber || '-'}}</td>
                                    <th class="text-right"></th>
                                    <td></td>
                                    <th class="text-right" ng-if="item.deptType === vm.parentWarehouseType.MaterialDepartment">{{vm.LabelConstant.SalesOrder.KitReleaseDate}}:</th>
                                    <td ng-class="{'red': item.nextReleasePlan.kitReleasedPassedDays}" colspan="2" ng-if="item.deptType === vm.parentWarehouseType.MaterialDepartment">{{item.nextReleasePlan.kitReleaseDate | date: vm.DefaultDateFormat}} <span ng-if="item.nextReleasePlan.kitReleasedPassedDays">({{item.nextReleasePlan.kitReleasedPassedDays}} Days Passed Due)</span></td>
                                    <th class="text-right" ng-if="item.deptType === vm.parentWarehouseType.ProductionDepartment">{{vm.LabelConstant.TransferStock.ActualPlannedKitReleaseDate}}:</th>
                                    <td colspan="2" ng-if="item.deptType === vm.parentWarehouseType.ProductionDepartment">{{item.nextReleasePlan.actualKitReleaseDate | date: vm.DefaultDateFormat}}</td>
                                  </tr>

                                </table>
                              </div>
                            </div>
                          </div>
                          <div class="drop-not-allow" ng-if="(vm.dragItem.transferSection === vm.transferSection.Kit || vm.dragItem.transferSection === vm.transferSection.Bin || vm.dragItem.transferSection === vm.transferSection.UID)">
                            <img src="../../../../assets/images/etc/not-allow.png" />
                          </div>
                          <div class="transfer-on-tooltip">
                            <span ng-if="vm.dragItem.transferSection === vm.transferSection.Kit">{{vm.stringFormat(vm.transferStockMessages.NOT_TRANSFER_TO_KIT, 'kit', vm.dragItem.name, kitItem.name)}}</span>
                            <span ng-if="vm.dragItem.transferSection === vm.transferSection.Bin">{{vm.stringFormat(vm.transferStockMessages.NOT_TRANSFER_TO_KIT, 'bin', vm.dragItem.name, kitItem.name)}}</span>
                            <span ng-if="vm.dragItem.transferSection === vm.transferSection.UID">{{vm.stringFormat(vm.transferStockMessages.NOT_TRANSFER_TO_KIT, 'UMID', vm.dragItem.uid, kitItem.name)}}</span>
                          </div>
                        </div>
                      </div>

                      <div ng-if="vm.kitList.transferTo.length === 0 && vm.filter.transferOption !== vm.TrasferStockType.DeptTransfer || !vm.autoCompleteToDept.keyColumnId" class="stock-empty-state flex-100 layout-row layout-align-center-center">

                        <div ng-if="vm.autoCompleteToDept.keyColumnId && !vm.uidFilter['transferTo'].searchUIDId && !vm.uidFilter['transferTo'].globalSearchUIDString && !vm.binFilter['transferTo'].searchBinId && !vm.binFilter['transferTo'].globalSearchBinString && !vm.warehouseFilter['transferTo'].searchWHId && !vm.warehouseFilter['transferTo'].globalSearchWHString">
                          {{vm.transferStockMessages.EMPTY_DEPARTMENT}}
                        </div>
                        <div ng-if="!vm.autoCompleteToDept.keyColumnId">{{vm.transferStockMessages.SELECT_DEPARTMENT}}</div>

                      </div>

                      <div ng-if="vm.kitList.transferTo.length > 0 && vm.autoCompleteToDept.keyColumnId && vm.showToKitFilterEmptyState" class="stock-empty-state flex-100 layout-row layout-align-center-center">
                        <div>
                          <div class="emty-icon">
                            <img ng-src="{{vm.emptySearch.IMAGEURL}}" />
                          </div>
                          <div>{{vm.emptySearch.MESSAGE}}</div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
                <!--End Transfer To Kit Section-->
                <!--Transfer To warehouse Section-->
                <div class="cm-section-main margin-5 warehouse-section-main layout-row layout-wrap">
                  <div class="cm-section-header flex-100 layout-row">
                    <h2><a tabindex="-1" class="cm-text-decoration underline" ng-click="vm.goToWHList();">{{vm.LabelConstant.TransferStock.WH}}</a>&nbsp;<span ng-if="vm.selectedDetail.Dept.transferTo && (vm.filter.transferOption === vm.TrasferStockType.StockTransfer || vm.filter.transferOption === vm.TrasferStockType.StockTransferToOtherDept)">({{vm.selectedDetail.Dept.transferTo.Name}})</span></h2>
                    <div flex="35" layout="row" layout-align="end center" class="cm-ml-auto">
                      <md-input-container class="margin-bottom-0 flex-90 pos-rel cm-location-bin-text" md-no-float>
                        <input type="text" name="InternalToWHSearch" id="InternalToWHSearch" ng-model="vm.scanAndSearch.InternalToWHSearch" ng-keypress="vm.scanInternalToSearchWarehouse($event)"
                               ng-disabled="!vm.autoCompleteToDept.keyColumnId || ((vm.filter.transferOption === vm.TrasferStockType.KitTransfer || vm.filter.transferOption === vm.TrasferStockType.DeptTransfer) && vm.kitList.transferTo.length === 0)" capitalize placeholder="{{vm.LabelConstant.ScanOREnter.ScanWarehouse}}" class="white-bg">
                      </md-input-container>
                      <md-button class="md-icon-button md-primary md-mini cm-btn-clear margin-0" ng-click="vm.resetWHSearch('transferTo','InternalToWHSearch')" ng-disabled="!vm.autoCompleteToDept.keyColumnId">
                        <md-icon md-font-icon="icon-close" class="material-icons mat-icon"></md-icon>
                        <md-tooltip>Clear Filter</md-tooltip>
                      </md-button>
                    </div>
                    <md-button class="md-icon-button md-primary md-mini margin-0" ng-click="vm.resetWHSearch('transferTo','InternalToWHSearch')" ng-disabled="!vm.autoCompleteToDept.keyColumnId">
                      <md-icon md-font-icon="icon-refresh" class="material-icons mat-icon"></md-icon>
                      <md-tooltip>Refresh</md-tooltip>
                    </md-button>
                  </div>
                  <div id="containerInfiniteScrollWarehouseTransferTo" class="cm-section-inner warehouse-section flex-100 layout-row layout-wrap">
                    <div class="layout-wrap layout flex"
                         infinite-scroll="vm.scrollWarehouse('transferTo')"
                         infinite-scroll-distance="1"
                         infinite-scroll-container='"#containerInfiniteScrollWarehouseTransferTo"'>
                      <div class="layout-column flex-sm-100 flex-md-100 flex-lg-100 flex-gt-lg-50 cm-warehouse-drop-sec" ng-if="vm.filter.transferOption === vm.TrasferStockType.StockTransferToOtherDept && vm.autoCompleteToDept.keyColumnId && vm.warehouseList.transferTo.length !== 0" ng-hide="vm.showToKitFilterEmptyState">
                        <div ui-sortable="vm.sortableOptions" class="apps-container drop-section transfer-stock-item" ng-model="vm.emptyDropContent.WH">
                          <div class="drag-content drop-section-content dept-kit-drop-section cm-drag-content-here">
                            <p class="cm-stock-drop-section">Drop content here to transfer warehouse</p>
                          </div>
                          <div class="drop-not-allow" ng-if="(vm.dragItem.transferSection === vm.transferSection.Bin || vm.dragItem.transferSection === vm.transferSection.UID)">
                            <img src="../../../../assets/images/etc/not-allow.png" />
                          </div>
                        </div>
                      </div>

                      <div class="layout-column flex-sm-100 flex-md-100 flex-lg-100 flex-gt-lg-50" ng-repeat="whItem in vm.warehouseList.transferTo track by $index" ng-hide="vm.showToKitFilterEmptyState">
                        <div ui-sortable="vm.sortableOptions" class="transfer-stock-item drop-section apps-container" ng-model="whItem.countDetail" data-attr="{{whItem.id}}" ng-class="{'drop-content': ((vm.dragItem.transferSection === vm.transferSection.WH && vm.dragItem.id !== whItem.id) ||  (vm.dragItem.transferSection === vm.transferSection.Bin && vm.dragItem.warehouseID !== whItem.id))}">
                          <div ng-repeat="item in whItem.countDetail track by $index" class="drag-content drop-section-content" ng-class="{'active': whItem.isSelected,'permanent':item.isPermanent}" ng-click="vm.selectDropableWarehouse(whItem,'transferTo')">
                            <div class="content-header layout-row layout-align-space-between-center">
                              <span flex-sm="75" flex-md="75" flex-lg="75" flex-gt-lg="65" class="cm-warehouse-bin cm-wh-title"><a tabindex="-1" style="-webkit-box-orient: vertical;" class="cm-text-indent cm-text-decoration underline" ng-click="vm.goToUMIDList($event, item.id);">{{item.isPermanent?'FWH':'MWH'}}: {{whItem.name}}<md-tooltip>{{item.isPermanent?'FWH':'MWH'}}: {{whItem.name}}</md-tooltip></a><copy-text ng-if="whItem.name" label="" text="whItem.name"></copy-text></span>
                              <div class="cm-cart-section" flex-lg="20" flex-gt-lg="30" flex-sm="20" flex-md="20">
                                <label class="margin-2 label-box" ng-class="{'label-box-shelving': whItem.warehouseType === vm.warehouseType.ShelvingCart.key, 'label-box-smart': whItem.warehouseType === vm.warehouseType.SmartCart.key, 'label-box-eqp': whItem.warehouseType === vm.warehouseType.Equipment.key}">
                                  {{whItem.warehouseTypeValue}}
                                </label>
                              </div>

                              <div class="layout-row layout-align-center-end" flex-lg="5" flex-gt-lg="5" flex-sm="5" flex-md="5">
                                <md-menu class="section-context-menu">
                                  <md-button class="md-icon-button" ng-click="vm.OpenMenu($event,$mdOpenMenu)"
                                             aria-label="more">
                                    <md-icon md-font-icon="icon-dots-vertical"></md-icon>
                                  </md-button>
                                  <md-menu-content class="section-context-menu-content">
                                    <md-menu-item ng-if="vm.filter.transferOption === vm.TrasferStockType.StockTransfer || vm.filter.transferOption === vm.TrasferStockType.StockTransferToOtherDept">
                                      <md-button ng-click="vm.inactiveWH(item)" aria-label="Inactive" ng-disabled="item.binCount > 0">Deactive WH</md-button>
                                    </md-menu-item>
                                    <md-menu-item>
                                      <md-button ng-click="vm.warehouseHistory(item)" aria-label="History">History</md-button>
                                    </md-menu-item>
                                  </md-menu-content>
                                </md-menu>
                              </div>
                            </div>
                            <div class="content-body">
                              <table cellspacing="0" cellpadding="0" class="cm-table-transfer">
                                <tr>
                                  <th>Total Bin:</th>
                                  <td>{{item.binCount || 'None'}}</td>
                                  <th>Total UMID:</th>
                                  <td>{{item.uidCount || 'None'}}</td>
                                </tr>
                                <tr>
                                  <th class="width-33p">{{vm.LabelConstant.UMIDManagement.UMIDPendingParts}}:</th>
                                  <td><a tabindex="-1" class="underline" ng-if="item.umidPendingParts > 0" ng-click="vm.goToNonUMIDStockList($event,item.id);">{{item.umidPendingParts}}</a><label ng-if="!item.umidPendingParts">-</label></td>
                                  <th>Empty Bin:</th>
                                  <td>{{item.totalEmptyBin || '0'}}</td>
                                </tr>
                                <tr>
                                  <th ng-if="vm.filter.transferOption === vm.TrasferStockType.KitTransfer || vm.filter.transferOption === vm.TrasferStockType.DeptTransfer" class="width-37p">Partially Allocated Bin:</th>
                                  <td ng-if="vm.filter.transferOption === vm.TrasferStockType.KitTransfer || vm.filter.transferOption === vm.TrasferStockType.DeptTransfer">{{item.anotherKitStock || '0'}}</td>
                                  <th ng-if="vm.filter.transferOption === vm.TrasferStockType.KitTransfer || vm.filter.transferOption === vm.TrasferStockType.DeptTransfer">Unallocated Bin:</th>
                                  <td ng-if="vm.filter.transferOption === vm.TrasferStockType.KitTransfer || vm.filter.transferOption === vm.TrasferStockType.DeptTransfer">{{item.unallocatekitStock || '0'}}</td>
                                </tr>
                              </table>
                            </div>
                          </div>
                          <div class="drop-not-allow" ng-if="((vm.dragItem.transferSection === vm.transferSection.WH && vm.dragItem.id === whItem.id) || (vm.dragItem.transferSection === vm.transferSection.Bin && vm.dragItem.warehouseID === whItem.id) || vm.dragItem.transferSection === vm.transferSection.UID)">
                            <img src="../../../../assets/images/etc/not-allow.png" />
                          </div>
                          <div class="transfer-on-tooltip">
                            <span ng-if="vm.dragItem.transferSection === vm.transferSection.WH && vm.dragItem.id !== whItem.id">
                              {{vm.stringFormat(vm.transferStockMessages.WH_TO_WH, vm.dragItem.name, whItem.name)}}
                            </span>
                            <span ng-if="((vm.dragItem.transferSection === vm.transferSection.WH && vm.dragItem.id === whItem.id)||(vm.dragItem.transferSection === vm.transferSection.Bin && vm.dragItem.warehouseID === whItem.id))">
                              {{vm.transferStockMessages.NOT_ALLOW_WITHIN_WH}}
                            </span>
                            <span ng-if="vm.dragItem.transferSection === vm.transferSection.Bin && vm.dragItem.warehouseID !== whItem.id">
                              {{vm.stringFormat(vm.transferStockMessages.BIN_TO_WH, vm.dragItem.name, whItem.name)}}
                            </span>
                            <span ng-if="vm.dragItem.transferSection === vm.transferSection.UID">
                              {{vm.stringFormat(vm.transferStockMessages.NOT_TRANSFER_UMID_TO_WH, vm.dragItem.uid, whItem.name)}}
                            </span>
                          </div>
                        </div>
                      </div>

                      <div ng-if="vm.warehouseList.transferTo.length === 0" class="stock-empty-state flex-100 layout-row layout-align-center-center">
                        <div ng-if="vm.autoCompleteToDept.keyColumnId && !vm.uidFilter['transferTo'].searchUIDId && !vm.binFilter['transferTo'].searchBinId && !vm.warehouseFilter['transferTo'].searchWHId">
                          {{vm.filter.transferOption === vm.TrasferStockType.KitTransfer || vm.filter.transferOption === vm.TrasferStockType.DeptTransfer ?	vm.kitList.transferTo.length === 0 ? vm.transferStockMessages.EMPTY_DEPARTMENT : vm.transferStockMessages.EMPTY_KIT : vm.transferStockMessages.EMPTY_WAREHOUSE}}
                        </div>
                        <div ng-if="vm.autoCompleteToDept.keyColumnId && (vm.warehouseFilter['transferTo'].searchWHId)">
                          <div class="emty-icon">
                            <img ng-src="{{vm.emptySearch.IMAGEURL}}" />
                          </div>
                          <div>{{vm.emptySearch.MESSAGE}}</div>
                        </div>
                        <div ng-if="!vm.autoCompleteToDept.keyColumnId">{{vm.transferStockMessages.SELECT_DEPARTMENT}}</div>
                      </div>

                      <div ng-if="vm.warehouseList.transferTo.length > 0 && vm.autoCompleteToDept.keyColumnId && vm.showToKitFilterEmptyState" class="stock-empty-state flex-100 layout-row layout-align-center-center">
                        <div>
                          <div class="emty-icon">
                            <img ng-src="{{vm.emptySearch.IMAGEURL}}" />
                          </div>
                          <div>{{vm.emptySearch.MESSAGE}}</div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
                <!--End Transfer To Warehouse Section-->
                <!--Transfer To Bin Section-->
                <div class="cm-section-main margin-5 bin-section-main layout-row layout-wrap">
                  <div class="cm-section-header flex-100 layout-row">
                    <h2><a tabindex="-1" class="cm-text-decoration underline" ng-click="vm.goToBinList();">{{vm.LabelConstant.TransferStock.Bin}}</a></h2>
                    <div flex="35" layout="row" layout-align="end center" class="cm-ml-auto">
                      <md-input-container flex="90" class="margin-bottom-0 pos-rel cm-location-bin-text" md-no-float>
                        <input type="text" name="InternalToSearchBin" id="InternalToSearchBin" ng-model="vm.scanAndSearch.InternalToSearchBin" ng-keypress="vm.scanInternalToSearchBin($event)"
                               ng-disabled="!vm.autoCompleteToDept.keyColumnId || vm.warehouseList.transferTo.length === 0" capitalize placeholder="{{vm.LabelConstant.ScanOREnter.ScanBin}}" class="white-bg">
                      </md-input-container>
                      <md-button class="md-icon-button md-primary md-mini cm-btn-clear margin-0" ng-click="vm.resetBinSearch('transferTo','InternalToSearchBin')" ng-disabled="!vm.autoCompleteToDept.keyColumnId">
                        <md-icon md-font-icon="icon-close" class="material-icons mat-icon"></md-icon>
                        <md-tooltip>Clear Filter</md-tooltip>
                      </md-button>
                    </div>
                    <md-button class="md-icon-button md-primary md-mini margin-0" ng-click="vm.resetBinSearch('transferTo','InternalToSearchBin')" ng-disabled="!vm.autoCompleteToDept.keyColumnId">
                      <md-icon md-font-icon="icon-refresh" class="material-icons mat-icon"></md-icon>
                      <md-tooltip>Refresh</md-tooltip>
                    </md-button>
                  </div>
                  <div id="containerInfiniteScrollBinTransferTo" class="cm-section-inner bin-section flex-100 layout-row layout-wrap">
                    <div class="layout-wrap layout flex"
                         infinite-scroll="vm.scrollBin('transferTo')"
                         infinite-scroll-distance="1"
                         infinite-scroll-container='"#containerInfiniteScrollBinTransferTo"'>
                      <div class="layout-column flex-sm-100 flex-md-100 flex-lg-100 flex-gt-lg-50" ng-repeat="binItem in vm.binList.transferTo track by $index" ng-class="{'kit-bin-section': (vm.filter.transferOption === vm.TrasferStockType.KitTransfer || vm.filter.transferOption === vm.TrasferStockType.DeptTransfer)}" ng-hide="vm.showToKitFilterEmptyState">
                        <div ui-sortable="vm.sortableOptions" class="transfer-stock-item drop-section apps-container" ng-model="binItem.countDetail" data-attr="{{binItem.id}}" ng-class="{'drop-content': (((vm.dragItem.transferSection === vm.transferSection.Bin && vm.dragItem.id !== binItem.id) || (vm.dragItem.transferSection === vm.transferSection.UID && vm.dragItem.binID !== binItem.id)) && !binItem.isCluster)}">
                          <div ng-repeat="item in binItem.countDetail track by $index" class="drag-content drop-section-content" ng-class="{'active': binItem.isSelected,'permanent':item.isPermanent}" ng-click="vm.selectDropableBin(binItem,'transferTo')">
                            <div class="content-header layout-row layout-align-space-between-center">
                              <span flex="80" layout="row" class="cm-overflow-hidden">
                                <span class="cm-warehouse-bin  flex-100" ng-if="!item.isCluster">
                                  <a tabindex="-1" style="-webkit-box-orient: vertical;" class="cm-text-indent cm-text-decoration underline" ng-click="vm.goToUMIDList($event, item.warehouseID, item.id, vm.selectedDetail.Kit.transferFrom.refSalesOrderDetID, vm.selectedDetail.Kit.transferTo.assyID);">{{item.isPermanent?'FBin':'MBin'}}: {{binItem.name}}<md-tooltip>{{item.isPermanent?'FBin':'MBin'}}: {{binItem.name}}</md-tooltip></a>
                                  <copy-text ng-if="binItem.name" label="" text="binItem.name"></copy-text>
                                </span>&nbsp;
                                <span class="cm-warehouse-bin flex-100" ng-if="item.isCluster"><a style="-webkit-box-orient: vertical;" tabindex="-1" class="cm-text-decoration underline" ng-click="vm.goToUMIDList($event, item.warehouseID, 0, vm.selectedDetail.Kit.transferFrom.refSalesOrderDetID, vm.selectedDetail.Kit.transferTo.assyID);">WH: {{item.warehouseName}}<md-tooltip>WH: {{item.warehouseName}}</md-tooltip></a>&nbsp;[Bin Cluster]<md-tooltip style="margin-top: 30px;">[Bin Cluster]</md-tooltip></span>
                              </span>
                              <div class="layout-row layout-align-center-end" flex="20">
                                <md-menu class="section-context-menu">
                                  <md-button class="md-icon-button" ng-click="vm.OpenMenu($event,$mdOpenMenu)"
                                             aria-label="more">
                                    <md-icon md-font-icon="icon-dots-vertical"></md-icon>
                                  </md-button>
                                  <md-menu-content class="section-context-menu-content">
                                    <md-menu-item>
                                      <md-button ng-click="vm.inactiveBin(item)" aria-label="Inactive" ng-disabled="item.uidCount > 0 || item.umidPendingParts > 0">Inactive</md-button>
                                    </md-menu-item>
                                    <md-menu-item>
                                      <md-button ng-click="vm.binHistory(item)" aria-label="History">History</md-button>
                                    </md-menu-item>
                                  </md-menu-content>
                                </md-menu>
                              </div>
                            </div>
                            <div class="content-body">
                              <table cellspacing="0" cellpadding="0" class="cm-table-transfer">
                                <tr>
                                  <th>Warehouse:</th>
                                  <td>{{item.warehouseName}}</td>
                                  <th class="width-35p">{{vm.LabelConstant.UMIDManagement.UMIDPendingParts}}:</th>
                                  <td><a tabindex="-1" class="underline" ng-if="item.umidPendingParts > 0" ng-click="vm.goToNonUMIDStockList($event,item.warehouseID, item.id);">{{item.umidPendingParts}}</a><label ng-if="!item.umidPendingParts">-</label></td>
                                </tr>
                                <tr>
                                  <th class="width-25p" ng-if="vm.filter.transferOption === vm.TrasferStockType.StockTransfer || vm.filter.transferOption === vm.TrasferStockType.StockTransferToOtherDept">Total UMID:</th>
                                  <th class="width-25p" ng-if="vm.filter.transferOption === vm.TrasferStockType.KitTransfer || vm.filter.transferOption === vm.TrasferStockType.DeptTransfer">Allocated UMID:</th>
                                  <td>{{item.uidCount || 'None'}}</td>
                                  <th>PID Count:</th>
                                  <td>{{item.PIDCount || 'None'}}</td>
                                </tr>
                                <tr>
                                  <th ng-if="vm.filter.transferOption === vm.TrasferStockType.KitTransfer || vm.filter.transferOption === vm.TrasferStockType.DeptTransfer">Mismatched UMID:</th>
                                  <td ng-if="vm.filter.transferOption === vm.TrasferStockType.KitTransfer || vm.filter.transferOption === vm.TrasferStockType.DeptTransfer">{{item.mismatchUMID || 0}}</td>
                                  <th ng-if="vm.filter.transferOption === vm.TrasferStockType.KitTransfer || vm.filter.transferOption === vm.TrasferStockType.DeptTransfer">Mismatched PID:</th>
                                  <td ng-if="vm.filter.transferOption === vm.TrasferStockType.KitTransfer || vm.filter.transferOption === vm.TrasferStockType.DeptTransfer">{{item.mismatchPID || 0}}</td>

                                </tr>
                              </table>
                            </div>
                          </div>
                          <div class="drop-not-allow" ng-if="((vm.dragItem.transferSection === vm.transferSection.Bin && vm.dragItem.id === binItem.id) ||
									                      (vm.dragItem.transferSection === vm.transferSection.UID && vm.dragItem.binID === binItem.id) ||
									                      (vm.dragItem.transferSection === vm.transferSection.WH) ||
									                      ((vm.dragItem.transferSection === vm.transferSection.Bin || vm.dragItem.transferSection === vm.transferSection.UID) && binItem.isCluster))">
                            <img src="../../../../assets/images/etc/not-allow.png" />
                          </div>
                          <div class="transfer-on-tooltip">
                            <span ng-if="vm.dragItem.transferSection === vm.transferSection.Bin && vm.dragItem.id !== binItem.id &&!binItem.isCluster">
                              {{vm.stringFormat(vm.transferStockMessages.BIN_TO_BIN, vm.dragItem.name, binItem.name)}}
                            </span>
                            <span ng-if="vm.dragItem.transferSection === vm.transferSection.UID && vm.dragItem.binID !== binItem.id && !binItem.isCluster">
                              {{vm.stringFormat(vm.transferStockMessages.UMID_TO_BIN, vm.dragItem.uid, binItem.name)}}
                            </span>
                            <span ng-if="((vm.dragItem.transferSection === vm.transferSection.Bin && vm.dragItem.id === binItem.id) || (vm.dragItem.transferSection === vm.transferSection.UID && vm.dragItem.binID === binItem.id))">
                              {{vm.transferStockMessages.NOT_ALLOW_WITHIN_BIN}}
                            </span>
                            <span ng-if="vm.dragItem.transferSection === vm.transferSection.WH">
                              {{vm.transferStockMessages.WH_TO_BIN_NOT_ALLOW}}
                            </span>
                            <span ng-if="((vm.dragItem.transferSection === vm.transferSection.Bin || vm.dragItem.transferSection === vm.transferSection.UID) && binItem.isCluster)">
                              {{vm.transferStockMessages.NOT_ALLOW_TO_BIN_CLUSTER}}
                            </span>
                          </div>
                        </div>
                      </div>
                      <div ng-if="vm.binList.transferTo.length === 0" class="stock-empty-state flex-100 layout-row layout-align-center-center">

                        <div ng-if="vm.autoCompleteToDept.keyColumnId && !vm.uidFilter['transferTo'].searchUIDId && !vm.binFilter['transferTo'].searchBinId && !vm.warehouseFilter['transferTo'].searchWHId">
                          {{vm.filter.transferOption === vm.TrasferStockType.KitTransfer || vm.filter.transferOption === vm.TrasferStockType.DeptTransfer ?	vm.kitList.transferTo.length === 0 ? vm.transferStockMessages.EMPTY_DEPARTMENT : vm.transferStockMessages.EMPTY_KIT : vm.binList.transferTo.length === 0 ? vm.transferStockMessages.EMPTY_WAREHOUSE : vm.transferStockMessages.EMPTY_BIN}}
                        </div>
                        <div ng-if="vm.autoCompleteToDept.keyColumnId && (vm.warehouseFilter['transferTo'].searchWHId || vm.binFilter['transferTo'].searchBinId)">
                          <div class="emty-icon">
                            <img ng-src="{{vm.emptySearch.IMAGEURL}}" />
                          </div>
                          <div>{{vm.emptySearch.MESSAGE}}</div>
                        </div>
                        <div ng-if="!vm.autoCompleteToDept.keyColumnId">{{vm.transferStockMessages.SELECT_DEPARTMENT}}</div>

                      </div>
                      <div ng-if="vm.binList.transferTo.length > 0 && vm.autoCompleteToDept.keyColumnId && vm.showToKitFilterEmptyState" class="stock-empty-state flex-100 layout-row layout-align-center-center">
                        <div>
                          <div class="emty-icon">
                            <img ng-src="{{vm.emptySearch.IMAGEURL}}" />
                          </div>
                          <div>{{vm.emptySearch.MESSAGE}}</div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
                <!--End Transfer To Bin Section-->
                <!--Transfer To UMID Section-->
                <div flex layout="column">
                  <div class="cm-section-main margin-5 uid-section-main flex-100 layout-column">
                    <div class="cm-section-header layout-row cm-transfer-stock-rs">
                      <h2><a tabindex="-1" class="cm-text-decoration underline" ng-click="vm.goToUMIDList();">{{vm.LabelConstant.TransferStock.UMID}}</a></h2>
                      <div flex="35" layout="row" layout-align="end center" class="cm-ml-auto">
                        <md-input-container flex="90" class="margin-bottom-0 pos-rel cm-location-bin-text" md-no-float>
                          <input type="text" name="InternalToSearchUID" id="InternalToSearchUID" ng-model="vm.scanAndSearch.InternalToSearchUID" ng-keypress="vm.scanInternalToSearchUID($event)"
                                 ng-disabled="!vm.autoCompleteToDept.keyColumnId || vm.binList.transferTo.length === 0" capitalize placeholder="{{vm.LabelConstant.ScanOREnter.ScanUMID}}" class="white-bg">
                        </md-input-container>
                        <md-button class="md-icon-button md-primary md-mini cm-btn-clear margin-0" ng-click="vm.resetUMIDSearch('transferTo','InternalToSearchUID')" ng-disabled="!vm.autoCompleteToDept.keyColumnId">
                          <md-icon md-font-icon="icon-close" class="material-icons mat-icon"></md-icon>
                          <md-tooltip>Clear Filter</md-tooltip>
                        </md-button>
                      </div>
                      <md-button class="md-icon-button md-primary md-mini margin-0" ng-click="vm.resetUMIDSearch('transferTo','InternalToSearchUID')" ng-disabled="!vm.autoCompleteToDept.keyColumnId">
                        <md-icon md-font-icon="icon-refresh" class="material-icons mat-icon"></md-icon>
                        <md-tooltip>Refresh</md-tooltip>
                      </md-button>
                    </div>
                    <div id="containerInfiniteScrollUMIDTransferTo" layout="column" flex class="cm-section-inner padding-0 uid-section layout-align-start-start cm-overflow-auto height-370">
                      <div layout="column" flex
                           infinite-scroll="vm.scrollUMID('transferTo')"
                           infinite-scroll-distance="1"
                           infinite-scroll-disabled="true"
                           infinite-scroll-container='"#containerInfiniteScrollUMIDTransferTo"'>
                        <div class="cm-transaction-tab" layout="column" flex ng-hide="vm.showToKitFilterEmptyState">
                          <md-table-container layout="row" flex="100">
                            <table md-table class="cm-transfer-stock-umid-table">
                              <thead fix-head md-head>
                                <tr md-row ng-if="vm.componentList.transferTo.length > 0">
                                  <th class="cm-action-to-head text-center">Action</th>
                                  <th class="w-50">#</th>
                                  <th class="w-160">{{vm.LabelConstant.UMIDManagement.UMID}}</th>
                                  <th class="w-250">Bin</th>
                                  <th class="w-100">{{vm.LabelConstant.MFG.MFG}}</th>
                                  <th class="w-300">{{vm.LabelConstant.MFG.MFGPN}}</th>
                                  <th class="w-300">{{vm.LabelConstant.MFG.MFGPNDescription}}</th>
                                  <th class="w-100 text-center">Count</th>
                                  <th class="w-100">UOM</th>
                                  <th class="w-160">Mounting Type</th>
                                  <th class="w-200">Allocated To Kit</th>
                                </tr>
                              </thead>
                              <tbody md-body>
                                <tr md-row md-auto-select ng-repeat="component in vm.componentList.transferTo track by $index" ng-class="{'mismatchUMID': ((vm.filter.transferOption === vm.TrasferStockType.KitTransfer || vm.filter.transferOption === vm.TrasferStockType.DeptTransfer) && !component.isAllocatedToKit)}">
                                  <td class="cm-action-to-body text-center">
                                    <md-button class="md-primary grid-button md-icon-button bdrbtn cm-sq-btn" ng-click="vm.transferStockHistory($event, component)">
                                      <md-icon role="img" md-font-icon="t-icons-history-text"></md-icon>
                                      <md-tooltip md-direction="top">History</md-tooltip>
                                    </md-button>
                                  </td>
                                  <td class="w-50">{{($index+1)}}</td>
                                  <td class="w-160">
                                    <a ng-click="vm.goToUMIDDetail(component)" tabindex="-1" class="cm-text-decoration underline cursor-pointer">
                                      {{component.uid}}
                                    </a>
                                    <copy-text label="vm.LabelConstant.UMIDManagement.UMID" text="component.uid"></copy-text>
                                  </td>
                                  <td class="w-250">{{component.binName}}</td>
                                  <td class="w-100">{{component.mfgCode}}</td>
                                  <td class="w-300">
                                    <common-pid-code-label-link component-id="component.refcompid"
                                                                label="vm.LabelConstant.MFG.MFGPN"
                                                                value="component.mfgPN"
                                                                is-copy="true"
                                                                is-custom-part="component.isCustom"
                                                                rohs-icon="vm.rohsImagePath+component.rohsIcon"
                                                                rohs-status="component.rohsName"
                                                                is-search-digi-key="true"></common-pid-code-label-link>

                                  </td>
                                  <td class="w-300">{{component.mfgPNDescription}}</td>
                                  <td class="w-100 text-center">{{component.pkgQty}}</td>
                                  <td class="w-100">{{component.uomName}}</td>
                                  <td class="w-160">{{component.mountingTypeName}}</td>
                                  <td class="w-200 md-truncate">
                                    <a ng-click="vm.allocatedKit(component)" tabindex="-1" class="cursor-pointer">
                                      <md-tooltip md-direction="top">{{component.allocatedToKits}}</md-tooltip>
                                      {{component.allocatedToKits}}
                                    </a>
                                  </td>
                                </tr>
                              </tbody>
                            </table>
                          </md-table-container>
                        </div>
                        <div ng-if="vm.componentList.transferTo.length === 0" class="stock-empty-state flex-100 layout-row layout-align-center-center">

                          <div ng-if="vm.autoCompleteToDept.keyColumnId && !vm.uidFilter['transferTo'].searchUIDId && !vm.binFilter['transferTo'].searchBinId && !vm.warehouseFilter['transferTo'].searchWHId">
                            {{vm.filter.transferOption === vm.TrasferStockType.KitTransfer || vm.filter.transferOption === vm.TrasferStockType.DeptTransfer ?	vm.kitList.transferTo.length === 0 ? vm.transferStockMessages.EMPTY_DEPARTMENT : vm.transferStockMessages.EMPTY_KIT : vm.binList.transferTo.length === 0 ? vm.transferStockMessages.EMPTY_WAREHOUSE : vm.transferStockMessages.EMPTY_BIN}}
                          </div>
                          <div ng-if="vm.autoCompleteToDept.keyColumnId && (vm.warehouseFilter['transferTo'].searchWHId || vm.binFilter['transferTo'].searchBinId || vm.uidFilter['transferTo'].searchUIDId ||
                                        !vm.selectedDetail.Dept.transferFrom.isCheckMRP && !vm.selectedDetail.Dept.transferFrom.isCheckMWS && !vm.selectedDetail.Dept.transferFrom.isCheckMRR
                                        && vm.selectedDetail.Dept.transferFrom.isCheckMRE &&
                                        !vm.selectedDetail.Dept.transferFrom.isCheckPRE && !vm.selectedDetail.Dept.transferFrom.isCheckPPR && !vm.selectedDetail.Dept.transferFrom.isCheckPNR)">
                            <div class="emty-icon">
                              <img ng-src="{{vm.emptySearch.IMAGEURL}}" />
                            </div>
                            <div>{{vm.emptySearch.MESSAGE}}</div>
                          </div>
                          <div ng-if="!vm.autoCompleteToDept.keyColumnId">{{vm.transferStockMessages.SELECT_DEPARTMENT}}</div>

                        </div>
                        <div ng-if="vm.componentList.transferTo.length > 0 && vm.autoCompleteToDept.keyColumnId && vm.showToKitFilterEmptyState" class="stock-empty-state flex-100 layout-row layout-align-center-center">
                          <div>
                            <div class="emty-icon">
                              <img ng-src="{{vm.emptySearch.IMAGEURL}}" />
                            </div>
                            <div>{{vm.emptySearch.MESSAGE}}</div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
                <!--End Transfer To UMID Section-->

              </div>
            </div>
          </md-card>

        </div>

      </div>
    </div>
  </form>
</div>

