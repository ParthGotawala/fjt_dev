<md-dialog draggable class="cm-custom-label-common width-75p">
    <md-toolbar>
        <div class="md-toolbar-tools">
            <h2>Part Expiry Information</h2>
            <span flex></span>
            <md-button class="md-icon-button" ng-click="vm.cancel()">
                <md-icon role="img" md-font-icon="icon-close" class="material-icons mat-icon icon-close"></md-icon>
            </md-button>
        </div>
    </md-toolbar>
    <md-dialog-content class="customer-modal no-padding custom-scroll">
        <md-content class="md-padding" layout="column" layout-gt-xs="row">
            <div class="content fullpage-datatable" flex="100">
                <div class="padding-10">
                    <h3>
                        <b>
                            <span class="color-red" ng-bind-html="vm.expirePartDet.expirePartMessage"></span>
                        </b>
                    </h3>
                </div>
                <div flex="100" layout="row" layout-align="end">
                    <div flex="25" layout="row" class="input-wrapper padding-right-10 layout-row flex">
                        <p class="label-container">Search <span>&nbsp;</span></p>
                        <md-input-container class="md-block search-header margin-0 error-none">
                            <input type="text" ng-model="vm.queryPartExpiry.search" ng-change="vm.searchPartExpiryInfo()" ng-model-options="{debounce: vm.debounceConstant.mdDataTable }" placeholder="Search">
                        </md-input-container>
                    </div>
                    <div layout-align="end center" class="layout-align-end-center">
                        <md-button class="md-primary md-raised mv-0 ml-0 md-button md-default-theme md-ink-ripple" aria-label="Clear"
                                    ng-disabled="!vm.queryPartExpiry.search" ng-click="vm.queryPartExpiry.search = '';vm.searchPartExpiryInfo()">
                            Clear
                        </md-button>
                    </div>
                    <md-button class="md-primary md-raised mt-0" ng-click="vm.goToBinList()">
                        Go to Bin
                    </md-button>
                </div>
                <md-table-container flex="100">
                    <table md-table class="md-data-table table-row-select" ng-model="vm.selectedItems" ms-responsive-table>
                        <thead md-head md-order="">
                            <tr md-row>
                                <th md-column>#</th>
                                <th md-column>{{vm.LabelConstant.UMIDManagement.UMID}}</th>
                                <th md-column>{{vm.LabelConstant.MFG.PID}}</th>
                                <th md-column>{{vm.LabelConstant.TransferStock.CurrentWH}}</th>
                                <th md-column>{{vm.LabelConstant.TransferStock.CurrentLocation}}</th>
                                <th md-column>{{vm.LabelConstant.UMIDManagement.DateOfExpiration}}</th>
                                <th md-column>Status</th>
                            </tr>
                        </thead>
                        <tbody md-body>
                            <tr md-row ng-repeat="expireItem in vm.expirePartDet.expirePartList">
                                <td md-cell>{{$index+1}}</td>
                                <td md-cell>
                                    <a tabindex="-1" class="cm-text-decoration"
                                       ng-mousedown="vm.goToUMIDDetail(expireItem);$event.preventDefault();">
                                        {{expireItem.uid}}
                                    </a>
                                    <copy-text label="vm.LabelConstant.UMIDManagement.UMID" text="expireItem.uid"></copy-text>
                                </td>
                                <td md-cell>
                                  <common-pid-code-label-link component-id="expireItem.componentID"
                                                              label="vm.LabelConstant.MFG.PID" value="expireItem.PIDCode"
                                                              is-copy="true"
                                                              is-mfg="true"
                                                              mfg-label="vm.LabelConstant.MFG.MFGPN"
                                                              mfg-value="expireItem.mfgPN"
                                                              rohs-icon="expireItem.displayRohsIcon"
                                                              rohs-status="expireItem.rohsStatusName" is-formated="true"
                                                              is-copy-ahead-label="true"
                                                              is-search-digi-key="true" is-search-findchip="true"
                                                              is-custom-part="expireItem.isCustom">
                                  </common-pid-code-label-link>
                                </td>
                                <td md-cell>{{expireItem.Warehouse}}</td>
                                <td md-cell>{{expireItem.Location_Bin}}</td>
                                <td md-cell>{{expireItem.expiryDate | date : vm.dateDisplayFormat}}</td>
                                <td md-cell class="color-red">{{expireItem.currStatus}}</td>
                            </tr>
                        </tbody>
                    </table>
                </md-table-container>
                <div class="empty-state full-height-90" layout="row" layout-wrap layout-align="center center"
                     ng-if="vm.queryPartExpiry.search && vm.expirePartDet.expirePartList.length == 0">
                    <div class="emty-icon" flex="100">
                        <img ng-src="{{vm.emptySearch.IMAGEURL}}" />
                    </div>
                    <p class="empty-state-title" flex="100">{{vm.emptySearch.MESSAGE}}</p>
                </div>
            </div>
        </md-content>
    </md-dialog-content>
    <md-dialog-actions layout="row">
        <md-button class="md-default md-raised" ng-click="vm.cancel()">Close</md-button>
    </md-dialog-actions>
</md-dialog>
