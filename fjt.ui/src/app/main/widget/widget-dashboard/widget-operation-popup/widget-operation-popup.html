<md-dialog aria-label="Widget operation" cg-busy="{promise:vm.cgBusyLoading}" class="operation-pop-main" draggable>
  <!-- CONTENT -->
  <form name="vm.SelectChartOperations">
    <md-toolbar>
      <div class="md-toolbar-tools">
        <h2>Select Operations</h2>
        <span flex></span>
        <md-button class="md-icon-button" ng-click="vm.cancel()">
          <md-icon role="img" md-font-icon="icon-close" class="material-icons mat-icon icon-close"></md-icon>
        </md-button>
      </div>
    </md-toolbar>
    <md-dialog-content class="customer-modal no-padding custom-scroll">
      <md-content class="margin-10" layout="column" layout-gt-xs="row">
        <!--md-padding-->
        <div flex="100" class="padding-left-5 padding-right-5">
          <div layout="row" class="mb-0">
            <div flex="50" layout-align="start center">
              <!--<span class="chart-op-lbl"><b>Operations</b></span>-->
              <!--<div class="switch margin-right-20"
                   ng-class="{'active' : vm.isAll}">
                  <input type="checkbox"
                         name="Sample" ng-change="vm.selectedOperation();"
                         ng-model="vm.isAll" />
                  <div class="switch-txt-wrapper" no-translate-class>
                      <span class="switch-toggle"></span>
                      <p class="value-switch">{{vm.isAll ? 'All': 'Manual'}}</p>
                      <p class="value-switch switchtext">{{vm.isAll ? 'Manual' : 'All'}}</p>
                  </div>
              </div>-->
              <div flex="30">
                <span class="chart-op-lbl"><b>Operations</b></span>
                <div class="margin-top-10 headerswitch margin-right-20"
                     ng-class="{'active' : vm.isAll,
                                     'fouse-me':FocusOnisAll}">
                  <div layout="row" flex="100" no-translate-class>
                    <md-radio-group name="Sample" layout="row" ng-change="vm.selectedOperation();"
                                    class="margin-right-0" ng-model="vm.isAll">
                      <md-radio-button ng-value="false">Manual</md-radio-button>
                      <md-radio-button ng-value="true">All</md-radio-button>
                    </md-radio-group>
                  </div>
                </div>
              </div>
            </div>
            <div flex="50" class="">
              <div class="md-subheader-inner selectedcount" flex="" layout="row" layout-align="end end">
                <div class="md-subheader-content mb-10 margin-top-10"><span>{{ vm.isAll ? (vm.OperationList.length) : (vm.selectedOperationList ? vm.selectedOperationList.length : "0")}}</span> Operation(s) Selected</div>
              </div>
            </div>
          </div>
          <div flex="100" flex-xs="100" layout="row" class="mobilesearch userpermissionhead">
            <md-input-container class="md-block error-none no-label" flex flex-xs="75" ng-class="{'clickedsearch':isButtonclicked}">
              <input id="SearchOperationText" type="text"
                     placeholder="Type here to search operations"
                     ng-model="vm.SearchOperationText"
                     ng-keyup="vm.SearchOperation(vm.OperationList, vm.SearchOperationText)"
                     custom-blur="vm.SearchOperation(vm.OperationList, vm.SearchOperationText)">
            </md-input-container>
            <md-button class="md-raised md-primary md-ink-ripple margin-0"
                       ng-disabled="!vm.SearchOperationText"
                       ng-click="vm.SearchOperationText='';vm.SearchOperation(vm.OperationList, vm.SearchOperationText)">
              Clear
            </md-button>
          </div>
          <div class="permissiontab price-tables manage-standard" ms-scroll flex="100" layout="row" layout-wrap ng-if="vm.OperationList.length > 0">
            <div class="style-1 md-whiteframe" layout="column" flex="100">
              <md-list class="operation-popup">
                <md-list-item ng-repeat="operation in vm.OperationList | orderBy: 'opName'" layout="row" layout-align="start stretch"
                              ng-class="{'checkbox-disable': vm.isAll}"
                              ng-disabled="vm.isAll">
                  <md-checkbox class="margin-0" ng-model="operation.selected"
                               ng-change="vm.AddToSelectedOperation(operation);"
                               ng-disabled="vm.isAll">

                  </md-checkbox>
                  <div flex class="text-main">
                    <i class="icon-checkbox-blank-circle-outline normal"></i>
                    <i class="icon-check-circle checked"></i>
                    <a class="cm-text-decoration" ng-click="vm.goToManageOperation(operation.opID);">
                      {{ operation.opFullName }}
                    </a>
                  </div>
                </md-list-item>
              </md-list>
            </div>
          </div>
          <div class="empty-state text-center" layout="row" flex="100" layout-wrap ng-if="vm.OperationList.length == 0">
            <div class="emty-icon" flex="100">
              <img ng-src="{{vm.EmptyMesssage.IMAGEURL}}" />
            </div>
            <p class="empty-state-title font-size-2 useadded-emptytxt" flex="100" ng-if="vm.SearchOperationText == null && vm.OperationList.length == 0">
              {{vm.EmptyMesssage.NO_SELECTED}}
            </p>
            <p class="empty-state-title font-size-2 useadded-emptytxt" flex="100" ng-if="vm.SearchOperationText != null && vm.FilterOperationList != true">
              {{vm.EmptyMesssage.EMPTY_SEARCH_MESSAGE}}
            </p>
          </div>
        </div>
      </md-content>
    </md-dialog-content>
    <md-dialog-actions layout="row">
      <md-button class="md-default md-raised" ng-click="vm.cancel()">Cancel</md-button>
      <md-button class="md-primary md-raised" ng-click="vm.save()" ng-disabled="vm.selectedOperationList.length == 0 ? vm.isAll ? false : true : false && !vm.isAll">save</md-button>
    </md-dialog-actions>
  </form>
  <!-- / CONTENT -->
</md-dialog>
