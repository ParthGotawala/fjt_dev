<form name="vm.ecoRequestForm" class="page-layout simple fullwidth doc-page breadcrumb-fixed cm-custom-label-common" ng-class="{'formdirty':vm.checkFormDirty(vm.ecoRequestForm)}" ms-form-wizard-form novalidate>
    <div class="cm-section-main border-0" flex="100" layout="row">
        <div class="cm-section-inner overflow-auto-rs" flex="100">
            <table cellspacing="0" cellpadding="0" class="cm-table-input-main">
                <tbody>
                    <tr>
                        <th><p class="label-container">Request From:</p></th>
                        <td>
                            <md-radio-group flex="100" flex-xs="100" ng-model="vm.requestFrom" layout="row" class="margin-0 "
                                            ng-disabled="vm.isWoInSpecificStatusNotAllowedToChange">
                                <md-radio-button class="margin-top-0" name="requestFrom" value="CUST">
                                    CUSTOMER
                                </md-radio-button>
                                <md-radio-button class="margin-top-0" name="requestFrom" value="{{vm.InternalName}}">
                                    {{vm.InternalName}}
                                </md-radio-button>
                            </md-radio-group>
                        </td>
                        <th ng-if="vm.ecoRequestModel.requestType == vm.requestType.ECO.Value"><p class="label-container">{{vm.requestFrom == 'CUST' ? vm.CustomerECO : vm.FCAECO}}<span>&nbsp;*</span></p></th>
                        <th ng-if="vm.ecoRequestModel.requestType == vm.requestType.DFM.Value"><p class="label-container">{{vm.requestFrom == 'CUST' ? vm.CustomerDFM : vm.FCADFM}}</p></th>
                        <td>
                            <span class="cm-custom-td-span" ng-if="vm.ecoRequestModel.requestType == vm.requestType.DFM.Value"><b>{{vm.requestFromNumber}}</b></span>
                            <md-input-container flex="100" ng-if="vm.ecoRequestModel.requestType == vm.requestType.ECO.Value">
                                <input type="text" name="requestFromNumber" ng-model="vm.requestFromNumber"
                                       class="input-text-uppercase"
                                       placeholder="vm.ecoRequestModel.requestType == vm.requestType.DFM.Value?vm.requestFrom == 'CUST' ? vm.CustomerDFM : vm.FCADMF:vm.requestFrom == 'CUST' ? vm.CustomerECO : vm.FCAECO"
                                       capitalize required
                                       custom-auto-focus="true"
                                       ng-if="vm.ecoRequestModel.requestType == vm.requestType.ECO.Value"
                                       ng-maxlength="255"
                                       ng-disabled="vm.isWoInSpecificStatusNotAllowedToChange">
                                <div ng-messages="vm.ecoRequestForm.requestFromNumber.$error" role="alert">
                                    <div ng-message="required">
                                        <span>{{vm.CORE_MESSAGE_CONSTANT.REQUIRED}}</span>
                                    </div>
                                    <div ng-message="maxlength">
                                        <span>{{vm.getMaxLengthValidation(255,vm.ecoRequestForm.requestFromNumber.$viewValue.length)}}</span>
                                    </div>
                                </div>
                            </md-input-container>
                        </td>
                        <th><p class="label-container">{{vm.ecoRequestModel.requestType == vm.requestType.ECO.Value?vm.lebelConstant.Workorder.ECO:vm.lebelConstant.Workorder.DFM}}</p></th>
                        <td>
                            <span class="cm-custom-td-span"><b>{{vm.ecoRequestModel.ecoNumber}}</b></span>
                            <!--<md-input-container flex="100" ng-if="vm.ecoRequestModel.requestType == vm.requestType.ECO.Value" class="cm-rs-width-175">
                                <input type="text" name="ecoNumber" ng-model="vm.ecoRequestModel.ecoNumber"
                                       class="input-text-uppercase"
                                       capitalize
                                       placeholder="vm.ecoRequestModel.requestType == vm.requestType.ECO.Value?'ECO Request#':'DFM Request#'"
                                       required
                                       ng-if="vm.ecoRequestModel.requestType == vm.requestType.ECO.Value"
                                       ng-maxlength="255">
                                <div ng-messages="vm.ecoRequestForm.ecoNumber.$error" role="alert">
                                    <div ng-message="required">
                                        <span>{{vm.CORE_MESSAGE_CONSTANT.REQUIRED}}</span>
                                    </div>
                                    <div ng-message="maxlength">
                                        <span>{{vm.getMaxLengthValidation(255,vm.ecoRequestForm.ecoNumber.$viewValue.length)}}</span>
                                    </div>
                                </div>
                            </md-input-container>-->
                        </td>
                        <th><p class="label-container"><a class="cm-text-decoration" tabindex="-1" ng-click="vm.goTocomponentList();">{{vm.lebelConstant.Assembly.ID}}</a><span ng-if="vm.ecoRequestModel.requestType == vm.requestType.ECO.Value">&nbsp;*</span></p></th>
                        <td>
                            <md-input-container ng-if="vm.autoCompleteAssy" class="autocompletecustom margin-bottom-0" flex="100">
                                <custom-auto-complete ng-if="vm.autoCompleteAssy" datalist="vm.assyList"
                                                      column-name="vm.autoCompleteAssy.columnName"
                                                      controller-name="vm.autoCompleteAssy.controllerName"
                                                      view-template-url="vm.autoCompleteAssy.viewTemplateURL"
                                                      key-column-name="vm.autoCompleteAssy.keyColumnName"
                                                      input-name="vm.autoCompleteAssy.inputName"
                                                      placeholder-name="vm.autoCompleteAssy.placeholderName"
                                                      key-column-id="vm.autoCompleteAssy.keyColumnId"
                                                      is-required="vm.autoCompleteAssy.isRequired"
                                                      is-disabled="vm.autoCompleteAssy.isDisabled || vm.ecoRequestModel.requestType == vm.requestType.DFM.Value || vm.isWoInSpecificStatusNotAllowedToChange"
                                                      is-addnew="vm.autoCompleteAssy.isAddnew"
                                                      callback-fn="vm.autoCompleteAssy.callbackFn"
                                                      add-data="vm.autoCompleteAssy.addData"
                                                      on-select-callback-fn="vm.autoCompleteAssy.onSelectCallbackFn">
                                </custom-auto-complete>
                            </md-input-container>
                        </td>
                    </tr>
                    <tr>
                        <th ng-if="vm.ecoRequestModel.requestType == vm.requestType.ECO.Value"><p class="label-container"><a class="cm-text-decoration" tabindex="-1" ng-click="vm.goToEOCDFMTypeList();">ECO Type</a><span>&nbsp;*</span></p></th>
                        <th ng-if="vm.ecoRequestModel.requestType == vm.requestType.DFM.Value"><p class="label-container"><a class="cm-text-decoration" tabindex="-1" ng-click="vm.goToEOCDFMTypeList();">DFM Type</a><span>&nbsp;*</span></p></th>
                        <td>
                            <md-input-container flex="100" class="autocompletecustom" md-no-float ng-if="vm.defaultAutoCompleteECODFMType">
                                <custom-auto-complete class="min-width-initial"
                                                      datalist="vm.ECODFMTypeList"
                                                      controller-name="vm.defaultAutoCompleteECODFMType.controllerName"
                                                      view-template-url="vm.defaultAutoCompleteECODFMType.viewTemplateURL"
                                                      column-name="vm.defaultAutoCompleteECODFMType.columnName"
                                                      key-column-name="vm.defaultAutoCompleteECODFMType.keyColumnName"
                                                      input-name="vm.defaultAutoCompleteECODFMType.inputName"
                                                      placeholder-name="vm.defaultAutoCompleteECODFMType.placeholderName"
                                                      key-column-id="vm.defaultAutoCompleteECODFMType.keyColumnId"
                                                      add-data="vm.defaultAutoCompleteECODFMType.addData"
                                                      is-addnew="vm.defaultAutoCompleteECODFMType.isAddnew"
                                                      is-required="vm.defaultAutoCompleteECODFMType.isRequired"
                                                      callback-fn="vm.defaultAutoCompleteECODFMType.callbackFn"
                                                      is-disabled="vm.isWoInSpecificStatusNotAllowedToChange">
                                </custom-auto-complete>
                            </md-input-container>
                        </td>
                        <th>
                            <p class="label-container"><a class="cm-text-decoration" tabindex="-1" ng-click="vm.goToMountingTypeList();">Mounting Type</a><span>&nbsp;*</span></p>
                        </th>
                        <td>
                            <md-input-container flex="100" class="autocompletecustom" md-no-float ng-if="vm.defaultAutoCompleteMountingType">
                                <custom-auto-complete class="min-width-initial"
                                                      datalist="vm.mountingTypeList"
                                                      controller-name="vm.defaultAutoCompleteMountingType.controllerName"
                                                      view-template-url="vm.defaultAutoCompleteMountingType.viewTemplateURL"
                                                      column-name="vm.defaultAutoCompleteMountingType.columnName"
                                                      key-column-name="vm.defaultAutoCompleteMountingType.keyColumnName"
                                                      input-name="vm.defaultAutoCompleteMountingType.inputName"
                                                      placeholder-name="vm.defaultAutoCompleteMountingType.placeholderName"
                                                      key-column-id="vm.defaultAutoCompleteMountingType.keyColumnId"
                                                      is-addnew="vm.defaultAutoCompleteMountingType.isAddnew"
                                                      add-data="vm.defaultAutoCompleteMountingType.addData"
                                                      is-required="vm.defaultAutoCompleteMountingType.isRequired"
                                                      callback-fn="vm.defaultAutoCompleteMountingType.callbackFn"
                                                      is-disabled="vm.isWoInSpecificStatusNotAllowedToChange">
                                </custom-auto-complete>
                            </md-input-container>
                        </td>
                        <th><p class="label-container"><a class="cm-text-decoration" tabindex="-1" ng-click="vm.employeelist();">Initiator</a><span>&nbsp;</span></p></th>
                        <td>
                            <md-input-container flex="100">
                                <input type="text" name="Initiator" ng-model="vm.ecoRequestModel.initiateFullName"
                                       placeholder="Initiator" disabled required>
                            </md-input-container>
                        </td>
                        <th><p class="label-container">Date Initiated<span>&nbsp;*</span></p></th>
                        <td>
                            <md-input-container class="md-block datepicker padding-right-0-imp cm-rs-width-175" flex="100">
                                <input type="text" class="float-left"
                                       name="initiateDate"
                                       max-value="vm.todayDate"
                                       max-value-is-today-date="true"
                                       allow-past-date="true"
                                       allow-future-date="false"
                                       datetime-picker="{{$root.dateDisplayFormat}}"
                                       ng-model="vm.ecoRequestModel.initiateDate"
                                       enable-time="false"
                                       ui-options="{clearOnBlur  : true}"
                                       ui-mask="{{$root.uimaskFormat.date.mask}}"
                                       ui-mask-placeholder="{{$root.uimaskFormat.date.placeholder}}"
                                       model-view-value="true"
                                       datepicker-options="vm.initiateDateOptions"
                                       is-open="vm.IsPickerOpen[vm.DATE_PICKER.initiateDate]"
                                       required
                                       ng-disabled="vm.isWoInSpecificStatusNotAllowedToChange"/>
                                <md-icon md-font-icon="icon-calendar calender-icon" ng-click="vm.IsPickerOpen[vm.DATE_PICKER.initiateDate] = true">
                                </md-icon>
                                <div ng-messages="vm.ecoRequestForm.initiateDate.$error" role="alert">
                                    <div ng-message="maxvalue">
                                        <span>{{vm.getMaxDateValidation('Date Initiated', 'Today Date')}}</span>
                                    </div>
                                    <div ng-message="valid">
                                        <span>{{vm.CORE_MESSAGE_CONSTANT.INVALID}}</span>
                                    </div>
                                    <div ng-message="datetime">
                                        <span>{{vm.CORE_MESSAGE_CONSTANT.INVALID}}</span>
                                    </div>
                                    <div ng-message="required">
                                        <span>{{vm.CORE_MESSAGE_CONSTANT.REQUIRED}}</span>
                                    </div>
                                </div>
                            </md-input-container>
                        </td>

                    </tr>
                    <tr>
                        <th>
                            <p class="label-container"><a class="cm-text-decoration" tabindex="-1" ng-click="vm.gotoWoOperation();">{{vm.lebelConstant.Workorder.WO}}</a></p>
                        </th>
                        <td>
                            <md-input-container flex="100" class="autocompletecustom" md-no-float ng-if="vm.autoCompleteWorkorder">
                                <custom-auto-complete class="min-width-initial"
                                                      datalist="vm.WoList"
                                                      column-name="vm.autoCompleteWorkorder.columnName"
                                                      key-column-name="vm.autoCompleteWorkorder.keyColumnName"
                                                      input-name="vm.autoCompleteWorkorder.inputName"
                                                      placeholder-name="vm.autoCompleteWorkorder.placeholderName"
                                                      key-column-id="vm.autoCompleteWorkorder.keyColumnId"
                                                      is-addnew="vm.autoCompleteWorkorder.isAddnew"
                                                      is-required="vm.autoCompleteWorkorder.isRequired"
                                                      is-disabled="vm.isWoInSpecificStatusNotAllowedToChange"
                                                      callback-fn="vm.autoCompleteWorkorder.callbackFn"
                                                      on-select-callback-fn="vm.autoCompleteWorkorder.onSelectCallbackFn">
                                </custom-auto-complete>
                            </md-input-container>
                        </td>
                        <th>
                            <p class="label-container"><a class="cm-text-decoration" tabindex="-1" ng-click="vm.gotoWoOperation();">Affected Operation</a></p>
                        </th>
                        <td>
                            <md-input-container flex="100" class="autocompletecustom" md-no-float ng-if="vm.autoCompleteRequestedOperation">
                                <custom-auto-complete class="min-width-initial"
                                                      datalist="vm.workOrderOperationList"
                                                      column-name="vm.autoCompleteRequestedOperation.columnName"
                                                      key-column-name="vm.autoCompleteRequestedOperation.keyColumnName"
                                                      input-name="vm.autoCompleteRequestedOperation.inputName"
                                                      placeholder-name="vm.autoCompleteRequestedOperation.placeholderName"
                                                      key-column-id="vm.autoCompleteRequestedOperation.keyColumnId"
                                                      is-addnew="vm.autoCompleteRequestedOperation.isAddnew"
                                                      is-required="vm.autoCompleteRequestedOperation.isRequired"
                                                      is-disabled="!vm.autoCompleteWorkorder.keyColumnId || vm.isWoInSpecificStatusNotAllowedToChange"
                                                      callback-fn="vm.autoCompleteRequestedOperation.callbackFn"
                                                      on-select-callback-fn="vm.autoCompleteRequestedOperation.onSelectCallbackFn">
                                </custom-auto-complete>
                            </md-input-container>
                        </td>
                        <th><p class="label-container">{{vm.ecoRequestModel.requestType == vm.requestType.ECO.Value?'ECO Timing:':'DFM Timing:'}}</p></th>
                        <td colspan="3">
                            <md-input-container class="md-block margin-top-2" flex="100">
                                <div layout="row" flex="100" layout-wrap>
                                    <div layout="row" class="margin-right-10" layout-align="start center">
                                        <md-checkbox name="isAllProductConf" class="margin-0"
                                                     ng-model="vm.ecoRequestModel.isAllProductConf"
                                                     ng-disabled="vm.isWoInSpecificStatusNotAllowedToChange"></md-checkbox>
                                        <div flex class="text-main" tabindex="1">
                                            <span class="checklable text-truncate">All products to confirm</span>
                                        </div>
                                    </div>
                                    <div layout="row" class="margin-right-10" layout-align="start center">
                                        <md-checkbox name="isFutureProd" class="margin-0"
                                                     ng-model="vm.ecoRequestModel.isFutureProd"
                                                     ng-disabled="vm.isWoInSpecificStatusNotAllowedToChange"></md-checkbox>
                                        <div flex class="text-main" tabindex="1">
                                            <span class="checklable text-truncate">Future product</span>
                                        </div>
                                    </div>
                                    <div layout="row" layout-align="start center">
                                        <md-checkbox name="isTemp" class="margin-0" ng-model="vm.ecoRequestModel.isTemp"
                                                     ng-disabled="vm.isWoInSpecificStatusNotAllowedToChange"></md-checkbox>
                                        <div flex class="text-main" tabindex="1">
                                            <span class="checklable text-truncate">Temporary</span>
                                        </div>
                                    </div>
                                </div>
                                <div ng-messages="vm.ecoRequestForm.initiateDate.$error || true"
                                     role="alert">
                                    <div ng-message="required || true">
                                        <span>{{vm.CORE_MESSAGE_CONSTANT.REQUIRED}}</span>
                                    </div>
                                </div>
                            </md-input-container>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
    <div layout="row" layout-md="column" layout-sm="column" flex="100">
        <div flex="50" flex-md="100" flex-sm="100">
            <md-input-container class="md-block margin-bottom-0 margin-top-0" flex="100">
                <div layout="column" flex="100" flex-xs="100">
                    <span ng-style="{'color':vm.ecoRequestForm.reasonForChange.$error.taMaxText?'red':''}">Reason for Change</span>
                    <span class="margin-bottom-10" ng-if="vm.ecoRequestForm.reasonForChange.$error.taMaxText" style="color:red; font-size:12px">{{vm.CORE_MESSAGE_CONSTANT.MAX_LENGTH}}</span>
                </div>
                <text-angular class="cm-text-angular-height" ta-toolbar="vm.taToolbar.INLINE" ng-model="vm.ecoRequestModel.reasonForChange" cg-busy-loading="vm.cgBusyLoading"
                              ng-class="{'text-angular-custom-border':vm.ecoRequestForm.reasonForChange.$error.taMaxText}"
                              name="reasonForChange"
                              ta-disabled="vm.isWoInSpecificStatusNotAllowedToChange"></text-angular>
            </md-input-container>
        </div>
        <div flex="50" flex-md="100" flex-sm="100">
            <md-input-container class="md-block margin-bottom-0" flex="100">
                <div layout="column" flex="100" flex-xs="100">
                    <span ng-if="vm.ecoRequestModel.requestType == vm.requestType.ECO.Value" ng-style="{'color':vm.ecoRequestForm.description.$error.taMaxText?'red':''}">Issue Description and/or Change</span>
                    <span ng-if="vm.ecoRequestModel.requestType == vm.requestType.DFM.Value" ng-style="{'color':vm.ecoRequestForm.description.$error.taMaxText?'red':''}">Proposed Resolution</span>
                    <span class="margin-bottom-10" ng-if="vm.ecoRequestForm.description.$error.taMaxText" style="color:red; font-size:12px">{{vm.CORE_MESSAGE_CONSTANT.MAX_LENGTH}}</span>
                </div>
                <text-angular class="cm-text-angular-height" ta-toolbar="vm.taToolbar.INLINE" ng-model="vm.ecoRequestModel.description" cg-busy-loading="vm.cgBusyLoading"
                              ng-class="{'text-angular-custom-border':vm.ecoRequestForm.description.$error.taMaxText}"
                              name="description"
                              ta-disabled="vm.isWoInSpecificStatusNotAllowedToChange"></text-angular>
            </md-input-container>
        </div>
    </div>
    <div layout="row">
        <!--<div class="content" flex="100">
            <div class="price-tables manage-standard" flex="100" layout="row" layout-wrap>
                <div class="cm-section-main" flex="100">
                    <div class="cm-section-header" flex="100" layout="row" layout-align="space-between center">
                        <h2><span ng-if="vm.ecoRequestModel.requestType == vm.requestType.ECO.Value">ECO</span><span ng-if="vm.ecoRequestModel.requestType == vm.requestType.DFM.Value">DFM</span></h2>
                        <span class="quote-note-title">
                            <md-button class="md-raised md-primary margin-0" aria-label="Add ECO Category" ng-click="vm.addECOCategory(null,$event)">
                                Add <span ng-if="vm.ecoRequestModel.requestType == vm.requestType.ECO.Value">ECO</span><span ng-if="vm.ecoRequestModel.requestType == vm.requestType.DFM.Value">DFM</span> Category
                            </md-button>
                        </span>
                    </div>
                    <div class="cm-section-inner border-0 md-whiteframe-1dp" layout="column" flex="100" flex-xs="100" ng-repeat="item in vm.ecoCategoryList">
                        <div class="cm-section-header" layout="column" flex="100" flex-xs="100" layout-align="space-between center">
                            <h2>{{item.name}}</h2>
                            <md-button class="md-raised md-primary margin-0" aria-label="Add ECO Category" ng-click="vm.addEditRecord(item,$event)">
                                Add <span ng-if="vm.ecoRequestModel.requestType == vm.requestType.ECO.Value">ECO</span><span ng-if="vm.ecoRequestModel.requestType == vm.requestType.DFM.Value">DFM</span> Attribute
                            </md-button>

                        </div>
                        <div layout="row" class="chekboxlistmain cm-section-inner" flex="100" layout-wrap>
                            <div ng-repeat="values in item.ecoTypeValues" flex="25" layout="row" layout-align="start center" class="checktextlist" ng-class="{'conditionalinput': !values.noteRequired}">
                                <md-checkbox class="margin-0" ng-model="values.selected"></md-checkbox>
                                <div flex class="text-main" tabindex="1">
                                    <i class="icon-checkbox-blank-circle-outline normal"></i>
                                    <i class="icon-check-circle checked"></i>
                                    <span class="checklable text-truncate">
                                        {{ values.name }}
                                        <md-tooltip>{{ values.name }}</md-tooltip>
                                    </span>
                                    <md-input-container class="checktextbox md-input-focused md-input-has-placeholder">
                                        <input type="text" name="revision" placeholder="{{ values.name }}"
                                               ng-model="values.note" ng-maxlength="255">
                                        <div ng-messages="vm.ecoRequestForm.revision.$error" role="alert">
                                            <div ng-message="maxlength">
                                                <span>{{vm.CORE_MESSAGE_CONSTANT.MAX_LENGTH}}</span>
                                            </div>
                                        </div>
                                    </md-input-container>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>-->
        <div class="content" flex="100">
            <div class="price-tables manage-standard" flex="100" layout="row" layout-wrap>
                <div class="cm-section-main" flex="100">
                    <div class="cm-section-header" flex="100" layout="row" layout-align="space-between center">
                        <h2><a class="cm-text-decoration" tabindex="-1" ng-click="vm.goToECOCategoryList();"><span ng-if="vm.ecoRequestModel.requestType == vm.requestType.ECO.Value">ECO</span><span ng-if="vm.ecoRequestModel.requestType == vm.requestType.DFM.Value">DFM</span></a></h2>
                        <span class="quote-note-title">
                            <md-button class="md-raised md-primary margin-0" aria-label="Add ECO Category"
                                       ng-disabled="vm.disableEcoCategoryButton || vm.isWoInSpecificStatusNotAllowedToChange"
                                       ng-click="vm.addECOCategory()">
                                Add <span ng-if="vm.ecoRequestModel.requestType == vm.requestType.ECO.Value">ECO</span><span ng-if="vm.ecoRequestModel.requestType == vm.requestType.DFM.Value">DFM</span> Category
                            </md-button>
                        </span>
                    </div>
                    <div class="cm-section-inner border-0 md-whiteframe-1dp" layout="column" flex="100" flex-xs="100">
                        <div class="content" flex="100">
                            <div class="price-tables manage-standard" flex="100" layout="row" layout-wrap>
                                <div class="cm-section-main price-table" layout="column" flex="100" flex-xs="100" ng-repeat="item in vm.ecoCategoryList">
                                    <div class="cm-normal-header package-type">
                                        <div layout-wrap layout="row">
                                            <h3>
                                                <span>
                                                    <a class="cm-text-decoration" tabindex="-1" ng-click="vm.addECOCategory(item);">{{item.name}}</a>
                                                </span>
                                            </h3>
                                            <h5 class="margin-top-5 margin-left-10"></h5>
                                        </div>
                                        <div layout="row">
                                            <md-button class="md-primary md-raised md-ink-ripple cm-assbly-tab-btn margin-right-5" type="button"
                                                       ng-disabled="vm.disableEcoattributeButton || vm.isWoInSpecificStatusNotAllowedToChange"
                                                       ng-if="vm.ecoRequestModel.requestType == vm.requestType.ECO.Value" ng-click="vm.addEditRecord(item)">Add ECO Attributes</md-button>
                                            <md-button class="md-primary md-raised md-ink-ripple cm-assbly-tab-btn margin-right-5" type="button"
                                                       ng-disabled="vm.disableEcoattributeButton || vm.isWoInSpecificStatusNotAllowedToChange"
                                                       ng-if="vm.ecoRequestModel.requestType == vm.requestType.DFM.Value" ng-click="vm.addEditRecord(item)">Add DFM Attributes</md-button>
                                        </div>
                                    </div>
                                    <div layout="row" class="chekboxlistmain" flex="100" layout-wrap>
                                        <div ng-repeat="values in item.ecoTypeValues" layout="row" layout-align="start center" class="checktextlist" ng-class="{'conditionalinput': !values.noteRequired}">
                                            <md-checkbox class="margin-0" ng-change="vm.selectECOTypeValue()"
                                                         ng-model="values.selected"
                                                         ng-disabled="vm.isWoInSpecificStatusNotAllowedToChange"></md-checkbox>
                                            <div flex class="text-main" tabindex="1" layout-wrap>
                                                <i class="icon-checkbox-blank-circle-outline normal"></i>
                                                <i class="icon-check-circle checked"></i>
                                                <div layout="row" layout-align="start center">
                                                    <span class="text-truncate cm-quote-list margin-right-10">
                                                        {{ values.name }}
                                                    </span>
                                                    <md-input-container class="checktextbox md-input-focused md-input-has-placeholder">
                                                        <input type="text" name="note_{{$parent.$index}}_{{$index}}" placeholder="{{ values.name }}"
                                                               ng-model="values.note"
                                                               ng-disabled="vm.isWoInSpecificStatusNotAllowedToChange">
                                                    </md-input-container>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

    </div>
    <div layout="row" class="margin-top-10">
        <md-input-container class="md-block margin-bottom-0" flex="100">
            <div layout="column" flex="100" flex-xs="100">
                <span ng-style="{'color':vm.ecoRequestForm.comments.$error.taMaxText?'red':''}">Special Comments</span>
                <span class="margin-bottom-10" ng-if="vm.ecoRequestForm.comments.$error.taMaxText" style="color:red; font-size:12px">{{vm.CORE_MESSAGE_CONSTANT.MAX_LENGTH}}</span>
            </div>
            <text-angular class="cm-text-angular-height" ta-toolbar="vm.taToolbar.INLINE" ng-model="vm.ecoRequestModel.comments" cg-busy-loading="vm.cgBusyLoading"
                          ng-class="{'text-angular-custom-border':vm.ecoRequestForm.comments.$error.taMaxText}"
                          name="comments"
                          ta-disabled="vm.isWoInSpecificStatusNotAllowedToChange"></text-angular>
        </md-input-container>
    </div>
    <div layout="row" flex="100" class="mv-10">
        <div class="cm-section-main" flex="100">
            <div class="cm-section-inner" layout="row" flex="100">
                <div flex="100" layout="row" class="margin-top-5 layout-wrap-rs-1024">
                    <div layout="row" flex="40" flex-sm="100">
                        <div class="cm-section-main" flex="100">
                            <div class="cm-section-inner" layout="row" flex="100">
                                <div flex="100" layout-wrap layout="row">
                                    <table cellpadding="0" cellspacing="0" class="cm-table-input-main">
                                        <tbody>
                                            <tr>
                                                <th>
                                                    <p class="label-container">{{vm.ecoRequestModel.requestType == vm.requestType.ECO.Value?'ECO Status:':'DFM Status:'}}</p>
                                                </th>
                                                <td>
                                                    <md-radio-group layout="row" class="" name="Active" ng-model="vm.status"
                                                                    ng-disabled="vm.isWoInSpecificStatusNotAllowedToChange">
                                                        <md-radio-button class="margin-top-0" ng-repeat="item in vm.RadioGroup.isActive.array" ng-click="vm.changeStatus(item)"
                                                                         name="{{item.Value}}" ng-value="{{item.Value}}">{{item.Key}}</md-radio-button>
                                                    </md-radio-group>
                                                </td>
                                                <th>
                                                    <p class="label-container">Changes Final Status</p>
                                                </th>
                                                <td>
                                                    <md-input-container md-no-float>
                                                        <md-select ng-model="vm.ecoRequestModel.finalStatus" placeholder="Final Status" ng-change="vm.changeEcoFinalStatus(vm.ecoRequestModel.finalStatus)"
                                                                   ng-disabled="vm.isWoInSpecificStatusNotAllowedToChange">
                                                            <md-option ng-if="vm.ecoRequestModel.requestType == vm.requestType.ECO.Value" value="{{item.Value}}" ng-repeat="item in vm.ecoRequestFinalStatus"> {{item.Name}} </md-option>
                                                            <md-option ng-if="vm.ecoRequestModel.requestType == vm.requestType.DFM.Value" value="{{item.Value}}" ng-repeat="item in vm.dfmRequestFinalStatus"> {{item.Name}} </md-option>
                                                        </md-select>
                                                    </md-input-container>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td colspan="4">
                                                    <md-button class="md-raised md-primary" last-element elementcondition="true"
                                                               ng-disabled="vm.disableStockStatusButton"
                                                               ng-click="vm.checkStockStatus()">
                                                        Check Current Work order stock status
                                                    </md-button>
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div layout="row" flex="60" flex-sm="100" class="margin-left-5" ng-if="vm.ecoRequestModel.finalStatus != 'P'">
                        <div class="cm-section-main" flex="100">
                            <div class="cm-section-inner">
                                <table cellpadding="0" cellspacing="0" class="cm-table-input-main">
                                    <tbody>
                                        <tr>
                                            <th ng-if="vm.ecoRequestModel.finalStatus == 'A'">
                                                <p class="label-container">Applies To:</p>
                                            </th>
                                            <td colspan="3" ng-if="vm.ecoRequestModel.finalStatus == 'A'">
                                                <md-radio-group layout="row" class="" ng-change="vm.changeECOImplementTo(vm.ecoRequestModel.ECOImplemetTo)"
                                                                name="finalStatus" ng-model="vm.ecoRequestModel.ECOImplemetTo"
                                                                ng-disabled="vm.isWoInSpecificStatusNotAllowedToChange">
                                                    <md-radio-button class="margin-top-0" ng-repeat="item in vm.ECOImplementTo"
                                                                     name="{{item.Name}}" ng-disabled="item.isDisabled" ng-value="{{item.Value}}">{{item.Name}}</md-radio-button>
                                                </md-radio-group>
                                            </td>
                                        </tr>
                                        <tr ng-if="vm.ecoRequestModel.finalStatus == 'A'">
                                            <td colspan="4" ng-if="!vm.autoCompleteWorkorder.keyColumnId && vm.ecoRequestModel.ECOImplemetTo == vm.ECOImplementTo.Same_WorkOrder.Value">
                                                <p class="label-container"><h2 class="text-center">Work order is not selected!<br />&nbsp;Select Work order first from above detail to Applies changes.</h2></p>
                                            </td>
                                        </tr>
                                        <tr ng-if="vm.ecoRequestModel.finalStatus == 'A'">
                                            <td colspan="4" ng-if="!vm.isWOTerminated && vm.ecoRequestModel.ECOImplemetTo == vm.ECOImplementTo.Terminate_Transfer.Value">
                                                <p class="label-container"><h2 class="text-center">Work order is not terminated yet!<br /><a ng-click="vm.gotoWoDetail()"> Click Here</a>&nbsp;to update Work order status</h2></p>
                                            </td>
                                        </tr>
                                        <tr ng-if="vm.ecoRequestModel.finalStatus == 'A'">
                                            <td colspan="4" ng-if="vm.isWOTerminated && vm.ecoRequestModel.ECOImplemetTo == vm.ECOImplementTo.Terminate_Transfer.Value && (vm.ImplementToWOList && vm.ImplementToWOList.length==0)">
                                                <p class="label-container"><h2 class="text-center">Worker order stock is not transfered to any new work order operation.<br /><a ng-click="vm.goToTaskListDetail()"> Click Here</a>&nbsp;to transfer stock to revised work order</h2></p>
                                            </td>
                                        </tr>
                                        <tr ng-if="vm.ecoRequestModel.finalStatus == 'A'">
                                            <td colspan="4" ng-if="vm.ecoRequestModel.ECOImplemetTo == vm.ECOImplementTo.New_WorkOrder.Value && vm.ImplementToWOList && vm.ImplementToWOList.length==0">
                                                <p class="label-container"><h2 class="text-center">Any Worker order not Available to Implement.<br /><a ng-click="vm.gotoWorkorderlist()"> Click Here</a>&nbsp;to add new Work Order</h2></p>
                                            </td>
                                        </tr>
                                        <tr ng-if="vm.ecoRequestModel.finalStatus == 'A'">
                                            <th ng-if="((vm.ImplementToWOList && vm.ImplementToWOList.length>0) || (vm.autoCompleteWorkorder.keyColumnId && vm.ecoRequestModel.ECOImplemetTo == vm.ECOImplementTo.Same_WorkOrder.Value ))">
                                                <p class="label-container"><a class="cm-text-decoration" tabindex="-1" ng-click="vm.gotoWorkorderlist();">{{vm.lebelConstant.Workorder.WO}}</a><span ng-if="vm.ecoRequestModel.ECOImplemetTo == vm.ECOImplementTo.New_WorkOrder.Value">&nbsp;*</span></p>
                                            </th>
                                            <td>
                                                <span class="cm-custom-td-span" ng-if="vm.autoCompleteWorkorder.keyColumnId && vm.ecoRequestModel.ECOImplemetTo == vm.ECOImplementTo.Same_WorkOrder.Value"><b>{{vm.workOrder ? vm.workOrder.woNumber : "XXXXX-XX"}}</b></span>
                                                <span class="cm-custom-td-span" ng-if="vm.ecoRequestModel.ECOImplemetTo == vm.ECOImplementTo.Terminate_Transfer.Value && vm.ImplementToWOList && vm.ImplementToWOList.length>0 && vm.isWOTerminated"><b>{{vm.ImplementToWOList[0].woNumber}}</b></span>
                                                <md-input-container flex="100" class="autocompletecustom" md-no-float ng-if="vm.autoCompleteImplementTOWorkorder && vm.ecoRequestModel.ECOImplemetTo == vm.ECOImplementTo.New_WorkOrder.Value && vm.ImplementToWOList && vm.ImplementToWOList.length>0">
                                                    <custom-auto-complete class="min-width-initial"
                                                                          datalist="vm.ImplementToWOList"
                                                                          column-name="vm.autoCompleteImplementTOWorkorder.columnName"
                                                                          key-column-name="vm.autoCompleteImplementTOWorkorder.keyColumnName"
                                                                          input-name="vm.autoCompleteImplementTOWorkorder.inputName"
                                                                          placeholder-name="vm.autoCompleteImplementTOWorkorder.placeholderName"
                                                                          key-column-id="vm.autoCompleteImplementTOWorkorder.keyColumnId"
                                                                          is-addnew="vm.autoCompleteImplementTOWorkorder.isAddnew"
                                                                          is-required="vm.ecoRequestModel.ECOImplemetTo == vm.ECOImplementTo.New_WorkOrder.Value"
                                                                          callback-fn="vm.autoCompleteImplementTOWorkorder.callbackFn"
                                                                          on-select-callback-fn="vm.autoCompleteImplementTOWorkorder.onSelectCallbackFn">
                                                    </custom-auto-complete>
                                                </md-input-container>
                                            </td>
                                            <th>
                                                <p class="label-container" ng-if="((vm.ImplementToWOList && vm.ImplementToWOList.length>0) || (vm.autoCompleteWorkorder.keyColumnId && vm.ecoRequestModel.ECOImplemetTo == vm.ECOImplementTo.Same_WorkOrder.Value))">
                                                <a class="cm-text-decoration" tabindex="-1" ng-click="vm.gotoWoOperation(vm.autoCompleteImplementTOWorkorder.keyColumnId);">Work Order Operation</a><span ng-if="vm.autoCompleteImplementTOWorkorder.isRequired">&nbsp;*</span></p>
                                            </th>
                                            <td>
                                                <span class="cm-custom-td-span" ng-if="vm.ecoRequestModel.ECOImplemetTo == vm.ECOImplementTo.Terminate_Transfer.Value && vm.ImplementToWOOperationList && vm.ImplementToWOOperationList.length>0"><b>{{vm.ImplementToWOOperationList.length>0 ? vm.ImplementToWOOperationList[0].opFullName : "XXXXX-XX"}}</b></span>
                                                <md-input-container flex="100" class="autocompletecustom" md-no-float ng-if="((vm.ImplementToWOList && vm.ImplementToWOList.length>0) || (vm.ecoRequestModel.ECOImplemetTo == vm.ECOImplementTo.Same_WorkOrder.Value && vm.autoCompleteWorkorder.keyColumnId)) && vm.autoCompleteImplementTOWoOperation && vm.ecoRequestModel.ECOImplemetTo != vm.ECOImplementTo.Terminate_Transfer.Value">
                                                    <custom-auto-complete class="min-width-initial"
                                                                          datalist="vm.ImplementToWOOperationList"
                                                                          column-name="vm.autoCompleteImplementTOWoOperation.columnName"
                                                                          key-column-name="vm.autoCompleteImplementTOWoOperation.keyColumnName"
                                                                          input-name="vm.autoCompleteImplementTOWoOperation.inputName"
                                                                          placeholder-name="vm.autoCompleteImplementTOWoOperation.placeholderName"
                                                                          key-column-id="vm.autoCompleteImplementTOWoOperation.keyColumnId"
                                                                          is-required="vm.autoCompleteImplementTOWoOperation.isRequired"
                                                                          is-addnew="vm.autoCompleteImplementTOWoOperation.isAddnew"
                                                                          is-disabled="(vm.ecoRequestModel.ECOImplemetTo == vm.ECOImplementTo.Same_WorkOrder.Value?!vm.autoCompleteWorkorder.keyColumnId:false) || vm.isWoInSpecificStatusNotAllowedToChange"
                                                                          callback-fn="vm.autoCompleteImplementTOWoOperation.callbackFn">
                                                    </custom-auto-complete>
                                                </md-input-container>
                                            </td>

                                        </tr>
                                        <tr ng-if="vm.ecoRequestModel.finalStatus != 'P' && (vm.ImplementToWOList.length>0 || (vm.autoCompleteWorkorder.keyColumnId && vm.ecoRequestModel.ECOImplemetTo == vm.ECOImplementTo.Same_WorkOrder.Value ) ||vm.ecoRequestModel.finalStatus != 'A')">
                                            <th>
                                                <p class="label-container" ng-if="vm.ecoRequestModel.requestType == vm.requestType.ECO.Value"><a class="cm-text-decoration" tabindex="-1" ng-click="vm.employeelist();">{{vm.ecoRequestModel.finalStatus == 'A' ? 'Approved By':'Rejected By'}}</a></p>
                                                <p class="label-container" ng-if="vm.ecoRequestModel.requestType == vm.requestType.DFM.Value"><a class="cm-text-decoration" tabindex="-1" ng-click="vm.employeelist();">{{vm.ecoRequestModel.finalStatus == 'A' ? 'Approved By':'Confirmed By'}}</a></p>
                                            </th>
                                            <td>
                                                <md-input-container flex="100" md-no-float>
                                                    <input type="text" name="finalStatusInit" ng-model="vm.ecoRequestModel.finalStatusInitFullName"
                                                           placeholder="{{vm.ecoRequestModel.finalStatus == 'A' ? 'Approved By': vm.ecoRequestModel.requestType == vm.requestType.ECO.Value?'Rejected By':'Confirmed By'}}"
                                                           disabled>
                                                </md-input-container>
                                            </td>
                                            <th>
                                                <p class="label-container" ng-if="vm.ecoRequestModel.requestType == vm.requestType.ECO.Value">{{vm.ecoRequestModel.finalStatus == 'A' ? 'Approved Date': 'Rejected Date'}}<span>&nbsp;*</span></p>
                                                <p class="label-container" ng-if="vm.ecoRequestModel.requestType == vm.requestType.DFM.Value">{{vm.ecoRequestModel.finalStatus == 'A' ? 'Approved Date': 'Confirmed Date'}}<span>&nbsp;*</span></p>
                                            </th>
                                            <td>
                                                <md-input-container flex="100" class="md-block datepicker padding-right-0-imp">
                                                    <input type="text" class="float-left"
                                                           name="finalStatusDate"
                                                           max-value="vm.todayDate"
                                                           max-value-is-today-date="true"
                                                           allow-past-date="true"
                                                           allow-future-date="false"
                                                           datetime-picker="{{$root.dateDisplayFormat}}"
                                                           ng-model="vm.ecoRequestModel.finalStatusDate"
                                                           enable-time="false"
                                                           ui-options="{clearOnBlur  : true}"
                                                           ui-mask="{{$root.uimaskFormat.date.mask}}"
                                                           ui-mask-placeholder="{{$root.uimaskFormat.date.placeholder}}"
                                                           model-view-value="true"
                                                           datepicker-options="vm.finalStatusDateOptions"
                                                           is-open="vm.IsPickerOpen[vm.DATE_PICKER.finalStatusDate]"
                                                           required
                                                           ng-disabled="vm.isWoInSpecificStatusNotAllowedToChange"/>
                                                    <md-icon md-font-icon="icon-calendar calender-icon" ng-click="vm.IsPickerOpen[vm.DATE_PICKER.finalStatusDate] = true">
                                                    </md-icon>
                                                    <div ng-messages="vm.ecoRequestForm.finalStatusDate.$error" role="alert">
                                                        <div ng-message="maxvalue">
                                                            <span>{{vm.getMaxDateValidation((vm.ecoRequestModel.finalStatus == 'A' ? 'Approved Date': 'Rejected Date'), 'Today Date')}}</span>
                                                        </div>
                                                        <div ng-message="valid">
                                                            <span>{{vm.CORE_MESSAGE_CONSTANT.INVALID}}</span>
                                                        </div>
                                                        <div ng-message="datetime">
                                                            <span>{{vm.CORE_MESSAGE_CONSTANT.INVALID}}</span>
                                                        </div>
                                                        <div ng-message="required">
                                                            <span>{{vm.CORE_MESSAGE_CONSTANT.REQUIRED}}</span>
                                                        </div>
                                                    </div>
                                                </md-input-container>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>

            </div>
        </div>
    </div>
    <div layout="row" ng-if="vm.ecoRequestModel.finalStatus != 'P'">
        <md-input-container class="md-block margin-bottom-0" flex="100">
            <div layout="column" flex="100" flex-xs="100">
                <p class="label-container" ng-style="{'color':vm.ecoRequestForm.finalStatusReason.$error.taMaxText?'red':''}">{{vm.ecoRequestModel.finalStatus == 'A' ? 'Approval': 'Rejection'}} Reason<span ng-if="vm.ecoRequestModel.finalStatus != 'A'">&nbsp;*</span></p>
                <span class="margin-bottom-10" ng-if="vm.ecoRequestForm.finalStatusReason.$error.taMaxText" style="color:red; font-size:12px">{{vm.CORE_MESSAGE_CONSTANT.MAX_LENGTH}}</span>
            </div>
            <text-angular class="cm-text-angular-height" ta-toolbar="vm.taToolbar.INLINE" ng-model="vm.ecoRequestModel.finalStatusReason" cg-busy-loading="vm.cgBusyLoading"
                          ng-class="{'text-angular-custom-border':vm.ecoRequestForm.finalStatusReason.$error.taMaxText}"
                          ng-required="vm.ecoRequestModel.finalStatus == 'R'"
                          name="finalStatusReason"
                          ta-disabled="vm.isWoInSpecificStatusNotAllowedToChange"></text-angular>
        </md-input-container>
    </div>
</form>


<style>
    .md-tooltip {
        height: auto !important;
        white-space: normal !important;
        word-break: break-all !important;
    }
</style>
