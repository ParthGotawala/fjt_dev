<form name="vm.frmOperationDetails" class="md-inline-form padding-bottom-0 cm-custom-label-common" novalidate>
  <div layout="row" layout-wrap class="cm-custom-label-common" flex="100">
    <div layout="row" flex="100" layout-wrap>
      <div layout="row" flex="80" flex-md="100" flex-sm="100" layout-wrap>
        <div class="margin-right-5 cm-section-main" flex="100" layout-wrap layout="row">
          <div class="cm-section-header" flex="100">
            <h2>Operation Detail</h2>
          </div>
          <div class="cm-section-inner" flex="100">
            <table cellspacing="0" cellpadding="0" class="cm-table-input-main">
              <tbody>
                <tr>
                  <th>
                    <p class="label-container">
                      {{vm.opAllLabelConstant.OP}}
                      <span ng-if="!(vm.isWorkorderOperationPublished || vm.isWorkorderPublished || vm.isWOUnderTermination || vm.IsProductionStart)">&nbsp;*</span>
                    </p>
                  </th>
                  <td>
                    <md-input-container flex="100" class="w-200">
                      <input type="text" name="opNumber" ng-model="vm.operation.opNumberText"
                             placeholder="{{vm.opAllLabelConstant.OP}}"
                             onkeypress="return OnlyNumbersWithDot(event)"
                             custom-blur="vm.convertThreeDecimal(vm.operation.opNumberText)"
                             ng-maxlength="8"
                             disabled
                             custom-auto-focus="{{msWizard.selectedIndex == 0 ? true : false}}"
                             required />
                      <span flex="100" class="font-size-10">
                        <b>max. 9999.999 (format XXXX.XXX)</b>
                      </span>
                      <!--ng-disabled="vm.isWoInSpecificStatusNotAllowedToChange"> commented after discussion with KS. OpNumber is disabled for all case -->
                      <div ng-messages="vm.frmOperationDetails.opNumber.$error" role="alert">
                        <div ng-message="required">
                          <span>{{vm.CORE_MESSAGE_CONSTANT.REQUIRED}}</span>
                        </div>
                        <div ng-message="maxlength">
                          <span>{{vm.getMaxLengthValidation(8, vm.frmOperationDetails.opNumber.$viewValue.length)}}</span>
                        </div>
                        <div ng-message="invalid">
                          <span>{{vm.CORE_MESSAGE_CONSTANT.INVALID}}</span>
                        </div>
                      </div>
                    </md-input-container>
                  </td>
                  <th>
                    <p class="label-container">
                      Name
                      <span ng-if="!(vm.isWorkorderOperationPublished || vm.isWorkorderPublished || vm.isWOUnderTermination || vm.IsProductionStart)">&nbsp;*</span>
                    </p>
                  </th>
                  <td>
                    <md-input-container flex="100">
                      <input type="text" name="opName" ng-model="vm.operation.opName"
                             disabled
                             placeholder="Operation Name" required ng-maxlength="255">
                      <div ng-messages="vm.frmOperationDetails.opName.$error" role="alert">
                        <div ng-message="maxlength">
                          <span>{{vm.getMaxLengthValidation(255, vm.frmOperationDetails.opName.$viewValue.length)}}</span>
                        </div>
                        <div ng-message="required">
                          <span>{{vm.CORE_MESSAGE_CONSTANT.REQUIRED}}</span>
                        </div>
                      </div>
                    </md-input-container>
                  </td>
                  <th>
                    <p class="label-container">
                      {{vm.opAllLabelConstant.Version}}
                      <span ng-if="!(vm.isWOUnderTermination)">&nbsp;*</span>
                    </p>
                  </th>
                  <td>
                    <md-input-container flex="50">
                      <input type="text" name="opVersion" ng-model="vm.operation.opVersion"
                             ng-disabled="vm.isWOUnderTermination || vm.isWoInSpecificStatusNotAllowedToChange"
                             class="input-text-uppercase" onkeypress="return onlyAlphabets(event)"
                             capitalize placeholder="{{vm.opAllLabelConstant.Version}}"
                             ng-maxlength="20" required>
                      <div ng-messages="vm.frmOperationDetails.opVersion.$error" role="alert">
                        <div ng-message="required">
                          <span>{{vm.CORE_MESSAGE_CONSTANT.REQUIRED}}</span>
                        </div>
                        <div ng-message="maxlength">
                          <span>{{vm.getMaxLengthValidation(20, vm.frmOperationDetails.opVersion.$viewValue.length)}}</span>
                        </div>
                      </div>
                    </md-input-container>
                  </td>
                </tr>
                <tr>
                  <th>
                    <p class="label-container">
                      <a tabindex="-1" class="cm-text-decoration"
                         ng-click="vm.goToOperationType();">{{vm.autoCompleteOperationType.placeholderName}}</a>
                      <span ng-if="vm.autoCompleteOperationType.isRequired && !(vm.isWorkorderOperationPublished || vm.isWorkorderPublished || vm.isWOUnderTermination || vm.IsProductionStart)">&nbsp;*</span>
                    </p>
                  </th>
                  <td>
                    <md-input-container flex="100" ng-if="vm.autoCompleteOperationType"
                                        class="autocompletecustom cm-custom-autocomplete">
                      <custom-auto-complete datalist="vm.OperationTypeList"
                                            column-name="vm.autoCompleteOperationType.columnName"
                                            controller-name="vm.autoCompleteOperationType.controllerName"
                                            view-template-url="vm.autoCompleteOperationType.viewTemplateURL"
                                            key-column-name="vm.autoCompleteOperationType.keyColumnName"
                                            input-name="vm.autoCompleteOperationType.inputName"
                                            placeholder-name="vm.autoCompleteOperationType.placeholderName"
                                            key-column-id="vm.autoCompleteOperationType.keyColumnId"
                                            is-required="vm.autoCompleteOperationType.isRequired"
                                            is-addnew="vm.autoCompleteOperationType.isAddnew"
                                            is-disabled="vm.isWorkorderOperationPublished || vm.isWorkorderPublished || vm.isWOUnderTermination || vm.IsProductionStart || vm.isWoInSpecificStatusNotAllowedToChange"
                                            on-select-callback-fn="vm.autoCompleteOperationType.onSelectCallbackFn"
                                            add-data="vm.autoCompleteOperationType.addData"
                                            callback-fn="vm.autoCompleteOperationType.callbackFn">
                      </custom-auto-complete>
                    </md-input-container>
                  </td>
                  <th>
                    <p class="label-container">
                      <a class="cm-text-decoration" ng-click="vm.goToMountingTypeList();"
                         tabindex="-1">Mounting Type</a><span ng-if="vm.autoCompleteMountingType.isRequired && !(vm.isWorkorderOperationPublished || vm.isWorkorderPublished || vm.isWOUnderTermination || vm.IsProductionStart)">&nbsp;*</span>
                    </p>
                  </th>
                  <td class="w-100">
                    <md-input-container flex="100" ng-if="vm.autoCompleteMountingType"
                                        class="autocompletecustom cm-custom-autocomplete">
                      <custom-auto-complete datalist="vm.mountingTypeList"
                                            column-name="vm.autoCompleteMountingType.columnName"
                                            key-column-name="vm.autoCompleteMountingType.keyColumnName"
                                            controller-name="vm.autoCompleteMountingType.controllerName"
                                            view-template-url="vm.autoCompleteMountingType.viewTemplateURL"
                                            input-name="vm.autoCompleteMountingType.inputName"
                                            placeholder-name="vm.autoCompleteMountingType.placeholderName"
                                            key-column-id="vm.autoCompleteMountingType.keyColumnId"
                                            is-addnew="vm.autoCompleteMountingType.isAddnew"
                                            add-data="vm.autoCompleteMountingType.addData"
                                            is-disabled="vm.isWorkorderOperationPublished || vm.isWorkorderPublished || vm.isWOUnderTermination || vm.IsProductionStart || vm.isWoInSpecificStatusNotAllowedToChange"
                                            is-required="vm.autoCompleteMountingType.isRequired"
                                            callback-fn="vm.autoCompleteMountingType.callbackFn"
                                            on-select-callback-fn="vm.autoCompleteMountingType.onSelectCallbackFn"
                                            ng-class="{'cm-input-color-red' : vm.autoCompleteMountingType.keyColumnId==-1}">
                      </custom-auto-complete>
                    </md-input-container>
                  </td>
                  <th>
                    <p class="label-container">
                      <a class="cm-text-decoration" ng-click="vm.goToOperation();"
                         tabindex="-1">{{vm.autoCompleteParentOperation.placeholderName}}</a>
                      <span ng-if="vm.autoCompleteParentOperation.isRequired && !(vm.isWorkorderOperationPublished || vm.isWorkorderPublished || vm.isWOUnderTermination || vm.IsProductionStart)">&nbsp;*</span>
                    </p>
                  </th>
                  <td>
                    <md-input-container class="autocompletecustom cm-custom-autocomplete"
                                        ng-if="vm.autoCompleteParentOperation">
                      <custom-auto-complete datalist="vm.ParentOperationList"
                                            column-name="vm.autoCompleteParentOperation.columnName"
                                            key-column-name="vm.autoCompleteParentOperation.keyColumnName"
                                            input-name="vm.autoCompleteParentOperation.inputName"
                                            placeholder-name="vm.autoCompleteParentOperation.placeholderName"
                                            key-column-id="vm.autoCompleteParentOperation.keyColumnId"
                                            is-required="vm.autoCompleteParentOperation.isRequired"
                                            is-addnew="vm.autoCompleteParentOperation.isAddnew"
                                            is-disabled="vm.isWorkorderOperationPublished || vm.isWorkorderPublished || vm.isWOUnderTermination || vm.isWorkorderPublished || vm.IsProductionStart || vm.isWoInSpecificStatusNotAllowedToChange"
                                            callback-fn="vm.autoCompleteParentOperation.callbackFn">
                      </custom-auto-complete>
                    </md-input-container>
                  </td>
                </tr>
                <tr>
                  <th rowspan="2"><p class="label-container">Short Description</p></th>
                  <td rowspan="2">
                    <md-input-container class="md-block" flex="100">
                      <textarea type="text" name="shortDescription" ng-model="vm.operation.shortDescription" placeholder="Short Description" rows="3" max-rows="4"
                                ng-disabled="vm.isWorkorderOperationPublished || vm.isWOUnderTermination || vm.isWoInSpecificStatusNotAllowedToChange || vm.isWorkorderPublished || vm.IsProductionStart"
                                ng-maxlength="vm.maxLengthForDescription" md-maxlength="vm.maxLengthForDescription"></textarea>
                      <div ng-messages="vm.operationDetailsForm.shortDescription.$error" role="alert">
                        <div ng-message="maxlength">
                          <span>{{vm.getMaxLengthValidation(vm.maxLengthForDescription,vm.operationDetailsForm.shortDescription.$viewValue.length)}}</span>
                        </div>
                      </div>
                    </md-input-container>
                  </td>
                  <th>
                    <p class="label-container">
                      Neighboring Operations<span ng-if="!(vm.isWorkorderOperationPublished || vm.isWOUnderTermination)">
                        &nbsp;*
                        <md-icon class="icon-question-mark-circle help-icon">
                          <md-tooltip md-direction="top">
                            {{vm.CORE_MESSAGE_CONSTANT.TAB_LIMIT_AT_TRAVELER}}
                          </md-tooltip>
                        </md-icon>
                      </span>
                    </p>
                  </th>
                  <td>
                    <md-input-container flex="100">
                      <input type="number" name="tabLimitAtTraveler"
                             ng-model="vm.operation.tabLimitAtTraveler" min="0"
                             placeholder="Neighboring Operations" required
                             onkeypress="return OnlyNumeric(event)"
                             ng-disabled="vm.isWorkorderOperationPublished || vm.isWOUnderTermination || vm.isWoInSpecificStatusNotAllowedToChange">
                      <div ng-messages="vm.frmOperationDetails.tabLimitAtTraveler.$error"
                           role="alert">
                        <div ng-message="required">
                          <span>{{vm.CORE_MESSAGE_CONSTANT.REQUIRED}}</span>
                        </div>
                        <div ng-message="number">
                          <span>{{vm.CORE_MESSAGE_CONSTANT.INVALID}}</span>
                        </div>
                      </div>
                    </md-input-container>
                  </td>
                  <td colspan="2">
                    <div class="md-block colorpicker" layout="row" layout-align="end start" flex>
                      <md-button name="colorCode"
                                 class="md-default md-raised black-500-fg margin-0"
                                 ng-click="vm.getColor($event,vm.operation.colorCode)"
                                 ng-disabled="vm.isWorkorderOperationPublished || vm.isWOUnderTermination"
                                 style="background-color:{{vm.operation.colorCode}} !important">
                        Select Operation Color
                      </md-button>
                      <div ng-messages="vm.operationDetailsForm.colorCode.$error" role="alert">
                        <div ng-if="vm.operation.colorCode.length>20">
                          <span>{{vm.CORE_MESSAGE_CONSTANT.MAX_LENGTH}}</span>
                        </div>
                      </div>
                    </div>
                  </td>
                </tr>
                <tr>
                  <th>
                  </th>
                  <td>
                    <div layout="row" ng-class="{ 'md-fieldChanged': vm.isMoveToStockChanged }">
                      <md-checkbox ng-model="vm.operation.isMoveToStock" name="isMoveToStock" class="margin-0"
                                   ng-disabled="vm.checkboxButtonGroup.isMoveToStock.checkDisable()"
                                   ng-change="vm.checkboxButtonGroup.isMoveToStock.onChange()">
                        <p class="nowrap">
                          {{vm.opAllLabelConstant.LastOperationAndMoveToStock}}
                        </p>
                      </md-checkbox>
                      <md-icon class="icon-question-mark-circle help-icon">
                        <md-tooltip md-direction="top">
                          {{vm.CORE_MESSAGE_CONSTANT.LAST_OPERATION_AT_TRAVELER}}
                        </md-tooltip>
                      </md-icon>
                    </div>
                  </td>
                  <th>
                  </th>
                  <td>
                    <div layout="row" ng-class="{ 'md-fieldChanged': vm.isTrackBySerialNoChanged }">
                      <md-checkbox ng-model="vm.operation.isTrackBySerialNo" name="isTrackBySerialNo" class="margin-0"
                                   ng-disabled="vm.checkboxButtonGroup.isTrackBySerialNo.checkDisable()"
                                   ng-change="vm.checkboxButtonGroup.isTrackBySerialNo.onChange()">
                        <p class="label-container">
                          {{vm.opAllLabelConstant.TrackSerialInOperation}}
                        </p>
                      </md-checkbox>
                      <md-icon class="icon-question-mark-circle help-icon">
                        <md-tooltip md-direction="top">{{vm.CORE_MESSAGE_CONSTANT.TRACK_BY_SERIAL_AT_TRAVELER}}</md-tooltip>
                      </md-icon>
                    </div>
                  </td>
                </tr>
                <tr>
                  <th>
                  </th>
                  <td>
                    <div layout="row" ng-class="{ 'md-fieldChanged': vm.isAllowFinalSerialMappingChanged }">
                      <md-checkbox ng-model="vm.operation.isAllowFinalSerialMapping" name="isAllowFinalSerialMapping" class="margin-0"
                                   ng-disabled="vm.checkboxButtonGroup.isAllowFinalSerialMapping.checkDisable()"
                                   ng-change="vm.checkboxButtonGroup.isAllowFinalSerialMapping.onChange()">
                        <p class="label-container">
                          {{vm.opAllLabelConstant.MappingSerial}}
                        </p>
                      </md-checkbox>
                      <md-icon class="icon-question-mark-circle help-icon">
                        <md-tooltip md-direction="top">{{vm.SERIAL_MAPPING_ALLOW_AT_TRAVELER.message}}</md-tooltip>
                      </md-icon>
                    </div>
                  </td>
                  <th>
                  </th>
                  <td>
                    <div layout="row" ng-class="{ 'md-fieldChanged': vm.isPlacementTrackingChanged }">
                      <md-checkbox ng-model="vm.operation.isPlacementTracking" name="isPlacementTracking" class="margin-0"
                                   ng-disabled="vm.checkboxButtonGroup.isPlacementTracking.checkDisable()"
                                   ng-change="vm.checkboxButtonGroup.isPlacementTracking.onChange()">
                        <p class="label-container">
                          {{vm.opAllLabelConstant.BasicPlacementTracking}}
                        </p>
                      </md-checkbox>
                      <md-icon class="icon-question-mark-circle help-icon">
                        <md-tooltip md-direction="top">{{vm.CORE_MESSAGE_CONSTANT.BASIC_PLACEMENT_AT_TRAVELER}}</md-tooltip>
                      </md-icon>
                    </div>
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>
      <div class="mt-rs-5" layout="row" flex-md="100" flex-sm="100" flex="20">
        <div class="cm-section-main" flex="100">
          <div class="cm-section-header" flex="100">
            <h2>Time Detail</h2>
          </div>
          <div class="cm-section-inner" flex="100">
            <table cellspacing="0" cellpadding="0" class="cm-table-input-main">
              <tbody>
                <tr>
                  <th>
                    <p class="label-container cm-white-space-normal">Targeted Total Process Time (HH:mm)</p>
                  </th>
                  <td>
                    <md-input-container md-no-float flex="100">
                      <input type="text" name="processTime" ng-model="vm.operation.processTime"
                             class="text-right" placeholder="HH:mm"
                             ng-pattern="vm.OperationTimePattern" mask="{{vm.OperationTimeMask}}"
                             validate="false" custom-blur="vm.setPerPieceTime()"
                             ng-disabled="vm.isWorkorderOperationPublished || vm.isWOUnderTermination || vm.isWoInSpecificStatusNotAllowedToChange">
                      <div ng-messages="vm.frmOperationDetails.processTime.$error" role="alert">
                        <div ng-message="pattern">
                          <span>{{vm.CORE_MESSAGE_CONSTANT.INVALID}}</span>
                        </div>
                      </div>
                    </md-input-container>
                  </td>
                </tr>
                <tr>
                  <th>
                    <p class="label-container">Setup Time (HH:mm)</p>
                  </th>
                  <td>
                    <md-input-container md-no-float flex>
                      <input type="text" name="setupTime" ng-model="vm.operation.setupTime"
                             class="text-right" placeholder="HH:mm"
                             ng-pattern="vm.OperationTimePattern" mask="{{vm.OperationTimeMask}}"
                             validate="false"
                             ng-disabled="vm.isWorkorderOperationPublished || vm.isWOUnderTermination || vm.isWoInSpecificStatusNotAllowedToChange">
                      <div ng-messages="vm.frmOperationDetails.setupTime.$error" role="alert">
                        <div ng-message="pattern">
                          <span>{{vm.CORE_MESSAGE_CONSTANT.INVALID}}</span>
                        </div>
                      </div>
                    </md-input-container>
                  </td>
                </tr>
                <tr>
                  <th>
                    <p class="label-container" flex="55" flex-lg="80">
                      Per pcs Target Time (HH:mm)
                    </p>
                  </th>
                  <td>
                    <md-input-container md-no-float flex>
                      <input type="text" name="perPieceTime" ng-model="vm.operation.perPieceTime"
                             class="text-right" placeholder="HH:mm"
                             ng-pattern="vm.OperationTimePattern" mask="{{vm.OperationTimeMask}}"
                             validate="false" custom-blur="vm.setTotalProcessTime()"
                             ng-disabled="vm.isWorkorderOperationPublished || vm.isWOUnderTermination || vm.isWoInSpecificStatusNotAllowedToChange">
                      <div ng-messages="vm.frmOperationDetails.perPieceTime.$error" role="alert">
                        <div ng-message="pattern">
                          <span>{{vm.CORE_MESSAGE_CONSTANT.INVALID}}</span>
                        </div>
                      </div>
                    </md-input-container>
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>
    <div layout="row" flex="100" layout-wrap>
      <div flex="100" class="margin-top-5">
        <!-- Ref. Designator -->
        <workorder-operation-ref-designator wo-id="vm.operation.woID" op-id="vm.operation.opID" wo-op-id="vm.operation.woOPID"> </workorder-operation-ref-designator>
      </div>
      <div layout="row" flex="100" class="margin-top-5">
        <div class="cm-section-main" flex="100">
          <div class="cm-section-header" flex="100">
            <h2>Loop To Previous Operation Setting</h2>
          </div>
          <div class="cm-section-inner" flex="100">
            <table flex="100" cellspacing="0" cellpadding="0" class="cm-table-input-main margin-top-5 margin-left-10">
              <tbody>
                <tr>
                  <th ng-class="{ 'md-fieldChanged' : vm.isLoopOperationChanged }">
                    <p class="label-container">
                      Loop to Previous&nbsp;<a tabindex="-1" class="cm-text-decoration" ng-click="vm.goToWorkorderOperations();">Operation</a>
                      <md-icon class="icon-question-mark-circle help-icon">
                        <md-tooltip md-direction="top">{{vm.LOOP_OPERATION_ALLOW_AT_TRAVELER.message}}</md-tooltip>
                      </md-icon>
                    </p>
                  </th>
                  <td class="width-350" ng-class="{ 'md-fieldChanged' : vm.isLoopOperationChanged }">
                    <md-input-container flex="100" ng-if="vm.autoCompleteLoopToOp"
                                        class="autocompletecustom cm-custom-autocomplete">
                      <custom-auto-complete datalist="vm.loopToOperationList"
                                            column-name="vm.autoCompleteLoopToOp.columnName"
                                            controller-name="vm.autoCompleteLoopToOp.controllerName"
                                            view-template-url="vm.autoCompleteLoopToOp.viewTemplateURL"
                                            key-column-name="vm.autoCompleteLoopToOp.keyColumnName"
                                            input-name="vm.autoCompleteLoopToOp.inputName"
                                            placeholder-name="vm.autoCompleteLoopToOp.placeholderName"
                                            key-column-id="vm.autoCompleteLoopToOp.keyColumnId"
                                            is-required="vm.autoCompleteLoopToOp.isRequired"
                                            is-addnew="vm.autoCompleteLoopToOp.isAddnew"
                                            is-disabled="vm.isWorkorderOperationPublished || vm.isWorkorderPublished || vm.isWOUnderTermination || vm.IsProductionStart || vm.isWoInSpecificStatusNotAllowedToChange || vm.IsProductionComplete || vm.operation.isParallelCluster || vm.IsInspectionProcess || vm.IsFirstOperation"
                                            on-select-callback-fn="vm.autoCompleteLoopToOp.onSelectCallbackFn"
                                            add-data="vm.autoCompleteLoopToOp.addData"
                                            callback-fn="vm.autoCompleteLoopToOp.callbackFn">
                      </custom-auto-complete>
                    </md-input-container>
                  </td>
                  <th>
                    <p class="label-container"></p>
                  </th>
                  <td>
                    <div class="loop-operation-message" ng-if="vm.autoCompleteLoopToOp.keyColumnId && vm.operation.LoopOperationError">
                      <p ng-bind-html="vm.operation.LoopOperationError"></p>
                    </div>
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>
      <div layout="row" flex="100" class="margin-top-5">
        <div class="cm-section-main" flex="100">
          <div class="cm-section-header" flex="100">
            <h2>Transaction Level Setting</h2>
          </div>
          <div layout="row" class="cm-wo-op-detail" flex="100" layout-wrap>
            <div flex="100" flex-lg="50" layout="row" layout-wrap>
              <div flex="33" flex-md="100" flex-sm="100" flex-lg="100">
                <div class=" container-box" flex="100" layout="row"
                     ng-class="{'switch-disable': vm.radioButtonGroup.qtyControl.checkDisable(),
                                 'md-fieldChanged': vm.isQtyControlChanged }">
                  <!-- ng-class="{checked: selection == 'selection'}" -->
                  <md-input-container flex="100">
                    <md-radio-group layout="row" layout-align="start start" layout-wrap
                                    name="qtyControl" ng-model="vm.operation.qtyControl"
                                    ng-disabled="vm.radioButtonGroup.qtyControl.checkDisable()"
                                    ng-change="vm.radioButtonGroup.qtyControl.onChange()">
                      <md-radio-button flex
                                       ng-repeat="item in vm.radioButtonGroup.qtyControl.array"
                                       name="{{item.Key}}" ng-value="{{item.Value}}">
                        {{item.Key}}
                      </md-radio-button>
                    </md-radio-group>
                  </md-input-container>
                </div>
              </div>
              <div flex="33" flex-md="100" flex-sm="100" flex-lg="100">
                <div class=" container-box" flex="100" layout="row"
                     ng-class="{'switch-disable': vm.radioButtonGroup.isRework.checkDisable(),
                     'md-fieldChanged': vm.isReworkChanged }">
                  <md-input-container flex="100">
                    <md-radio-group layout="row" layout-align="start start" layout-wrap
                                    name="isRework" ng-model="vm.operation.isRework"
                                    ng-disabled="vm.radioButtonGroup.isRework.checkDisable()"
                                    ng-change="vm.radioButtonGroup.isRework.onChange()">
                      <md-radio-button flex ng-repeat="item in vm.radioButtonGroup.isRework.array"
                                       name="{{item.Key}}" ng-value="{{item.Value}}">
                        {{item.Key}}
                      </md-radio-button>
                    </md-radio-group>
                  </md-input-container>
                </div>
              </div>
              <div flex="33" flex-md="100" flex-sm="100" flex-lg="100">
                <div class=" container-box" flex="100" layout="row"
                     ng-class="{'switch-disable': vm.radioButtonGroup.isIssueQty.checkDisable(),
                                'md-fieldChanged': vm.isIssueQtyChanged }">
                  <md-input-container flex="100">
                    <md-radio-group layout="row" layout-align="start start" layout-wrap
                                    name="isIssueQty" ng-model="vm.operation.isIssueQty"
                                    ng-disabled="vm.radioButtonGroup.isIssueQty.checkDisable()"
                                    ng-change="vm.radioButtonGroup.isIssueQty.onChange()">
                      <md-radio-button flex
                                       ng-repeat="item in vm.radioButtonGroup.isIssueQty.array"
                                       name="{{item.Key}}" ng-value="{{item.Value}}">
                        {{item.Key}}
                      </md-radio-button>
                    </md-radio-group>
                  </md-input-container>
                </div>
              </div>
              <div flex="33" flex-md="100" flex-sm="100" flex-lg="100">
                <div class="container-box" flex="100" layout="row"
                     ng-class="{'switch-disable': vm.radioButtonGroup.isPreProgrammingComponent.checkDisable(),
                     'md-fieldChanged': vm.isPreProgrammingComponentChanged }">
                  <md-input-container flex="100">
                    <md-radio-group layout="row" layout-align="start start" layout-wrap
                                    name="isPreProgrammingComponent"
                                    ng-model="vm.operation.isPreProgrammingComponent"
                                    ng-disabled="vm.radioButtonGroup.isPreProgrammingComponent.checkDisable()"
                                    ng-change="vm.radioButtonGroup.isPreProgrammingComponent.onChange()">
                      <md-radio-button flex
                                       ng-repeat="item in vm.radioButtonGroup.isPreProgrammingComponent.array" class="cm-height-auto"
                                       name="{{item.Key}}" ng-value="{{item.Value}}">
                        {{item.Key}}
                      </md-radio-button>
                    </md-radio-group>
                  </md-input-container>
                </div>
              </div>
              <div flex="33" layout="column" flex-md="100" flex-sm="100" flex-lg="100">
                <div class=" container-box" flex="100" layout="row"
                     ng-class="{'switch-disable': vm.radioButtonGroup.isTeamOperation.checkDisable()}">
                  <md-input-container flex="100">
                    <md-radio-group layout="row" layout-align="start start" layout-wrap
                                    name="isTeamOperation" ng-model="vm.operation.isTeamOperation"
                                    ng-disabled="vm.radioButtonGroup.isTeamOperation.checkDisable()"
                                    ng-change="vm.radioButtonGroup.isTeamOperation.onChange()">
                      <md-radio-button flex
                                       ng-repeat="item in vm.radioButtonGroup.isTeamOperation.array"
                                       name="{{item.Key}}" ng-value="{{item.Value}}">
                        {{item.Key}}
                      </md-radio-button>
                    </md-radio-group>
                  </md-input-container>
                </div>
              </div>
              <div flex="33" layout="column" flex-md="100" flex-sm="100" flex-lg="100">
                <div class="container-box margin-top-4" flex="100" layout="row" ng-class="{'md-fieldChanged' : vm.isEnablePreProgrammingPartChanged }">
                  <md-input-container flex="100" class="pl-10 pv-7 cm-padding-top-6">
                    <md-checkbox ng-model="vm.operation.isEnablePreProgrammingPart" name="isEnablePreProgrammingPart" class="margin-0"
                                 ng-disabled="vm.checkboxButtonGroup.isEnablePreProgrammingPart.checkDisable()"
                                 ng-change="vm.checkboxButtonGroup.isEnablePreProgrammingPart.onChange()">
                      <p class="label-container">
                        {{vm.opAllLabelConstant.EnablePreProgrammingPart}}
                      </p>
                    </md-checkbox>
                  </md-input-container>
                </div>
              </div>
            </div>
            <div layout="row" flex="100" flex-lg="50" layout-wrap layout-align="start start">
              <div flex="33" flex-md="100" flex-sm="100" flex-lg="100">
                <div class="container-box" flex="100"
                     ng-class="{'switch-disable': vm.checkboxButtonGroup.fluxType.checkDisable()}">
                  <div class="cm-section-header" flex="100">
                    <h2>Flux Type <span class="color-red">*</span></h2>
                  </div>
                  <div flex="100" layout-wrap class="padding-top-10 padding-bottom-10">
                    <md-input-container flex="100" class="pl-10 pr-10 cm-pv-6 ">
                      <md-checkbox ng-model="vm.operation.isFluxNotApplicable" name="fluxType" class="margin-0"
                                   ng-disabled="vm.checkboxButtonGroup.fluxType.checkDisable()"
                                   ng-change="vm.checkboxButtonGroup.fluxType.onChange();">
                        <p class="label-container">
                          {{vm.LabelConstant.COMMON.NotApplicable}}
                        </p>
                      </md-checkbox>
                    </md-input-container>
                    <md-input-container flex="100" class="pl-10 cm-pv-6">
                      <md-checkbox ng-model="vm.operation.isNoClean" name="fluxType" class="margin-0"
                                   ng-disabled="vm.checkboxButtonGroup.fluxType.checkDisable() || vm.isNCWSDisabled"
                                   ng-change="vm.checkboxButtonGroup.fluxType.onChange();">
                        <p class="label-container">
                          {{vm.opAllLabelConstant.NoClean}}
                        </p>
                      </md-checkbox>
                    </md-input-container>
                    <md-input-container flex="100" class="pl-10 cm-pv-6">
                      <md-checkbox ng-model="vm.operation.isWaterSoluble" name="fluxType" class="margin-0"
                                   ng-disabled="vm.checkboxButtonGroup.fluxType.checkDisable() || vm.isNCWSDisabled"
                                   ng-change="vm.checkboxButtonGroup.fluxType.onChange();">
                        <p class="label-container">
                          {{vm.opAllLabelConstant.WaterSoluble}}
                        </p>
                      </md-checkbox>
                    </md-input-container>
                    <div class="margin-left-10" ng-messages="vm.frmOperationDetails.fluxType.$error" role="alert" layout="row">
                      <div ng-message="isFluxTypeRequired" class="color-red">
                        <span>{{vm.CORE_MESSAGE_CONSTANT.REQUIRED}}</span>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              <div flex="33" flex-md="100" flex-sm="100" flex-lg="100">
                <div class="container-box" flex="100" layout="row" ng-class="{'md-fieldChanged': vm.isAllowMissingPartQtyChanged }">
                  <md-input-container flex="100" class="pl-10 cm-pv-6 mt-1">
                    <md-checkbox ng-model="vm.operation.isAllowMissingPartQty" name="isAllowMissingPartQty" class="margin-0"
                                 ng-disabled="vm.checkboxButtonGroup.isAllowMissingPartQty.checkDisable()">
                      <p class="label-container">
                        {{vm.opAllLabelConstant.AllowMissingPartQty}}
                      </p>
                    </md-checkbox>
                  </md-input-container>
                </div>
              </div>
              <div flex="33" flex-md="100" flex-sm="100" flex-lg="100">
                <div class="container-box" flex="100" layout="row" ng-class="{'md-fieldChanged': vm.isAllowBypassQtyChanged }">
                  <md-input-container flex="100" class="pl-10 cm-pv-6">
                    <md-checkbox ng-model="vm.operation.isAllowBypassQty" name="isAllowBypassQty" class="margin-0"
                                 ng-disabled="vm.checkboxButtonGroup.isAllowBypassQty.checkDisable()">
                      <p class="label-container">
                        {{vm.opAllLabelConstant.AllowByPassQty}}
                      </p>
                    </md-checkbox>
                  </md-input-container>
                </div>
              </div>
              <div flex="33" flex-md="100" flex-sm="100" flex-lg="100">
                <div flex="100" layout="row" class="layout-align-start-center container-box"
                     ng-class="{'switch-disable': vm.radioButtonGroup.isRequireMachineVerification.checkDisable()}">
                  <div class="layout-row">
                    <span class="label-container cm-pv-6">
                      {{vm.opAllLabelConstant.IsRequireMachineVerification}}
                    </span>
                  </div>
                  <div>
                    <md-input-container>
                      <md-radio-group layout="row" layout-align="start start" layout-wrap
                                      name="isRequireMachineVerification" ng-model="vm.operation.isRequireMachineVerification"
                                      ng-disabled="vm.radioButtonGroup.isRequireMachineVerification.checkDisable()"
                                      ng-change="vm.radioButtonGroup.isRequireMachineVerification.onChange()">
                        <md-radio-button ng-repeat="item in vm.radioButtonGroup.isRequireMachineVerification.array"
                                         name="{{item.Key}}" ng-value="item.Value">
                          {{item.Key}}
                        </md-radio-button>
                      </md-radio-group>
                    </md-input-container>
                  </div>
                </div>
              </div>
              <div flex-md="100" flex-sm="100" flex-lg="100">
                <div flex="100" layout="row" class="layout-align-start-center container-box"
                     ng-class="{'switch-disable': vm.radioButtonGroup.doNotReqApprovalForScan.checkDisable()}">
                  <div class="layout-row">
                    <span class="label-container cm-pv-6 text-right cm-white-space-normal">
                      {{vm.opAllLabelConstant.DoNotReqApprovalForScan}}
                    </span>
                  </div>
                  <div class="w-260">
                    <md-input-container>
                      <md-radio-group layout="row" layout-align="start start" layout-wrap
                                      name="doNotReqApprovalForScan" ng-model="vm.operation.doNotReqApprovalForScan"
                                      ng-disabled="vm.radioButtonGroup.doNotReqApprovalForScan.checkDisable()"
                                      ng-change="vm.radioButtonGroup.doNotReqApprovalForScan.onChange()">
                        <md-radio-button ng-repeat="item in vm.radioButtonGroup.doNotReqApprovalForScan.array"
                                         name="{{item.Key}}" ng-value="item.Value">
                          {{item.Key}}
                        </md-radio-button>
                      </md-radio-group>
                    </md-input-container>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div layout="row" flex="100">
      <div flex="50" layout="row" class="margin-top-5 cm-text-angular-height" layout-align="start start">
        <md-input-container class="md-block margin-bottom-0" flex="100">
          <div layout="column" flex="100" flex-xs="100">
            <span class="margin-bottom-0 label-container"
                  ng-style="{'color':vm.frmOperationDetails.opDescription.$error.taMaxText?'red':''}">Description&nbsp;<span>{{vm.minLengthMessage}}<span ng-if="vm.taToolbar.REQUIRED && !(vm.isWOUnderTermination || vm.isWorkorderPublished)">&nbsp;*</span></span></span>
            <span class="margin-bottom-10" ng-if="vm.frmOperationDetails.opDescription.$error.taMaxText"
                  style="color:red; font-size:12px">{{vm.getDescrLengthValidation(vm.taToolbar.MAX_LENGTH, vm.frmOperationDetails.opDescription.$viewValue)}}</span>
          </div>
          <text-angular ta-toolbar="vm.taToolbar.INLINE" ng-model="vm.operation.opDescription" cg-busy-loading="vm.cgBusyLoading"
                        ng-class="{'text-angular-custom-border':vm.frmOperationDetails.opDescription.$error.taMaxText}"
                        name="opDescription" class="" ta-min-text="{{vm.taToolbar.MIN_LENGTH}}"
                        ta-max-text="{{vm.taToolbar.MAX_LENGTH}}"
                        ta-disabled="vm.isWOUnderTermination || vm.isWorkorderPublished || vm.isWoInSpecificStatusNotAllowedToChange"
                        ng-required="{{vm.taToolbar.REQUIRED ? vm.taToolbar.REQUIRED : 0}}"></text-angular>
        </md-input-container>
      </div>
      <div flex="50" layout="row" class="margin-top-5 cm-text-angular-height" layout-align="start start">
        <md-input-container class="md-block margin-bottom-0" flex="100">
          <div layout="column" flex="100" flex-xs="100">
            <span class="margin-bottom-0 label-container"
                  ng-style="{'color':vm.frmOperationDetails.opWorkingCondition.$error.taMaxText?'red':''}">
              Job Specific Requirement
            </span>
            <span class="margin-bottom-10"
                  ng-if="vm.frmOperationDetails.opWorkingCondition.$error.taMaxText"
                  style="color:red; font-size:12px">{{vm.getDescrLengthValidation(vm.taToolbar.MAX_LENGTH, vm.frmOperationDetails.opWorkingCondition.$viewValue)}}</span>
          </div>
          <text-angular ta-toolbar="vm.taToolbar.INLINE" ng-model="vm.operation.opWorkingCondition" cg-busy-loading="vm.cgBusyLoading"
                        ng-class="{'text-angular-custom-border':vm.frmOperationDetails.opWorkingCondition.$error.taMaxText}"
                        ta-disabled="vm.isWOUnderTermination || vm.isWorkorderPublished || vm.isWoInSpecificStatusNotAllowedToChange"
                        name="opWorkingCondition"
                        class="" ta-max-text="{{vm.taToolbar.MAX_LENGTH}}"></text-angular>
        </md-input-container>
      </div>
    </div>
    <div layout="row" flex="100">
      <div flex="50" layout="row" class="margin-top-5 cm-text-angular-height" layout-align="start start">
        <md-input-container class="md-block margin-bottom-0" flex="100">
          <div layout="column" flex="100" flex-xs="100">
            <span class="margin-bottom-0 label-container"
                  ng-style="{'color':vm.frmOperationDetails.opManagementInstruction.$error.taMaxText?'red':''}">
              Management Communication
            </span>
            <span class="margin-bottom-10"
                  ng-if="vm.frmOperationDetails.opManagementInstruction.$error.taMaxText"
                  style="color:red; font-size:12px">{{vm.getDescrLengthValidation(vm.taToolbar.MAX_LENGTH, vm.frmOperationDetails.opManagementInstruction.$viewValue)}}</span>
          </div>
          <text-angular ta-toolbar="vm.taToolbar.INLINE" ng-model="vm.operation.opManagementInstruction" cg-busy-loading="vm.cgBusyLoading"
                        ng-class="{'text-angular-custom-border':vm.frmOperationDetails.opManagementInstruction.$error.taMaxText}"
                        ta-disabled="vm.isWOUnderTermination || vm.isWorkorderPublished || vm.isWoInSpecificStatusNotAllowedToChange"
                        name="opManagementInstruction"
                        class="" ta-max-text="{{vm.taToolbar.MAX_LENGTH}}"></text-angular>
        </md-input-container>
      </div>
      <div flex="50" layout="row" class="margin-top-5 cm-text-angular-height" layout-align="start start">
        <md-input-container class="md-block margin-bottom-0" flex="100">
          <div layout="column" flex="100" flex-xs="100">
            <span class="margin-bottom-0 label-container"
                  ng-style="{'color':vm.frmOperationDetails.opDeferredInstruction.$error.taMaxText?'red':''}">
              Deferred Instruction
            </span>
            <span class="margin-bottom-10"
                  ng-if="vm.frmOperationDetails.opDeferredInstruction.$error.taMaxText"
                  style="color:red; font-size:12px">{{vm.getDescrLengthValidation(vm.taToolbar.MAX_LENGTH, vm.frmOperationDetails.opDeferredInstruction.$viewValue)}}</span>
          </div>
          <text-angular ta-toolbar="vm.taToolbar.INLINE" ng-model="vm.operation.opDeferredInstruction" cg-busy-loading="vm.cgBusyLoading"
                        ng-class="{'text-angular-custom-border':vm.frmOperationDetails.opDeferredInstruction.$error.taMaxText}"
                        ta-disabled="vm.isWOUnderTermination || vm.isWorkorderPublished || vm.isWoInSpecificStatusNotAllowedToChange"
                        name="opDeferredInstruction"
                        class="" ta-max-text="{{vm.taToolbar.MAX_LENGTH}}"></text-angular>
        </md-input-container>
      </div>
    </div>
  </div>
</form>
