<md-dialog aria-label="Part" class="cm-custom-label-common" draggable>
  <form name="vm.partForm" novalidate>
    <md-button id="btnRequireColValidation" type="submit" ng-hide="true"></md-button>
    <md-toolbar>
      <div class="md-toolbar-tools">
        <h2>Select {{vm.headeTitle}} </h2>
        <span flex></span>
        <popup-header-label label-data="vm.headerdata"></popup-header-label>
        <md-button class="md-icon-button" ng-click="vm.cancel()">
          <md-icon role="img" md-font-icon="icon-close" class="material-icons mat-icon icon-close"></md-icon>
        </md-button>
      </div>
    </md-toolbar>
    <md-dialog-content class="customer-modal no-padding custom-scroll">
      <div class="padding-10" layout="column" layout-gt-xs="row">
        <div flex="100">
          <div flex="100" layout="row" class="input-wrapper" layout-align="start start" ng-if="vm.autoCompletePart">
            <p class="margin-top-5 margin-bottom-0 label-container" layout-align="start start" layout="row" flex="35">
              <a class="cm-text-decoration underline" ng-click="vm.goToPartList();" tabindex="-1">{{vm.autoCompletePart.placeholderName}}</a><span>&nbsp;*</span>
            </p>
            <md-input-container class="autocompletecustom margin-bottom-0">
              <!--<custom-auto-complete datalist="vm.PartList"
                            column-name="vm.autoCompletePart.columnName"
                            key-column-name="vm.autoCompletePart.keyColumnName"
                            controller-name="vm.autoCompletePart.controllerName"
                            view-template-url="vm.autoCompletePart.viewTemplateURL"
                            input-name="vm.autoCompletePart.inputName"
                            placeholder-name="vm.autoCompletePart.placeholderName"
                            key-column-id="vm.autoCompletePart.keyColumnId"
                            is-required="vm.autoCompletePart.isRequired"
                            is-addnew="vm.autoCompletePart.isAddnew"
                            add-data="vm.autoCompletePart.addData"
                            is-disabled="vm.autoCompletePart.isDisabled"
                            callback-fn="vm.autoCompletePart.callbackFn"
                            custom-auto-focus="{{vm.autoCompletePart != null ? true : false}}">
      </custom-auto-complete>-->
              <custom-auto-complete-search class="min-width-initial" on-search-fn="vm.autoCompletePart.onSearchFn"
                                           column-name="vm.autoCompletePart.columnName"
                                           controller-name="vm.autoCompletePart.controllerName"
                                           parent-column-name="vm.autoCompletePart.parentColumnName"
                                           view-template-url="vm.autoCompletePart.viewTemplateURL"
                                           key-column-name="vm.autoCompletePart.keyColumnName"
                                           input-name="vm.autoCompletePart.inputName"
                                           placeholder-name="vm.autoCompletePart.placeholderName"
                                           key-column-id="vm.autoCompletePart.keyColumnId"
                                           is-required="vm.autoCompletePart.isRequired"
                                           is-addnew="vm.autoCompletePart.isAddnew"
                                           callback-fn="vm.autoCompletePart.callbackFn"
                                           parent-id=""
                                           add-data="vm.autoCompletePart.addData"
                                           on-select-callback-fn="vm.autoCompletePart.onSelectCallbackFn"
                                           is-disabled="vm.autoCompletePart.isDisabled">
              </custom-auto-complete-search>
            </md-input-container>
          </div>
          <div ng-if="vm.autoCompletePart && vm.autoCompletePart.keyColumnId && !vm.autoCompletePart.isDisabled"
               flex="100" layout="row">
            <p class="label-container" layout-align="start start" layout="row" flex="35"></p>
              <common-pid-code-label-link component-id="vm.selectedSMTDetFromAutoComplete.id"
                                          label="vm.labelConstant.MFG.PID"
                                          value="vm.selectedSMTDetFromAutoComplete.PIDCode"
                                          is-copy="true"
                                          is-mfg="true"
                                          mfg-label="vm.labelConstant.MFG.MFGPN"
                                          mfg-value="vm.selectedSMTDetFromAutoComplete.mfgPN"
                                          rohs-icon="vm.rohsImagePath + vm.selectedSMTDetFromAutoComplete.rohsIcon"
                                          rohs-status="vm.selectedSMTDetFromAutoComplete.rohsStatus"
                                          is-formated="true"
                                          is-copy-ahead-label="true"
                                          is-search-digi-key="true" is-search-findchip="true"
                                          is-custom-part="vm.selectedSMTDetFromAutoComplete.isCustom"></common-pid-code-label-link>
              <md-tooltip ng-if="vm.selectedSMTDetFromAutoComplete.isObsoletePart">Obsolete</md-tooltip>
          </div>
          <div flex="100" layout="row" layout-align="start end">
            <md-button class="md-raised md-primary margin-left-0" ng-click="vm.SelectAllOperation($event)"
                       ng-if="vm.WoOperationList.length > 0">
              {{vm.SelectAllOp ? 'Deselect All' : 'Select All'}}
            </md-button>
          </div>
          <div class="price-tables manage-standard" flex="100" layout="row" layout-wrap ng-if="vm.WoOperationList.length > 0">
            <div class="style-1 md-whiteframe-1dp" layout="column" flex="100">
              <md-list class="operation-popup">
                <md-list-item ng-repeat="operation in vm.WoOperationList | orderBy: 'opNumber'" layout="row" layout-align="start stretch">
                  <md-checkbox class="margin-0" ng-model="operation.selected" ng-change="vm.AddToSelectedOperation();" name="{{operation.opName}}">
                  </md-checkbox>
                  <div flex class="text-main">
                    <i class="icon-checkbox-blank-circle-outline normal"></i>
                    <i class="icon-check-circle checked"></i>
                    <a class="cm-text-decoration" ng-click="vm.goToManageOperation(operation.opID);">
                      {{ operation.opName }}
                    </a>
                  </div>
                  <div class="cm-pv-6">
                    <operation-flux-type-icon flux-type="operation.fluxTypeList"></operation-flux-type-icon>
                  </div>
                </md-list-item>
              </md-list>
            </div>
          </div>
          <div class="empty-state text-center" layout="row" flex="100" layout-wrap ng-if="vm.WoOperationList.length == 0">
            <div class="emty-icon" flex="100">
              <img ng-src="{{vm.EmptyMesssage.IMAGEURL}}" />
            </div>
            <p class="empty-state-title font-size-2 useadded-emptytxt" flex="100" ng-if="vm.SearchOperationText == null && vm.WoOperationList.length == 0">
              {{vm.EmptyMesssage.NO_SELECTED}}
            </p>
            <p class="empty-state-title font-size-2 useadded-emptytxt" flex="100" ng-if="vm.SearchOperationText != null && vm.FilterWoOperationList != true">
              {{vm.EmptyMesssage.EMPTY_SEARCH_MESSAGE}}
            </p>
          </div>
        </div>
      </div>
    </md-dialog-content>
    <md-dialog-actions layout="row">
      <md-button class="md-default md-raised" ng-click="vm.cancel()">Cancel</md-button>
      <md-button class="md-primary md-raised" ng-click="vm.save($event)"
                 ng-disabled="vm.saveDisable"
                 ng-class="{'md-formdirty': vm.checkFormDirty(vm.partForm,null)}">Add to Operation</md-button>
    </md-dialog-actions>
  </form>
</md-dialog>
