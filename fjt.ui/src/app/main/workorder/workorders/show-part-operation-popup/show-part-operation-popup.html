<md-dialog aria-label="Part" class="operation-pop-main  cm-custom-label-common" draggable>
  <form name="vm.partForm" cg-busy="{promise:vm.cgBusyLoading}">
    <md-toolbar>
      <div class="md-toolbar-tools">
        <h2>Operation List</h2>
        <span flex></span>
        <popup-header-label label-data="vm.headerdata"></popup-header-label>
        <md-button class="md-icon-button" ng-click="vm.cancel()">
          <md-icon role="img" md-font-icon="icon-close" class="material-icons mat-icon icon-close"></md-icon>
        </md-button>
      </div>
    </md-toolbar>
    <md-dialog-content class="customer-modal no-padding custom-scroll">
      <md-content class="padding-10 opertaion-list-content" layout="column" layout-gt-xs="row">
        <div flex="100">
          <div flex="100" flex-xs="100" layout="row" layout-wrap>
            <div flex="100" flex-xs="100" layout="row" layout-align="end end">
              <md-button class="md-primary md-raised mh-0 margin-top-0 md-ink-ripple"
                         ng-click="vm.AddNewOperationToPart($event)"
                         ng-disabled="vm.data.isWoInSpecificStatusNotAllowedToChange">
                Add Operation
              </md-button>
            </div>
            <div flex="100" flex-xs="100" layout="row" class="mobilesearch userpermissionhead">
              <md-input-container class="md-block error-none no-label" md-no-float flex flex-xs="75" ng-class="{'clickedsearch':isButtonclicked}">
                <input id="SearchPartOperationText" type="text"
                       placeholder="Type here to search operations" ng-model="vm.SearchPartOperationText"
                       ng-keyup="vm.SearchOperation(vm.PartOperationList, vm.SearchPartOperationText)"
                       custom-blur="vm.SearchOperation(vm.PartOperationList, vm.SearchPartOperationText)">
              </md-input-container>
              <md-button class="md-raised md-primary md-ink-ripple margin-0"
                         ng-disabled="!vm.SearchPartOperationText"
                         ng-click="vm.SearchPartOperationText=''; vm.SearchOperation(vm.PartOperationList, vm.SearchPartOperationText)">
                Clear
              </md-button>
            </div>
            <div class="price-tables manage-standard custom-scroll permissiontab dragbox" flex="100" layout="row" layout-wrap ng-if="vm.PartOperationList.length > 0">
              <div class="style-1 md-whiteframe-1dp" layout="column" flex="100">
                <md-list class="operation-popup">
                  <md-list-item ng-repeat="operation in vm.PartOperationList | orderBy: 'opNumber'" layout="row" layout-align="space-between center">
                    <div flex class="text-main">
                      <a class="cm-text-decoration" ng-click="vm.goToManageOperation(operation.opID);">
                        {{ operation.opName }}
                      </a>
                    </div>
                    <span>
                      <operation-flux-type-icon flux-type="operation.fluxTypeList"></operation-flux-type-icon>
                    </span>
                    <md-button class="margin-0 md-warn md-raised" aria-label="Delete Operation"
                               ng-click="vm.DeleteOperationFromWorkorder(operation,$event)"
                               ng-disabled="vm.data.isWoInSpecificStatusNotAllowedToChange">
                      Remove
                    </md-button>
                  </md-list-item>
                </md-list>
              </div>
            </div>
            <div class="empty-state text-center full-height" flex="100" layout="row" layout-align="center center" layout-wrap ng-if="vm.PartOperationList.length == 0">
              <div class="emty-icon" flex="100">
                <img ng-src="{{vm.EmptyMesssageOperation.IMAGEURL}}" />
              </div>
              <p class="empty-state-title font-size-2 useadded-emptytxt" flex="100" ng-if="vm.SearchPartOperationText == null && vm.PartOperationList.length == 0">
                {{vm.EmptyMesssageOperation.NO_SELECTED}}
              </p>
              <p class="empty-state-title font-size-2 useadded-emptytxt" flex="100" ng-if="vm.SearchPartOperationText != null && vm.FilterPartOperationList != true">
                {{vm.EmptyMesssageOperation.EMPTY_SEARCH_MESSAGE}}
              </p>
            </div>
          </div>
        </div>
      </md-content>
    </md-dialog-content>
    <md-dialog-actions layout="row" layout-align="end end">
      <md-button class="md-default md-raised" ng-click="vm.cancel()">Close</md-button>
    </md-dialog-actions>
  </form>
</md-dialog>
