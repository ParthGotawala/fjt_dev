<md-dialog class="operation-pop-main cm-wo-halt-noti-popup cm-custom-label-common max-height-95p" cg-busy="{promise:vm.cgBusyLoading}" draggable>
  <md-toolbar>
    <div class="md-toolbar-tools" layout="row" layout-align="space-between center">
      <h2>Acknowledgment History</h2>
      <span flex></span>
      <div layout="row" layout-align="center center">
        <popup-header-label label-data="vm.headerdata"></popup-header-label>
      </div>
      <md-button class="md-icon-button" ng-click="vm.cancel()">
        <md-icon role="img" md-font-icon="icon-close" class="material-icons mat-icon icon-close"></md-icon>
      </md-button>
    </div>
  </md-toolbar>
  <md-dialog-content class="customer-modal p-5 max-height-fit-content" layout="column">
    <md-content class="custom-scroll">
      <!-- Resume Notification Receivers -->
      <div layout="column" flex="100" ng-if="vm.holdResumeHistoryData.resumeReason" class="mb-10">
        <div layout="row" flex="100" class="cm-section-main">
          <div layout="column" flex="100" class="work-order-bg-main cm-section-inner">
            <table width="100%" class="cm-table-input-main">
              <tr>
                <th>
                  <p class="label-container color-blue">
                    Resumed Reason:
                  </p>
                </th>
                <td class="padding-top-4 height-30 text-bold" colspan="{{vm.holdResumeHistoryData.resumeReason ? 3 : 1}}">
                  <span class="value">
                    {{vm.holdResumeHistoryData.resumeReason}}
                  </span>
                </td>
                <th ng-if="vm.holdResumeHistoryData.OperationName">
                  <p class="label-container color-blue">
                    Operation Name:
                  </p>
                </th>
                <td class="padding-top-4 height-30 text-bold" ng-if="vm.holdResumeHistoryData.OperationName">
                  <span class="value">
                    <a tabindex="-1" class="cm-text-decoration cursor-pointer" ng-click="vm.goToWorkorderOperationDetails();">
                      {{vm.holdResumeHistoryData.OperationName}}
                    </a>
                  </span>
                </td>
              </tr>
              <tr>
                <th>
                  <p class="label-container color-blue">
                    Resumed Date:
                  </p>
                </th>
                <td class="padding-top-4 height-30 text-bold width-130">
                  <span class="value">{{vm.holdResumeHistoryData.convertedResumeDate}}</span>
                </td>
                <th class="width-120">
                  <p class="label-container color-blue">
                    Resumed By:
                  </p>
                </th>
                <td class="padding-top-4 height-30 text-bold">
                  <span class="value">{{vm.holdResumeHistoryData.unHoldEmployeeName}}</span>
                </td>
              </tr>
            </table>
            <md-card layout="column" flex
                     layout-align="space-between stretch"
                     class="margin-0"
                     ng-show="!vm.isNoDataFoundForResume">
              <div flex="100" layout="row" layout-wrap class="">
                <div flex="100" layout="row" class="cm-section-header" layout-align="space-between center">
                  <h2>Resume Notification Receivers</h2>
                </div>
                <div class="overflow-auto-rs cm-overflow-auto" flex="100" layout-wrap layout="row">
                  <ui-grid-extention flex="100" load-data="vm.loadDataForResume"
                                     grid-id="vm.gridConfig.gridWOResumeNotificationReceiver"
                                     grid-option="vm.gridOptionsForResume"
                                     header="vm.sourceHeaderForResume"
                                     grid-data="vm.sourceDataForResume"
                                     total-data-count="vm.totalSourceDataCountForResume"
                                     reset-grid="vm.resetSourceGridForResume"
                                     selectted-rows="vm.selectedRowsListForResume"
                                     paging-info="vm.pagingInfoForResume"
                                     current-item="vm.currentdataForResume"
                                     get-data-down="vm.getDataDownForResume"
                                     empty-state="vm.emptyStateForResume"
                                     delete-multiple-data="vm.deleteMultipleDataForResume">
                </div>
              </div>
            </md-card>
            <div class="empty-state text-center full-height"
                 flex="100" layout="row"
                 layout-align="center center"
                 layout-wrap ng-if="vm.isNoDataFoundForResume == true">
              <div class="emty-icon" flex="100">
                <img ng-src="{{vm.EmptyMesssage.IMAGEURL}}" />
              </div>
              <p flex="100" class="empty-state-title">{{vm.EmptyMesssage.MESSAGE}}</p>
            </div>
          </div>
        </div>
      </div>
      <!-- Halt Notification Receivers -->
      <div layout="row" flex="100" class="cm-section-main">
        <div layout="column" flex="100" class="work-order-bg-main cm-section-inner">
          <table width="100%" class="cm-table-input-main">
            <tr>
              <th>
                <p class="label-container color-blue">
                  Halted Reason:
                </p>
              </th>
              <td class="padding-top-4 height-30 text-bold" colspan="{{vm.holdResumeHistoryData.reason ? 3 : 1}}">
                <span class="value">
                  {{vm.holdResumeHistoryData.reason}}
                </span>
              </td>
              <th ng-if="vm.holdResumeHistoryData.OperationName">
                <p class="label-container color-blue">
                  Operation Name:
                </p>
              </th>
              <td class="padding-top-4 height-30 text-bold" ng-if="vm.holdResumeHistoryData.OperationName">
                <span class="value">
                  <a tabindex="-1" class="cm-text-decoration cursor-pointer" ng-click="vm.goToWorkorderOperationDetails();">
                    {{vm.holdResumeHistoryData.OperationName}}
                  </a>
                </span>
              </td>
            </tr>
            <tr>
              <th>
                <p class="label-container color-blue">
                  Halted Date:
                </p>
              </th>
              <td class="padding-top-4 height-30 text-bold width-130">
                <span class="value">{{vm.holdResumeHistoryData.convertedHaltDate}}</span>
              </td>
              <th class="width-110">
                <p class="label-container color-blue">
                  Halted By:
                </p>
              </th>
              <td class="padding-top-4 height-30 text-bold">
                <span class="value">{{vm.holdResumeHistoryData.holdEmployeeName}}</span>
              </td>
            </tr>
          </table>
          <md-card layout="column" flex
                   layout-align="space-between stretch"
                   class="margin-0"
                   ng-show="!vm.isNoDataFoundForHalt">
            <div flex="100" layout="row" layout-wrap class="">
              <div flex="100" layout="row" class="cm-section-header" layout-align="space-between center">
                <h2>Halt Notification Receivers</h2>
              </div>
              <div class="overflow-auto-rs cm-overflow-auto" flex="100" layout-wrap layout="row">
                <ui-grid-extention flex="100" load-data="vm.loadDataForHalt"
                                   grid-id="vm.gridConfig.gridWOHaltNotificationReceiver"
                                   grid-option="vm.gridOptionsForHalt"
                                   header="vm.sourceHeaderForHalt"
                                   grid-data="vm.sourceDataForHalt"
                                   total-data-count="vm.totalSourceDataCountForHalt"
                                   reset-grid="vm.resetSourceGridForHalt"
                                   selectted-rows="vm.selectedRowsListForHalt"
                                   paging-info="vm.pagingInfoForHalt"
                                   current-item="vm.currentdataForHalt"
                                   get-data-down="vm.getDataDownForHalt"
                                   empty-state="vm.emptyStateForHalt"
                                   delete-multiple-data="vm.deleteMultipleDataForHalt">
              </div>
            </div>
          </md-card>
          <div class="empty-state text-center full-height"
               flex="100" layout="row"
               layout-align="center center"
               layout-wrap ng-if="vm.isNoDataFoundForHalt == true">
            <div class="emty-icon" flex="100">
              <img ng-src="{{vm.EmptyMesssage.IMAGEURL}}" />
            </div>
            <p flex="100" class="empty-state-title">{{vm.EmptyMesssage.MESSAGE}}</p>
          </div>
        </div>
      </div>

    </md-content>
  </md-dialog-content>
  <md-dialog-actions layout="row">
    <md-button class="md-default md-raised" ng-click="vm.cancel()">CLOSE</md-button>
  </md-dialog-actions>
</md-dialog>
