<md-dialog aria-label="report" class="max-height-90p" cg-busy="{promise:vm.cgBusyLoading}" flex="50" draggable>
  <form name="vm.ReportByEntityForm" novalidate>
    <md-toolbar>
      <div class="md-toolbar-tools" layout="row" layout-align="space-between center">
        <h2>Reports</h2>
        <span flex></span>
        <popup-header-label label-data="vm.headerdata"></popup-header-label>
        <div flex="none">
          <md-button class="md-primary md-raised md-ink-ripple mr-0" ng-disabled="!vm.enableAddReportFeature" ng-click="vm.copyUpdateReport(null,false,event)">
            Add Report
          </md-button>
        </div>
        <md-button class="md-icon-button" ng-click="vm.cancel()">
          <md-icon role="img" md-font-icon="icon-close" class="material-icons mat-icon icon-close"></md-icon>
        </md-button>
      </div>
    </md-toolbar>

    <md-dialog-content class="no-padding custom-scroll cm-custom-label-common md-inline-form">
      <md-content class="md-padding">
        <div layout="row" class="padding-10 pr-5-imp">
          <div class="cm-section-main border-0" flex="100">
            <div class="cm-section-inner">
              <div class="empty-state text-center full-height" flex="100" layout="row" layout-align="center center" layout-wrap
                   ng-if="vm.isNoDataFound">
                <div class="empty-state full-height">
                  <div class="emty-icon" flex="100">
                    <img ng-src="{{vm.EmptyMesssage.IMAGEURL}}" />
                  </div>
                  <p flex="100" class="empty-state-title">{{vm.EmptyMesssage.MESSAGE}}</p>
                </div>
              </div>
              <div>
                <md-radio-group ng-model="vm.selectedReportId" ng-change="vm.selectReport(item)">
                  <table md-table class="" ng-if="!vm.isNoDataFound">
                    <thead md-head>
                      <tr class="" md-row>
                        <th md-column class="text-center w-100">Select</th>
                        <th md-column>Action</th>
                        <th md-column>Report Name</th>
                        <th md-column>Staus</th>
                        <th md-column class="text-center w-100">Delete</th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr ng-repeat="item in vm.entityReportList" class="">
                        <td class="text-center">
                          <md-radio-button flex ng-value="item.id" class="md-primary">
                          </md-radio-button>
                          </td>
                        <td>
                          <md-button class="md-primary md-icon-button bdrbtn" ng-click="vm.copyUpdateReport(item,false,$event)">
                            <md-icon role="img" md-font-icon="icon-pencil" class=""></md-icon>
                            <md-tooltip md-direction="top">Update Report</md-tooltip>
                          </md-button>

                          <md-button class="md-primary md-icon-button bdrbtn" ng-click="vm.designReport(item,$event)"
                                     ng-class="{'item-disabled' : item.reportGenerationType === vm.CORE_REPORT_CATEGORY.SYSTEM_GENERATED_REPORT}"
                                     ng-disabled="item.reportGenerationType === vm.CORE_REPORT_CATEGORY.SYSTEM_GENERATED_REPORT">
                            <md-icon role="img" md-font-icon="icon-library-books" class=""></md-icon>
                            <md-tooltip md-direction="top">Edit Report Design</md-tooltip>
                          </md-button>

                          <md-button class="md-primary md-icon-button bdrbtn" ng-click="vm.copyUpdateReport(item,true,$event)">
                            <md-icon role="img" md-font-icon="icon-content-copy" class=""></md-icon>
                            <md-tooltip md-direction="top">Create Copy</md-tooltip>
                          </md-button>
                        </td>
                        <td>{{item.reportName}}</td>
                        <td><span class="label-box" ng-class="vm.getReportStatusClassName(item.status)">{{item.status === "P" ? "Published" : "Draft"}}</span></td>
                        <td class="text-center pr-24">
                          <md-button class="md-primary md-icon-button bdrbtn" ng-click="vm.deleteReport(item,$event)"
                                     ng-class="{'item-disabled' : item.reportGenerationType === vm.CORE_REPORT_CATEGORY.SYSTEM_GENERATED_REPORT}"
                                     ng-disabled="item.reportGenerationType === vm.CORE_REPORT_CATEGORY.SYSTEM_GENERATED_REPORT">
                            <md-icon role="img" md-font-icon="icon-trash" class=""></md-icon>
                            <md-tooltip md-direction="top">Delete</md-tooltip>
                          </md-button>
                        </td>
                      </tr>
                    </tbody>
                  </table>
                </md-radio-group>
              </div>
            </div>
          </div>
        </div>
      </md-content>

    </md-dialog-content>
    <md-dialog-actions layout="row" class="height-50">
      <md-button class="md-default md-raised" ng-click="vm.cancel()">Cancel</md-button>
      <md-button class="md-primary md-raised" ng-if="!vm.isNoDataFound" id="downloadReport" ng-click="vm.clickCancel=true; vm.previewReport(true)" aria-label="Submit" ng-disabled="vm.selectedReport ? false : true">Download</md-button>
      <md-button class="md-primary md-raised" ng-if="!vm.isNoDataFound" id="previewReport" ng-click="vm.clickCancel=true; vm.previewReport(fasle)" aria-label="Submit" ng-disabled="vm.selectedReport ? false : true">Preview</md-button>
    </md-dialog-actions>
  </form>
</md-dialog>
