<md-dialog draggable class="cm-custom-label-common uid-verification-failed-popup">
  <form name="vm.VerificationFailed">
    <md-toolbar>
      <div class="md-toolbar-tools">
        <h2>Invalid Scan! Call Superior</h2>
        <span flex></span>
        <popup-header-label label-data="vm.headerdata"></popup-header-label>
      </div>
    </md-toolbar>
    <md-dialog-content class="padding-10">
      <div flex="100">
        <div flex="100" layout="row">
          <p ng-if="vm.FeederDet.feederScan.errorText">
            <label class="feeder-scan-message" ng-bind-html="vm.FeederDet.feederScan.errorText"></label><br />
            <label>Contact superior to unlock screen.</label><br /><br />
          </p>
        </div>
        <div flex="100" layout="row">
          <p class="mismatch-uid-text" ng-if="vm.FeederDet.uidVerificationDet.verificationType == vm.verificationType.FeederFirst">
            <span ng-show="vm.FeederDet.uidVerificationDet.scanString1">Feeder: <label>{{vm.FeederDet.uidVerificationDet.scanString1}}</label> <span class="invalid" ng-if="vm.FeederDet.uidVerificationDet.scanString1MFGPNID">, {{vm.LabelConstant.MFG.MFGPN}}: <label>{{vm.FeederDet.uidVerificationDet.scanString1MFGPNID}}</label> </span><br /></span>
            <span ng-show="vm.FeederDet.uidVerificationDet.scanString2">UMID: <label>{{vm.FeederDet.uidVerificationDet.scanString2}}</label> <span class="invalid" ng-if="vm.FeederDet.uidVerificationDet.scanString2MFGPNID">, {{vm.LabelConstant.MFG.MFGPN}}: <label>{{vm.FeederDet.uidVerificationDet.scanString2MFGPNID}}</label> </span><br /><br /></span>
          </p>
          <p class="mismatch-uid-text" ng-if="vm.FeederDet.uidVerificationDet.verificationType == vm.verificationType.UMIDFirst">
            <span ng-show="vm.FeederDet.uidVerificationDet.scanString1">UMID: <label>{{vm.FeederDet.uidVerificationDet.scanString1}}</label> <span class="invalid" ng-if="vm.FeederDet.uidVerificationDet.scanString1MFGPNID">, {{vm.LabelConstant.MFG.MFGPN}}: <label>{{vm.FeederDet.uidVerificationDet.scanString1MFGPNID}}</label> </span><br /><br /></span>
            <span ng-show="vm.FeederDet.uidVerificationDet.scanString2">Feeder: <label>{{vm.FeederDet.uidVerificationDet.scanString2}}</label> <span class="invalid" ng-if="vm.FeederDet.uidVerificationDet.scanString2MFGPNID">, {{vm.LabelConstant.MFG.MFGPN}}: <label>{{vm.FeederDet.uidVerificationDet.scanString2MFGPNID}}</label> </span><br /></span>
          </p>
        </div>
        <!--<div flex="100" layout="row">
            <p class="mismatch-uid-text" ng-if="vm.FeederDet.uidVerificationDet.scanString1 && vm.FeederDet.uidVerificationDet.scanString2">Mismatch found for&nbsp;<label>{{vm.FeederDet.feederScan.type}}</label>&nbsp;with scan labels&nbsp;<label>{{vm.FeederDet.feederScan.feederLocation}}</label>&nbsp;and&nbsp;<label>{{vm.FeederDet.feederScan.umid}}</label>.</p>
        </div>-->
        <div flex="100" layout="row" layout-align="center center" class="text-center btn-sec-unlockscreen" ng-if="!vm.showUnlockConfig">
          <md-button class="md-btn md-primary md-raised margin-right-0" ng-click="vm.unlockScreen()">Unlock</md-button>
        </div>
        <div layout="row" flex="100" ng-if="vm.showUnlockConfig" layout-wrap layout-align="center center">
          <div class="cm-section-main" flex="100">
            <div class="cm-section-inner">
              <table cellpadding="0" cellspacing="0" class="cm-table-input-main">
                <tbody>
                  <tr>
                    <th>
                      <p class="label-container">User ID<span>&nbsp;*</span></p>
                    </th>
                    <td>
                      <md-input-container flex="100" class="md-block">
                        <input type="text" id="username" name="username" ng-model="vm.unlockUserDet.username" required ng-maxlength="50" placeholder="User ID" md-autofocus>
                        <div ng-messages="vm.VerificationFailed.username.$error" role="alert">
                          <div ng-message="required">
                            <span>{{vm.CORE_MESSAGE_CONSTANT.REQUIRED}}</span>
                          </div>
                          <div ng-message="maxlength">
                            <span>{{vm.getMaxLengthValidation(50,vm.VerificationFailed.username.$viewValue.length)}}</span>
                          </div>
                        </div>
                      </md-input-container>
                    </td>
                    <th>
                      <p class="label-container">Password<span>&nbsp;*</span></p>
                    </th>
                    <td class="cm-employee-manage-password">
                      <md-input-container class="md-block pos-rel" flex="100">
                        <input type="{{vm.showPassword ? 'text' : 'password'}}" name="password" ng-model="vm.unlockUserDet.password" required ng-maxlength="50" placeholder="Password" ng-keypress="vm.showPassword=false">
                        <md-button tabindex="-1" ng-if="vm.VerificationFailed.password.$viewValue && vm.showPassword" md-font-icon="icon-eye-off" class="md-warn md-hue-1 margin-0 md-button ng-scope md-default-theme md-ink-ripple" ng-click="vm.showPassword = !vm.showPassword"><a>Hide</a></md-button>
                        <md-button tabindex="-1" ng-if="vm.VerificationFailed.password.$viewValue && !vm.showPassword" md-font-icon="icon-eye" class="md-warn md-hue-1 margin-0 md-button ng-scope md-default-theme md-ink-ripple" ng-click="vm.showPassword = !vm.showPassword"><a>Show</a></md-button>
                        <!--<md-icon ng-if="vm.VerificationFailed.password.$viewValue && vm.showPassword" md-font-icon="icon-eye-off" class="usdicon cm-password-eye" ng-click="vm.showPassword = !vm.showPassword"></md-icon>
                        <md-icon ng-if="vm.VerificationFailed.password.$viewValue && !vm.showPassword" md-font-icon="icon-eye" class="usdicon cm-password-eye" ng-click="vm.showPassword = !vm.showPassword"></md-icon>-->
                        <div ng-messages="vm.VerificationFailed.password.$error" role="alert">
                          <div ng-message="required">
                            <span>{{vm.CORE_MESSAGE_CONSTANT.REQUIRED}}</span>
                          </div>
                          <div ng-message="maxlength">
                            <span>{{vm.getMaxLengthValidation(50,vm.VerificationFailed.password.$viewValue.length)}}</span>
                          </div>
                        </div>
                      </md-input-container>
                    </td>
                  </tr>
                  <tr>
                    <th>
                      <p class="label-container">Reason<span>&nbsp;*</span></p>
                    </th>
                    <td colspan="3">
                      <md-input-container class="md-block" flex="100">
                        <textarea name="unLockNotes" ng-model="vm.FeederDet.uidVerificationDet.unLockNotes" required ng-maxlength="255" placeholder="Note"></textarea>
                        <div ng-messages="vm.VerificationFailed.unLockNotes.$error" role="alert">
                          <div ng-message="required">
                            <span>{{vm.CORE_MESSAGE_CONSTANT.REQUIRED}}</span>
                          </div>
                          <div ng-message="maxlength">
                            <span>{{vm.getMaxLengthValidation(50,vm.VerificationFailed.unLockNotes.$viewValue.length)}}</span>
                          </div>
                        </div>
                      </md-input-container>
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
          <!--<div flex="60">
            <md-button class="md-btn md-primary md-raised margin-0" ng-click="vm.unlockBySupervisor()" ng-disabled="vm.VerificationFailed.$invalid">
              Unlock
            </md-button>
          </div>-->
        </div>
      </div>
    </md-dialog-content>
  </form>
  <md-dialog-actions layout="row" ng-if="vm.showUnlockConfig">
    <md-button class="md-btn md-primary md-raised margin-0" ng-click="vm.unlockBySupervisor($event)" ng-disabled="vm.VerificationFailed.$invalid">
      Unlock
    </md-button>
  </md-dialog-actions>
</md-dialog>
